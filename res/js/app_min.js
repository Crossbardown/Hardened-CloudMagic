/*
 * jQuery JavaScript Library v1.5.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Feb 23 13:55:29 2011 -0500
 */
(function(a,b){function cg(a){return d.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cd(a){if(!bZ[a]){var b=d("<"+a+">").appendTo("body"),c=b.css("display");b.remove();if(c==="none"||c==="")c="block";bZ[a]=c}return bZ[a]}function cc(a,b){var c={};d.each(cb.concat.apply([],cb.slice(0,b)),function(){c[this]=a});return c}function bY(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function bX(){try{return new a.XMLHttpRequest}catch(b){}}function bW(){d(a).unload(function(){for(var a in bU)bU[a](0,1)})}function bQ(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var e=a.dataTypes,f={},g,h,i=e.length,j,k=e[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h==="string"&&(f[h.toLowerCase()]=a.converters[h]);l=k,k=e[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=f[m]||f["* "+k];if(!n){p=b;for(o in f){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=f[j[1]+" "+k];if(p){o=f[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&d.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function bP(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function bO(a,b,c,e){if(d.isArray(b)&&b.length)d.each(b,function(b,f){c||bq.test(a)?e(a,f):bO(a+"["+(typeof f==="object"||d.isArray(f)?b:"")+"]",f,c,e)});else if(c||b==null||typeof b!=="object")e(a,b);else if(d.isArray(b)||d.isEmptyObject(b))e(a,"");else for(var f in b)bO(a+"["+f+"]",b[f],c,e)}function bN(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bH,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l==="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=bN(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=bN(a,c,d,e,"*",g));return l}function bM(a){return function(b,c){typeof b!=="string"&&(c=b,b="*");if(d.isFunction(c)){var e=b.toLowerCase().split(bB),f=0,g=e.length,h,i,j;for(;f<g;f++)h=e[f],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bo(a,b,c){var e=b==="width"?bi:bj,f=b==="width"?a.offsetWidth:a.offsetHeight;if(c==="border")return f;d.each(e,function(){c||(f-=parseFloat(d.css(a,"padding"+this))||0),c==="margin"?f+=parseFloat(d.css(a,"margin"+this))||0:f-=parseFloat(d.css(a,"border"+this+"Width"))||0});return f}function ba(a,b){b.src?d.ajax({url:b.src,async:!1,dataType:"script"}):d.globalEval(b.text||b.textContent||b.innerHTML||""),b.parentNode&&b.parentNode.removeChild(b)}function _(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function $(a,b){if(b.nodeType===1){var c=b.nodeName.toLowerCase();b.clearAttributes(),b.mergeAttributes(a);if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(d.expando)}}function Z(a,b){if(b.nodeType===1&&d.hasData(a)){var c=d.expando,e=d.data(a),f=d.data(b,e);if(e=e[c]){var g=e.events;f=f[c]=d.extend({},e);if(g){delete f.handle,f.events={};for(var h in g)for(var i=0,j=g[h].length;i<j;i++)d.event.add(b,h+(g[h][i].namespace?".":"")+g[h][i].namespace,g[h][i],g[h][i].data)}}}}function Y(a,b){return d.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function O(a,b,c){if(d.isFunction(b))return d.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return d.grep(a,function(a,d){return a===b===c});if(typeof b==="string"){var e=d.grep(a,function(a){return a.nodeType===1});if(J.test(b))return d.filter(b,e,!c);b=d.filter(b,e)}return d.grep(a,function(a,e){return d.inArray(a,b)>=0===c})}function N(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function F(a,b){return(a&&a!=="*"?a+".":"")+b.replace(r,"`").replace(s,"&")}function E(a){var b,c,e,f,g,h,i,j,k,l,m,n,o,q=[],r=[],s=d._data(this,"events");if(a.liveFired!==this&&s&&s.live&&!a.target.disabled&&(!a.button||a.type!=="click")){a.namespace&&(n=new RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")),a.liveFired=this;var t=s.live.slice(0);for(i=0;i<t.length;i++)g=t[i],g.origType.replace(p,"")===a.type?r.push(g.selector):t.splice(i--,1);f=d(a.target).closest(r,a.currentTarget);for(j=0,k=f.length;j<k;j++){m=f[j];for(i=0;i<t.length;i++){g=t[i];if(m.selector===g.selector&&(!n||n.test(g.namespace))&&!m.elem.disabled){h=m.elem,e=null;if(g.preType==="mouseenter"||g.preType==="mouseleave")a.type=g.preType,e=d(a.relatedTarget).closest(g.selector)[0];(!e||e!==h)&&q.push({elem:h,handleObj:g,level:m.level})}}}for(j=0,k=q.length;j<k;j++){f=q[j];if(c&&f.level>c)break;a.currentTarget=f.elem,a.data=f.handleObj.data,a.handleObj=f.handleObj,o=f.handleObj.origHandler.apply(f.elem,arguments);if(o===!1||a.isPropagationStopped()){c=f.level,o===!1&&(b=!1);if(a.isImmediatePropagationStopped())break}}return b}}function C(a,c,e){var f=d.extend({},e[0]);f.type=a,f.originalEvent={},f.liveFired=b,d.event.handle.call(c,f),f.isDefaultPrevented()&&e[0].preventDefault()}function w(){return!0}function v(){return!1}function g(a){for(var b in a)if(b!=="toJSON")return!1;return!0}function f(a,c,f){if(f===b&&a.nodeType===1){f=a.getAttribute("data-"+c);if(typeof f==="string"){try{f=f==="true"?!0:f==="false"?!1:f==="null"?null:d.isNaN(f)?e.test(f)?d.parseJSON(f):f:parseFloat(f)}catch(g){}d.data(a,c,f)}else f=b}return f}var c=a.document,d=function(){function I(){if(!d.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(I,1);return}d.ready()}}var d=function(a,b){return new d.fn.init(a,b,g)},e=a.jQuery,f=a.$,g,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,i=/\S/,j=/^\s+/,k=/\s+$/,l=/\d/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=navigator.userAgent,w,x=!1,y,z="then done fail isResolved isRejected promise".split(" "),A,B=Object.prototype.toString,C=Object.prototype.hasOwnProperty,D=Array.prototype.push,E=Array.prototype.slice,F=String.prototype.trim,G=Array.prototype.indexOf,H={};d.fn=d.prototype={constructor:d,init:function(a,e,f){var g,i,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!e&&c.body){this.context=c,this[0]=c.body,this.selector="body",this.length=1;return this}if(typeof a==="string"){g=h.exec(a);if(!g||!g[1]&&e)return!e||e.jquery?(e||f).find(a):this.constructor(e).find(a);if(g[1]){e=e instanceof d?e[0]:e,k=e?e.ownerDocument||e:c,j=m.exec(a),j?d.isPlainObject(e)?(a=[c.createElement(j[1])],d.fn.attr.call(a,e,!0)):a=[k.createElement(j[1])]:(j=d.buildFragment([g[1]],[k]),a=(j.cacheable?d.clone(j.fragment):j.fragment).childNodes);return d.merge(this,a)}i=c.getElementById(g[2]);if(i&&i.parentNode){if(i.id!==g[2])return f.find(a);this.length=1,this[0]=i}this.context=c,this.selector=a;return this}if(d.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return d.makeArray(a,this)},selector:"",jquery:"1.5.1",length:0,size:function(){return this.length},toArray:function(){return E.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var e=this.constructor();d.isArray(a)?D.apply(e,a):d.merge(e,a),e.prevObject=this,e.context=this.context,b==="find"?e.selector=this.selector+(this.selector?" ":"")+c:b&&(e.selector=this.selector+"."+b+"("+c+")");return e},each:function(a,b){return d.each(this,a,b)},ready:function(a){d.bindReady(),y.done(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(E.apply(this,arguments),"slice",E.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:D,sort:[].sort,splice:[].splice},d.fn.init.prototype=d.fn,d.extend=d.fn.extend=function(){var a,c,e,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i==="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!=="object"&&!d.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){e=i[c],f=a[c];if(i===f)continue;l&&f&&(d.isPlainObject(f)||(g=d.isArray(f)))?(g?(g=!1,h=e&&d.isArray(e)?e:[]):h=e&&d.isPlainObject(e)?e:{},i[c]=d.extend(l,h,f)):f!==b&&(i[c]=f)}return i},d.extend({noConflict:function(b){a.$=f,b&&(a.jQuery=e);return d},isReady:!1,readyWait:1,ready:function(a){a===!0&&d.readyWait--;if(!d.readyWait||a!==!0&&!d.isReady){if(!c.body)return setTimeout(d.ready,1);d.isReady=!0;if(a!==!0&&--d.readyWait>0)return;y.resolveWith(c,[d]),d.fn.trigger&&d(c).trigger("ready").unbind("ready")}},bindReady:function(){if(!x){x=!0;if(c.readyState==="complete")return setTimeout(d.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",A,!1),a.addEventListener("load",d.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",A),a.attachEvent("onload",d.ready);var b=!1;try{b=a.frameElement==null}catch(e){}c.documentElement.doScroll&&b&&I()}}},isFunction:function(a){return d.type(a)==="function"},isArray:Array.isArray||function(a){return d.type(a)==="array"},isWindow:function(a){return a&&typeof a==="object"&&"setInterval"in a},isNaN:function(a){return a==null||!l.test(a)||isNaN(a)},type:function(a){return a==null?String(a):H[B.call(a)]||"object"},isPlainObject:function(a){if(!a||d.type(a)!=="object"||a.nodeType||d.isWindow(a))return!1;if(a.constructor&&!C.call(a,"constructor")&&!C.call(a.constructor.prototype,"isPrototypeOf"))return!1;var c;for(c in a){}return c===b||C.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a},parseJSON:function(b){if(typeof b!=="string"||!b)return null;b=d.trim(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return a.JSON&&a.JSON.parse?a.JSON.parse(b):(new Function("return "+b))();d.error("Invalid JSON: "+b)},parseXML:function(b,c,e){a.DOMParser?(e=new DOMParser,c=e.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b)),e=c.documentElement,(!e||!e.nodeName||e.nodeName==="parsererror")&&d.error("Invalid XML: "+b);return c},noop:function(){},globalEval:function(a){if(a&&i.test(a)){var b=c.head||c.getElementsByTagName("head")[0]||c.documentElement,e=c.createElement("script");d.support.scriptEval()?e.appendChild(c.createTextNode(a)):e.text=a,b.insertBefore(e,b.firstChild),b.removeChild(e)}},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,e){var f,g=0,h=a.length,i=h===b||d.isFunction(a);if(e){if(i){for(f in a)if(c.apply(a[f],e)===!1)break}else for(;g<h;)if(c.apply(a[g++],e)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(var j=a[0];g<h&&c.call(j,g,j)!==!1;j=a[++g]){}return a},trim:F?function(a){return a==null?"":F.call(a)}:function(a){return a==null?"":(a+"").replace(j,"").replace(k,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var e=d.type(a);a.length==null||e==="string"||e==="function"||e==="regexp"||d.isWindow(a)?D.call(c,a):d.merge(c,a)}return c},inArray:function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length==="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,b,c){var d=[],e;for(var f=0,g=a.length;f<g;f++)e=b(a[f],f,c),e!=null&&(d[d.length]=e);return d.concat.apply([],d)},guid:1,proxy:function(a,c,e){arguments.length===2&&(typeof c==="string"?(e=a,a=e[c],c=b):c&&!d.isFunction(c)&&(e=c,c=b)),!c&&a&&(c=function(){return a.apply(e||this,arguments)}),a&&(c.guid=a.guid=a.guid||c.guid||d.guid++);return c},access:function(a,c,e,f,g,h){var i=a.length;if(typeof c==="object"){for(var j in c)d.access(a,j,c[j],f,g,e);return a}if(e!==b){f=!h&&f&&d.isFunction(e);for(var k=0;k<i;k++)g(a[k],c,f?e.call(a[k],k,g(a[k],c)):e,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},_Deferred:function(){var a=[],b,c,e,f={done:function(){if(!e){var c=arguments,g,h,i,j,k;b&&(k=b,b=0);for(g=0,h=c.length;g<h;g++)i=c[g],j=d.type(i),j==="array"?f.done.apply(f,i):j==="function"&&a.push(i);k&&f.resolveWith(k[0],k[1])}return this},resolveWith:function(d,f){if(!e&&!b&&!c){c=1;try{while(a[0])a.shift().apply(d,f)}catch(g){throw g}finally{b=[d,f],c=0}}return this},resolve:function(){f.resolveWith(d.isFunction(this.promise)?this.promise():this,arguments);return this},isResolved:function(){return c||b},cancel:function(){e=1,a=[];return this}};return f},Deferred:function(a){var b=d._Deferred(),c=d._Deferred(),e;d.extend(b,{then:function(a,c){b.done(a).fail(c);return this},fail:c.done,rejectWith:c.resolveWith,reject:c.resolve,isRejected:c.isResolved,promise:function(a){if(a==null){if(e)return e;e=a={}}var c=z.length;while(c--)a[z[c]]=b[z[c]];return a}}),b.done(c.cancel).fail(b.cancel),delete b.cancel,a&&a.call(b,b);return b},when:function(a){var b=arguments.length,c=b<=1&&a&&d.isFunction(a.promise)?a:d.Deferred(),e=c.promise();if(b>1){var f=E.call(arguments,0),g=b,h=function(a){return function(b){f[a]=arguments.length>1?E.call(arguments,0):b,--g||c.resolveWith(e,f)}};while(b--)a=f[b],a&&d.isFunction(a.promise)?a.promise().then(h(b),c.reject):--g;g||c.resolveWith(e,f)}else c!==a&&c.resolve(a);return e},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}d.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.subclass=this.subclass,a.fn.init=function b(b,c){c&&c instanceof d&&!(c instanceof a)&&(c=a(c));return d.fn.init.call(this,b,c,e)},a.fn.init.prototype=a.fn;var e=a(c);return a},browser:{}}),y=d._Deferred(),d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){H["[object "+b+"]"]=b.toLowerCase()}),w=d.uaMatch(v),w.browser&&(d.browser[w.browser]=!0,d.browser.version=w.version),d.browser.webkit&&(d.browser.safari=!0),G&&(d.inArray=function(a,b){return G.call(b,a)}),i.test("Â ")&&(j=/^[\s\xA0]+/,k=/[\s\xA0]+$/),g=d(c),c.addEventListener?A=function(){c.removeEventListener("DOMContentLoaded",A,!1),d.ready()}:c.attachEvent&&(A=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",A),d.ready())});return d}();(function(){d.support={};var b=c.createElement("div");b.style.display="none",b.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var e=b.getElementsByTagName("*"),f=b.getElementsByTagName("a")[0],g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=b.getElementsByTagName("input")[0];if(e&&e.length&&f){d.support={leadingWhitespace:b.firstChild.nodeType===3,tbody:!b.getElementsByTagName("tbody").length,htmlSerialize:!!b.getElementsByTagName("link").length,style:/red/.test(f.getAttribute("style")),hrefNormalized:f.getAttribute("href")==="/a",opacity:/^0.55$/.test(f.style.opacity),cssFloat:!!f.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,deleteExpando:!0,optDisabled:!1,checkClone:!1,noCloneEvent:!0,noCloneChecked:!0,boxModel:null,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableHiddenOffsets:!0},i.checked=!0,d.support.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,d.support.optDisabled=!h.disabled;var j=null;d.support.scriptEval=function(){if(j===null){var b=c.documentElement,e=c.createElement("script"),f="script"+d.now();try{e.appendChild(c.createTextNode("window."+f+"=1;"))}catch(g){}b.insertBefore(e,b.firstChild),a[f]?(j=!0,delete a[f]):j=!1,b.removeChild(e),b=e=f=null}return j};try{delete b.test}catch(k){d.support.deleteExpando=!1}!b.addEventListener&&b.attachEvent&&b.fireEvent&&(b.attachEvent("onclick",function l(){d.support.noCloneEvent=!1,b.detachEvent("onclick",l)}),b.cloneNode(!0).fireEvent("onclick")),b=c.createElement("div"),b.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var m=c.createDocumentFragment();m.appendChild(b.firstChild),d.support.checkClone=m.cloneNode(!0).cloneNode(!0).lastChild.checked,d(function(){var a=c.createElement("div"),b=c.getElementsByTagName("body")[0];if(b){a.style.width=a.style.paddingLeft="1px",b.appendChild(a),d.boxModel=d.support.boxModel=a.offsetWidth===2,"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,d.support.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",d.support.shrinkWrapBlocks=a.offsetWidth!==2),a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";var e=a.getElementsByTagName("td");d.support.reliableHiddenOffsets=e[0].offsetHeight===0,e[0].style.display="",e[1].style.display="none",d.support.reliableHiddenOffsets=d.support.reliableHiddenOffsets&&e[0].offsetHeight===0,a.innerHTML="",b.removeChild(a).style.display="none",a=e=null}});var n=function(a){var b=c.createElement("div");a="on"+a;if(!b.attachEvent)return!0;var d=a in b;d||(b.setAttribute(a,"return;"),d=typeof b[a]==="function"),b=null;return d};d.support.submitBubbles=n("submit"),d.support.changeBubbles=n("change"),b=e=f=null}})();var e=/^(?:\{.*\}|\[.*\])$/;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!g(a)},data:function(a,c,e,f){if(d.acceptData(a)){var g=d.expando,h=typeof c==="string",i,j=a.nodeType,k=j?d.cache:a,l=j?a[d.expando]:a[d.expando]&&d.expando;if((!l||f&&l&&!k[l][g])&&h&&e===b)return;l||(j?a[d.expando]=l=++d.uuid:l=d.expando),k[l]||(k[l]={},j||(k[l].toJSON=d.noop));if(typeof c==="object"||typeof c==="function")f?k[l][g]=d.extend(k[l][g],c):k[l]=d.extend(k[l],c);i=k[l],f&&(i[g]||(i[g]={}),i=i[g]),e!==b&&(i[c]=e);if(c==="events"&&!i[c])return i[g]&&i[g].events;return h?i[c]:i}},removeData:function(b,c,e){if(d.acceptData(b)){var f=d.expando,h=b.nodeType,i=h?d.cache:b,j=h?b[d.expando]:d.expando;if(!i[j])return;if(c){var k=e?i[j][f]:i[j];if(k){delete k[c];if(!g(k))return}}if(e){delete i[j][f];if(!g(i[j]))return}var l=i[j][f];d.support.deleteExpando||i!=a?delete i[j]:i[j]=null,l?(i[j]={},h||(i[j].toJSON=d.noop),i[j][f]=l):h&&(d.support.deleteExpando?delete b[d.expando]:b.removeAttribute?b.removeAttribute(d.expando):b[d.expando]=null)}},_data:function(a,b,c){return d.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=d.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),d.fn.extend({data:function(a,c){var e=null;if(typeof a==="undefined"){if(this.length){e=d.data(this[0]);if(this[0].nodeType===1){var g=this[0].attributes,h;for(var i=0,j=g.length;i<j;i++)h=g[i].name,h.indexOf("data-")===0&&(h=h.substr(5),f(this[0],h,e[h]))}}return e}if(typeof a==="object")return this.each(function(){d.data(this,a)});var k=a.split(".");k[1]=k[1]?"."+k[1]:"";if(c===b){e=this.triggerHandler("getData"+k[1]+"!",[k[0]]),e===b&&this.length&&(e=d.data(this[0],a),e=f(this[0],a,e));return e===b&&k[1]?this.data(k[0]):e}return this.each(function(){var b=d(this),e=[k[0],c];b.triggerHandler("setData"+k[1]+"!",e),d.data(this,a,c),b.triggerHandler("changeData"+k[1]+"!",e)})},removeData:function(a){return this.each(function(){d.removeData(this,a)})}}),d.extend({queue:function(a,b,c){if(a){b=(b||"fx")+"queue";var e=d._data(a,b);if(!c)return e||[];!e||d.isArray(c)?e=d._data(a,b,d.makeArray(c)):e.push(c);return e}},dequeue:function(a,b){b=b||"fx";var c=d.queue(a,b),e=c.shift();e==="inprogress"&&(e=c.shift()),e&&(b==="fx"&&c.unshift("inprogress"),e.call(a,function(){d.dequeue(a,b)})),c.length||d.removeData(a,b+"queue",!0)}}),d.fn.extend({queue:function(a,c){typeof a!=="string"&&(c=a,a="fx");if(c===b)return d.queue(this[0],a);return this.each(function(b){var e=d.queue(this,a,c);a==="fx"&&e[0]!=="inprogress"&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},delay:function(a,b){a=d.fx?d.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(){var c=this;setTimeout(function(){d.dequeue(c,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var h=/[\n\t\r]/g,i=/\s+/,j=/\r/g,k=/^(?:href|src|style)$/,l=/^(?:button|input)$/i,m=/^(?:button|input|object|select|textarea)$/i,n=/^a(?:rea)?$/i,o=/^(?:radio|checkbox)$/i;d.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"},d.fn.extend({attr:function(a,b){return d.access(this,a,b,!0,d.attr)},removeAttr:function(a,b){return this.each(function(){d.attr(this,a,""),this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(d.isFunction(a))return this.each(function(b){var c=d(this);c.addClass(a.call(this,b,c.attr("class")))});if(a&&typeof a==="string"){var b=(a||"").split(i);for(var c=0,e=this.length;c<e;c++){var f=this[c];if(f.nodeType===1)if(f.className){var g=" "+f.className+" ",h=f.className;for(var j=0,k=b.length;j<k;j++)g.indexOf(" "+b[j]+" ")<0&&(h+=" "+b[j]);f.className=d.trim(h)}else f.className=a}}return this},removeClass:function(a){if(d.isFunction(a))return this.each(function(b){var c=d(this);c.removeClass(a.call(this,b,c.attr("class")))});if(a&&typeof a==="string"||a===b){var c=(a||"").split(i);for(var e=0,f=this.length;e<f;e++){var g=this[e];if(g.nodeType===1&&g.className)if(a){var j=(" "+g.className+" ").replace(h," ");for(var k=0,l=c.length;k<l;k++)j=j.replace(" "+c[k]+" "," ");g.className=d.trim(j)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,e=typeof b==="boolean";if(d.isFunction(a))return this.each(function(c){var e=d(this);e.toggleClass(a.call(this,c,e.attr("class"),b),b)});return this.each(function(){if(c==="string"){var f,g=0,h=d(this),j=b,k=a.split(i);while(f=k[g++])j=e?j:!h.hasClass(f),h[j?"addClass":"removeClass"](f)}else if(c==="undefined"||c==="boolean")this.className&&d._data(this,"__className__",this.className),this.className=this.className||a===!1?"":d._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ";for(var c=0,d=this.length;c<d;c++)if((" "+this[c].className+" ").replace(h," ").indexOf(b)>-1)return!0;return!1},val:function(a){if(!arguments.length){var c=this[0];if(c){if(d.nodeName(c,"option")){var e=c.attributes.value;return!e||e.specified?c.value:c.text}if(d.nodeName(c,"select")){var f=c.selectedIndex,g=[],h=c.options,i=c.type==="select-one";if(f<0)return null;for(var k=i?f:0,l=i?f+1:h.length;k<l;k++){var m=h[k];if(m.selected&&(d.support.optDisabled?!m.disabled:m.getAttribute("disabled")===null)&&(!m.parentNode.disabled||!d.nodeName(m.parentNode,"optgroup"))){a=d(m).val();if(i)return a;g.push(a)}}if(i&&!g.length&&h.length)return d(h[f]).val();return g}if(o.test(c.type)&&!d.support.checkOn)return c.getAttribute("value")===null?"on":c.value;return(c.value||"").replace(j,"")}return b}var n=d.isFunction(a);return this.each(function(b){var c=d(this),e=a;if(this.nodeType===1){n&&(e=a.call(this,b,c.val())),e==null?e="":typeof e==="number"?e+="":d.isArray(e)&&(e=d.map(e,function(a){return a==null?"":a+""}));if(d.isArray(e)&&o.test(this.type))this.checked=d.inArray(c.val(),e)>=0;else if(d.nodeName(this,"select")){var f=d.makeArray(e);d("option",this).each(function(){this.selected=d.inArray(d(this).val(),f)>=0}),f.length||(this.selectedIndex=-1)}else this.value=e}})}}),d.extend({attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,e,f){if(!a||a.nodeType===3||a.nodeType===8||a.nodeType===2)return b;if(f&&c in d.attrFn)return d(a)[c](e);var g=a.nodeType!==1||!d.isXMLDoc(a),h=e!==b;c=g&&d.props[c]||c;if(a.nodeType===1){var i=k.test(c);if(c==="selected"&&!d.support.optSelected){var j=a.parentNode;j&&(j.selectedIndex,j.parentNode&&j.parentNode.selectedIndex)}if((c in a||a[c]!==b)&&g&&!i){h&&(c==="type"&&l.test(a.nodeName)&&a.parentNode&&d.error("type property can't be changed"),e===null?a.nodeType===1&&a.removeAttribute(c):a[c]=e);if(d.nodeName(a,"form")&&a.getAttributeNode(c))return a.getAttributeNode(c).nodeValue;if(c==="tabIndex"){var o=a.getAttributeNode("tabIndex");return o&&o.specified?o.value:m.test(a.nodeName)||n.test(a.nodeName)&&a.href?0:b}return a[c]}if(!d.support.style&&g&&c==="style"){h&&(a.style.cssText=""+e);return a.style.cssText}h&&a.setAttribute(c,""+e);if(!a.attributes[c]&&(a.hasAttribute&&!a.hasAttribute(c)))return b;var p=!d.support.hrefNormalized&&g&&i?a.getAttribute(c,2):a.getAttribute(c);return p===null?b:p}h&&(a[c]=e);return a[c]}});var p=/\.(.*)$/,q=/^(?:textarea|input|select)$/i,r=/\./g,s=/ /g,t=/[^\w\s.|`]/g,u=function(a){return a.replace(t,"\\$&")};d.event={add:function(c,e,f,g){if(c.nodeType!==3&&c.nodeType!==8){try{d.isWindow(c)&&(c!==a&&!c.frameElement)&&(c=a)}catch(h){}if(f===!1)f=v;else if(!f)return;var i,j;f.handler&&(i=f,f=i.handler),f.guid||(f.guid=d.guid++);var k=d._data(c);if(!k)return;var l=k.events,m=k.handle;l||(k.events=l={}),m||(k.handle=m=function(){return typeof d!=="undefined"&&!d.event.triggered?d.event.handle.apply(m.elem,arguments):b}),m.elem=c,e=e.split(" ");var n,o=0,p;while(n=e[o++]){j=i?d.extend({},i):{handler:f,data:g},n.indexOf(".")>-1?(p=n.split("."),n=p.shift(),j.namespace=p.slice(0).sort().join(".")):(p=[],j.namespace=""),j.type=n,j.guid||(j.guid=f.guid);var q=l[n],r=d.event.special[n]||{};if(!q){q=l[n]=[];if(!r.setup||r.setup.call(c,g,p,m)===!1)c.addEventListener?c.addEventListener(n,m,!1):c.attachEvent&&c.attachEvent("on"+n,m)}r.add&&(r.add.call(c,j),j.handler.guid||(j.handler.guid=f.guid)),q.push(j),d.event.global[n]=!0}c=null}},global:{},remove:function(a,c,e,f){if(a.nodeType!==3&&a.nodeType!==8){e===!1&&(e=v);var g,h,i,j,k=0,l,m,n,o,p,q,r,s=d.hasData(a)&&d._data(a),t=s&&s.events;if(!s||!t)return;c&&c.type&&(e=c.handler,c=c.type);if(!c||typeof c==="string"&&c.charAt(0)==="."){c=c||"";for(h in t)d.event.remove(a,h+c);return}c=c.split(" ");while(h=c[k++]){r=h,q=null,l=h.indexOf(".")<0,m=[],l||(m=h.split("."),h=m.shift(),n=new RegExp("(^|\\.)"+d.map(m.slice(0).sort(),u).join("\\.(?:.*\\.)?")+"(\\.|$)")),p=t[h];if(!p)continue;if(!e){for(j=0;j<p.length;j++){q=p[j];if(l||n.test(q.namespace))d.event.remove(a,r,q.handler,j),p.splice(j--,1)}continue}o=d.event.special[h]||{};for(j=f||0;j<p.length;j++){q=p[j];if(e.guid===q.guid){if(l||n.test(q.namespace))f==null&&p.splice(j--,1),o.remove&&o.remove.call(a,q);if(f!=null)break}}if(p.length===0||f!=null&&p.length===1)(!o.teardown||o.teardown.call(a,m)===!1)&&d.removeEvent(a,h,s.handle),g=null,delete t[h]}if(d.isEmptyObject(t)){var w=s.handle;w&&(w.elem=null),delete s.events,delete s.handle,d.isEmptyObject(s)&&d.removeData(a,b,!0)}}},trigger:function(a,c,e){var f=a.type||a,g=arguments[3];if(!g){a=typeof a==="object"?a[d.expando]?a:d.extend(d.Event(f),a):d.Event(f),f.indexOf("!")>=0&&(a.type=f=f.slice(0,-1),a.exclusive=!0),e||(a.stopPropagation(),d.event.global[f]&&d.each(d.cache,function(){var b=d.expando,e=this[b];e&&e.events&&e.events[f]&&d.event.trigger(a,c,e.handle.elem)}));if(!e||e.nodeType===3||e.nodeType===8)return b;a.result=b,a.target=e,c=d.makeArray(c),c.unshift(a)}a.currentTarget=e;var h=d._data(e,"handle");h&&h.apply(e,c);var i=e.parentNode||e.ownerDocument;try{e&&e.nodeName&&d.noData[e.nodeName.toLowerCase()]||e["on"+f]&&e["on"+f].apply(e,c)===!1&&(a.result=!1,a.preventDefault())}catch(j){}if(!a.isPropagationStopped()&&i)d.event.trigger(a,c,i,!0);else if(!a.isDefaultPrevented()){var k,l=a.target,m=f.replace(p,""),n=d.nodeName(l,"a")&&m==="click",o=d.event.special[m]||{};if((!o._default||o._default.call(e,a)===!1)&&!n&&!(l&&l.nodeName&&d.noData[l.nodeName.toLowerCase()])){try{l[m]&&(k=l["on"+m],k&&(l["on"+m]=null),d.event.triggered=!0,l[m]())}catch(q){}k&&(l["on"+m]=k),d.event.triggered=!1}}},handle:function(c){var e,f,g,h,i,j=[],k=d.makeArray(arguments);c=k[0]=d.event.fix(c||a.event),c.currentTarget=this,e=c.type.indexOf(".")<0&&!c.exclusive,e||(g=c.type.split("."),c.type=g.shift(),j=g.slice(0).sort(),h=new RegExp("(^|\\.)"+j.join("\\.(?:.*\\.)?")+"(\\.|$)")),c.namespace=c.namespace||j.join("."),i=d._data(this,"events"),f=(i||{})[c.type];if(i&&f){f=f.slice(0);for(var l=0,m=f.length;l<m;l++){var n=f[l];if(e||h.test(n.namespace)){c.handler=n.handler,c.data=n.data,c.handleObj=n;var o=n.handler.apply(this,k);o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()));if(c.isImmediatePropagationStopped())break}}}return c.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[d.expando])return a;var e=a;a=d.Event(e);for(var f=this.props.length,g;f;)g=this.props[--f],a[g]=e[g];a.target||(a.target=a.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(a.pageX==null&&a.clientX!=null){var h=c.documentElement,i=c.body;a.pageX=a.clientX+(h&&h.scrollLeft||i&&i.scrollLeft||0)-(h&&h.clientLeft||i&&i.clientLeft||0),a.pageY=a.clientY+(h&&h.scrollTop||i&&i.scrollTop||0)-(h&&h.clientTop||i&&i.clientTop||0)}a.which==null&&(a.charCode!=null||a.keyCode!=null)&&(a.which=a.charCode!=null?a.charCode:a.keyCode),!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey),!a.which&&a.button!==b&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1e8,proxy:d.proxy,special:{ready:{setup:d.bindReady,teardown:d.noop},live:{add:function(a){d.event.add(this,F(a.origType,a.selector),d.extend({},a,{handler:E,guid:a.handler.guid}))},remove:function(a){d.event.remove(this,F(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,c){d.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}},d.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},d.Event=function(a){if(!this.preventDefault)return new d.Event(a);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?w:v):this.type=a,this.timeStamp=d.now(),this[d.expando]=!0},d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=w;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=w;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=w,this.stopPropagation()},isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v};var x=function(a){var b=a.relatedTarget;try{if(b!==c&&!b.parentNode)return;while(b&&b!==this)b=b.parentNode;b!==this&&(a.type=a.data,d.event.handle.apply(this,arguments))}catch(e){}},y=function(a){a.type=a.data,d.event.handle.apply(this,arguments)};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){d.event.special[a]={setup:function(c){d.event.add(this,b,c&&c.selector?y:x,a)},teardown:function(a){d.event.remove(this,b,a&&a.selector?y:x)}}}),d.support.submitBubbles||(d.event.special.submit={setup:function(a,b){if(this.nodeName&&this.nodeName.toLowerCase()!=="form")d.event.add(this,"click.specialSubmit",function(a){var b=a.target,c=b.type;(c==="submit"||c==="image")&&d(b).closest("form").length&&C("submit",this,arguments)}),d.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,c=b.type;(c==="text"||c==="password")&&d(b).closest("form").length&&a.keyCode===13&&C("submit",this,arguments)});else return!1},teardown:function(a){d.event.remove(this,".specialSubmit")}});if(!d.support.changeBubbles){var z,A=function(a){var b=a.type,c=a.value;b==="radio"||b==="checkbox"?c=a.checked:b==="select-multiple"?c=a.selectedIndex>-1?d.map(a.options,function(a){return a.selected}).join("-"):"":a.nodeName.toLowerCase()==="select"&&(c=a.selectedIndex);return c},B=function B(a){var c=a.target,e,f;if(q.test(c.nodeName)&&!c.readOnly){e=d._data(c,"_change_data"),f=A(c),(a.type!=="focusout"||c.type!=="radio")&&d._data(c,"_change_data",f);if(e===b||f===e)return;if(e!=null||f)a.type="change",a.liveFired=b,d.event.trigger(a,arguments[1],c)}};d.event.special.change={filters:{focusout:B,beforedeactivate:B,click:function(a){var b=a.target,c=b.type;(c==="radio"||c==="checkbox"||b.nodeName.toLowerCase()==="select")&&B.call(this,a)},keydown:function(a){var b=a.target,c=b.type;(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(c==="checkbox"||c==="radio")||c==="select-multiple")&&B.call(this,a)},beforeactivate:function(a){var b=a.target;d._data(b,"_change_data",A(b))}},setup:function(a,b){if(this.type==="file")return!1;for(var c in z)d.event.add(this,c+".specialChange",z[c]);return q.test(this.nodeName)},teardown:function(a){d.event.remove(this,".specialChange");return q.test(this.nodeName)}},z=d.event.special.change.filters,z.focus=z.beforeactivate}c.addEventListener&&d.each({focus:"focusin",blur:"focusout"},function(a,b){function c(a){a=d.event.fix(a),a.type=b;return d.event.handle.call(this,a)}d.event.special[b]={setup:function(){this.addEventListener(a,c,!0)},teardown:function(){this.removeEventListener(a,c,!0)}}}),d.each(["bind","one"],function(a,c){d.fn[c]=function(a,e,f){if(typeof a==="object"){for(var g in a)this[c](g,e,a[g],f);return this}if(d.isFunction(e)||e===!1)f=e,e=b;var h=c==="one"?d.proxy(f,function(a){d(this).unbind(a,h);return f.apply(this,arguments)}):f;if(a==="unload"&&c!=="one")this.one(a,e,f);else for(var i=0,j=this.length;i<j;i++)d.event.add(this[i],a,h,e);return this}}),d.fn.extend({unbind:function(a,b){if(typeof a!=="object"||a.preventDefault)for(var e=0,f=this.length;e<f;e++)d.event.remove(this[e],a,b);else for(var c in a)this.unbind(c,a[c]);return this},delegate:function(a,b,c,d){return this.live(b,c,d,a)},undelegate:function(a,b,c){return arguments.length===0?this.unbind("live"):this.die(b,null,c,a)},trigger:function(a,b){return this.each(function(){d.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var c=d.Event(a);c.preventDefault(),c.stopPropagation(),d.event.trigger(c,b,this[0]);return c.result}},toggle:function(a){var b=arguments,c=1;while(c<b.length)d.proxy(a,b[c++]);return this.click(d.proxy(a,function(e){var f=(d._data(this,"lastToggle"+a.guid)||0)%c;d._data(this,"lastToggle"+a.guid,f+1),e.preventDefault();return b[f].apply(this,arguments)||!1}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var D={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};d.each(["live","die"],function(a,c){d.fn[c]=function(a,e,f,g){var h,i=0,j,k,l,m=g||this.selector,n=g?this:d(this.context);if(typeof a==="object"&&!a.preventDefault){for(var o in a)n[c](o,e,a[o],m);return this}d.isFunction(e)&&(f=e,e=b),a=(a||"").split(" ");while((h=a[i++])!=null){j=p.exec(h),k="",j&&(k=j[0],h=h.replace(p,""));if(h==="hover"){a.push("mouseenter"+k,"mouseleave"+k);continue}l=h,h==="focus"||h==="blur"?(a.push(D[h]+k),h=h+k):h=(D[h]||h)+k;if(c==="live")for(var q=0,r=n.length;q<r;q++)d.event.add(n[q],"live."+F(h,m),{data:e,selector:m,handler:f,origType:h,origHandler:f,preType:l});else n.unbind("live."+F(h,m),f)}return this}}),d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){d.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.bind(b,a,c):this.trigger(b)},d.attrFn&&(d.attrFn[b]=!0)}),function(){function u(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){var j=!1;i=i[a];while(i){if(i.sizcache===c){j=d[i.sizset];break}if(i.nodeType===1){f||(i.sizcache=c,i.sizset=g);if(typeof b!=="string"){if(i===b){j=!0;break}}else if(k.filter(b,[i]).length>0){j=i;break}}i=i[a]}d[g]=j}}}function t(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;g++){var i=d[g];if(i){var j=!1;i=i[a];while(i){if(i.sizcache===c){j=d[i.sizset];break}i.nodeType===1&&!f&&(i.sizcache=c,i.sizset=g);if(i.nodeName.toLowerCase()===b){j=i;break}i=i[a]}d[g]=j}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,g=!1,h=!0,i=/\\/g,j=/\W/;[0,0].sort(function(){h=!1;return 0});var k=function(b,d,e,g){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!=="string")return e;var i,j,n,o,q,r,s,t,u=!0,w=k.isXML(d),x=[],y=b;do{a.exec(""),i=a.exec(y);if(i){y=i[3],x.push(i[1]);if(i[2]){o=i[3];break}}}while(i);if(x.length>1&&m.exec(b))if(x.length===2&&l.relative[x[0]])j=v(x[0]+x[1],d);else{j=l.relative[x[0]]?[d]:k(x.shift(),d);while(x.length)b=x.shift(),l.relative[b]&&(b+=x.shift()),j=v(b,j)}else{!g&&x.length>1&&d.nodeType===9&&!w&&l.match.ID.test(x[0])&&!l.match.ID.test(x[x.length-1])&&(q=k.find(x.shift(),d,w),d=q.expr?k.filter(q.expr,q.set)[0]:q.set[0]);if(d){q=g?{expr:x.pop(),set:p(g)}:k.find(x.pop(),x.length===1&&(x[0]==="~"||x[0]==="+")&&d.parentNode?d.parentNode:d,w),j=q.expr?k.filter(q.expr,q.set):q.set,x.length>0?n=p(j):u=!1;while(x.length)r=x.pop(),s=r,l.relative[r]?s=x.pop():r="",s==null&&(s=d),l.relative[r](n,s,w)}else n=x=[]}n||(n=j),n||k.error(r||b);if(f.call(n)==="[object Array]")if(u)if(d&&d.nodeType===1)for(t=0;n[t]!=null;t++)n[t]&&(n[t]===!0||n[t].nodeType===1&&k.contains(d,n[t]))&&e.push(j[t]);else for(t=0;n[t]!=null;t++)n[t]&&n[t].nodeType===1&&e.push(j[t]);else e.push.apply(e,n);else p(n,e);o&&(k(o,h,e,g),k.uniqueSort(e));return e};k.uniqueSort=function(a){if(r){g=h,a.sort(r);if(g)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},k.matches=function(a,b){return k(a,null,null,b)},k.matchesSelector=function(a,b){return k(b,null,null,[a]).length>0},k.find=function(a,b,c){var d;if(!a)return[];for(var e=0,f=l.order.length;e<f;e++){var g,h=l.order[e];if(g=l.leftMatch[h].exec(a)){var j=g[1];g.splice(1,1);if(j.substr(j.length-1)!=="\\"){g[1]=(g[1]||"").replace(i,""),d=l.find[h](g,b,c);if(d!=null){a=a.replace(l.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!=="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},k.filter=function(a,c,d,e){var f,g,h=a,i=[],j=c,m=c&&c[0]&&k.isXML(c[0]);while(a&&c.length){for(var n in l.filter)if((f=l.leftMatch[n].exec(a))!=null&&f[2]){var o,p,q=l.filter[n],r=f[1];g=!1,f.splice(1,1);if(r.substr(r.length-1)==="\\")continue;j===i&&(i=[]);if(l.preFilter[n]){f=l.preFilter[n](f,j,d,i,e,m);if(f){if(f===!0)continue}else g=o=!0}if(f)for(var s=0;(p=j[s])!=null;s++)if(p){o=q(p,f,s,j);var t=e^!!o;d&&o!=null?t?g=!0:j[s]=!1:t&&(i.push(p),g=!0)}if(o!==b){d||(j=i),a=a.replace(l.match[n],"");if(!g)return[];break}}if(a===h)if(g==null)k.error(a);else break;h=a}return j},k.error=function(a){throw"Syntax error, unrecognized expression: "+a};var l=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b==="string",d=c&&!j.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1){}a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&k.filter(b,a,!0)},">":function(a,b){var c,d=typeof b==="string",e=0,f=a.length;if(d&&!j.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&k.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=u;typeof b==="string"&&!j.test(b)&&(b=b.toLowerCase(),d=b,g=t),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=u;typeof b==="string"&&!j.test(b)&&(b=b.toLowerCase(),d=b,g=t),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!=="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(i,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(i,"")},TAG:function(a,b){return a[1].replace(i,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||k.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&k.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(i,"");!f&&l.attrMap[g]&&(a[1]=l.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(i,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=k(b[3],null,null,c);else{var g=k.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(l.match.POS.test(b[0])||l.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!k(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.getAttribute("type")},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=l.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||k.getText([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}k.error(e)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case"only":case"first":while(d=d.previousSibling)if(d.nodeType===1)return!1;if(c==="first")return!0;d=a;case"last":while(d=d.nextSibling)if(d.nodeType===1)return!1;return!0;case"nth":var e=b[2],f=b[3];if(e===1&&f===0)return!0;var g=b[0],h=a.parentNode;if(h&&(h.sizcache!==g||!a.nodeIndex)){var i=0;for(d=h.firstChild;d;d=d.nextSibling)d.nodeType===1&&(d.nodeIndex=++i);h.sizcache=g}var j=a.nodeIndex-f;return e===0?j===0:j%e===0&&j/e>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=l.attrHandle[c]?l.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=l.setFilters[e];if(f)return f(a,c,b,d)}}},m=l.match.POS,n=function(a,b){return"\\"+(b-0+1)};for(var o in l.match)l.match[o]=new RegExp(l.match[o].source+/(?![^\[]*\])(?![^\(]*\))/.source),l.leftMatch[o]=new RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[o].source.replace(/\\(\d+)/g,n));var p=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(q){p=function(a,b){var c=0,d=b||[];if(f.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length==="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var r,s;c.documentElement.compareDocumentPosition?r=function(a,b){if(a===b){g=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(r=function(a,b){var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(a===b){g=!0;return 0}if(h===i)return s(a,b);if(!h)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return s(e[k],f[k]);return k===c?s(a,f[k],-1):s(e[k],b,1)},s=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),k.getText=function(a){var b="",c;for(var d=0;a[d];d++)c=a[d],c.nodeType===3||c.nodeType===4?b+=c.nodeValue:c.nodeType!==8&&(b+=k.getText(c.childNodes));return b},function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(l.find.ID=function(a,c,d){if(typeof c.getElementById!=="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},l.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(l.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(l.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=k,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){k=function(b,e,f,g){e=e||c;if(!g&&!k.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return p(e.getElementsByTagName(b),f);if(h[2]&&l.find.CLASS&&e.getElementsByClassName)return p(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return p([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return p([],f);if(i.id===h[3])return p([i],f)}try{return p(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var m=e,n=e.getAttribute("id"),o=n||d,q=e.parentNode,r=/^\s*[+~]/.test(b);n?o=o.replace(/'/g,"\\$&"):e.setAttribute("id",o),r&&q&&(e=e.parentNode);try{if(!r||q)return p(e.querySelectorAll("[id='"+o+"'] "+b),f)}catch(s){}finally{n||m.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)k[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector,d=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(e){d=!0}b&&(k.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!k.isXML(a))try{if(d||!l.match.PSEUDO.test(c)&&!/!=/.test(c))return b.call(a,c)}catch(e){}return k(c,null,null,[a]).length>0})}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;l.order.splice(1,0,"CLASS"),l.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!=="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?k.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?k.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:k.contains=function(){return!1},k.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var v=function(a,b){var c,d=[],e="",f=b.nodeType?[b]:b;while(c=l.match.PSEUDO.exec(a))e+=c[0],a=a.replace(l.match.PSEUDO,"");a=l.relative[a]?a+"*":a;for(var g=0,h=f.length;g<h;g++)k(a,f[g],d);return k.filter(e,d)};d.find=k,d.expr=k.selectors,d.expr[":"]=d.expr.filters,d.unique=k.uniqueSort,d.text=k.getText,d.isXMLDoc=k.isXML,d.contains=k.contains}();var G=/Until$/,H=/^(?:parents|prevUntil|prevAll)/,I=/,/,J=/^.[^:#\[\.,]*$/,K=Array.prototype.slice,L=d.expr.match.POS,M={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(a){var b=this.pushStack("","find",a),c=0;for(var e=0,f=this.length;e<f;e++){c=b.length,d.find(a,this[e],b);if(e>0)for(var g=c;g<b.length;g++)for(var h=0;h<c;h++)if(b[h]===b[g]){b.splice(g--,1);break}}return b},has:function(a){var b=d(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(d.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(O(this,a,!1),"not",a)},filter:function(a){return this.pushStack(O(this,a,!0),"filter",a)},is:function(a){return!!a&&d.filter(a,this).length>0},closest:function(a,b){var c=[],e,f,g=this[0];if(d.isArray(a)){var h,i,j={},k=1;if(g&&a.length){for(e=0,f=a.length;e<f;e++)i=a[e],j[i]||(j[i]=d.expr.match.POS.test(i)?d(i,b||this.context):i);while(g&&g.ownerDocument&&g!==b){for(i in j)h=j[i],(h.jquery?h.index(g)>-1:d(g).is(h))&&c.push({selector:i,elem:g,level:k});g=g.parentNode,k++}}return c}var l=L.test(a)?d(a,b||this.context):null;for(e=0,f=this.length;e<f;e++){g=this[e];while(g){if(l?l.index(g)>-1:d.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b)break}}c=c.length>1?d.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a||typeof a==="string")return d.inArray(this[0],a?d(a):this.parent().children());return d.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a==="string"?d(a,b):d.makeArray(a),e=d.merge(this.get(),c);return this.pushStack(N(c[0])||N(e[0])?e:d.unique(e))},andSelf:function(){return this.add(this.prevObject)}}),d.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,b,c){return d.dir(a,"parentNode",c)},next:function(a){return d.nth(a,2,"nextSibling")},prev:function(a){return d.nth(a,2,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,b,c){return d.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return d.dir(a,"previousSibling",c)},siblings:function(a){return d.sibling(a.parentNode.firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.makeArray(a.childNodes)}},function(a,b){d.fn[a]=function(c,e){var f=d.map(this,b,c),g=K.call(arguments);G.test(a)||(e=c),e&&typeof e==="string"&&(f=d.filter(e,f)),f=this.length>1&&!M[a]?d.unique(f):f,(this.length>1||I.test(e))&&H.test(a)&&(f=f.reverse());return this.pushStack(f,a,g.join(","))}}),d.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?d.find.matchesSelector(b[0],a)?[b[0]]:[]:d.find.matches(a,b)},dir:function(a,c,e){var f=[],g=a[c];while(g&&g.nodeType!==9&&(e===b||g.nodeType!==1||!d(g).is(e)))g.nodeType===1&&f.push(g),g=g[c];return f},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var P=/ jQuery\d+="(?:\d+|null)"/g,Q=/^\s+/,R=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,S=/<([\w:]+)/,T=/<tbody/i,U=/<|&#?\w+;/,V=/<(?:script|object|embed|option|style)/i,W=/checked\s*(?:[^=]|=\s*.checked.)/i,X={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};X.optgroup=X.option,X.tbody=X.tfoot=X.colgroup=X.caption=X.thead,X.th=X.td,d.support.htmlSerialize||(X._default=[1,"div<div>","</div>"]),d.fn.extend({text:function(a){if(d.isFunction(a))return this.each(function(b){var c=d(this);c.text(a.call(this,b,c.text()))});if(typeof a!=="object"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a));return d.text(this)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapAll(a.call(this,b))});if(this[0]){var b=d(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapInner(a.call(this,b))});return this.each(function(){var b=d(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){d(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=d(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,d(arguments[0]).toArray());return a}},remove:function(a,b){for(var c=0,e;(e=this[c])!=null;c++)if(!a||d.filter(a,[e]).length)!b&&e.nodeType===1&&(d.cleanData(e.getElementsByTagName("*")),d.cleanData([e])),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&d.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return d.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(P,""):null;if(typeof a!=="string"||V.test(a)||!d.support.leadingWhitespace&&Q.test(a)||X[(S.exec(a)||["",""])[1].toLowerCase()])d.isFunction(a)?this.each(function(b){var c=d(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);else{a=a.replace(R,"<$1></$2>");try{for(var c=0,e=this.length;c<e;c++)this[c].nodeType===1&&(d.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(f){this.empty().append(a)}}return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(d.isFunction(a))return this.each(function(b){var c=d(this),e=c.html();c.replaceWith(a.call(this,b,e))});typeof a!=="string"&&(a=d(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;d(this).remove(),b?d(b).before(a):d(c).append(a)})}return this.pushStack(d(d.isFunction(a)?a():a),"replaceWith",a)},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,e){var f,g,h,i,j=a[0],k=[];if(!d.support.checkClone&&arguments.length===3&&typeof j==="string"&&W.test(j))return this.each(function(){d(this).domManip(a,c,e,!0)});if(d.isFunction(j))return this.each(function(f){var g=d(this);a[0]=j.call(this,f,c?g.html():b),g.domManip(a,c,e)});if(this[0]){i=j&&j.parentNode,d.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?f={fragment:i}:f=d.buildFragment(a,this,k),h=f.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&d.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)e.call(c?Y(this[l],g):this[l],f.cacheable||m>1&&l<n?d.clone(h,!0,!0):h)}k.length&&d.each(k,ba)}return this}}),d.buildFragment=function(a,b,e){var f,g,h,i=b&&b[0]?b[0].ownerDocument||b[0]:c;a.length===1&&typeof a[0]==="string"&&a[0].length<512&&i===c&&a[0].charAt(0)==="<"&&!V.test(a[0])&&(d.support.checkClone||!W.test(a[0]))&&(g=!0,h=d.fragments[a[0]],h&&(h!==1&&(f=h))),f||(f=i.createDocumentFragment(),d.clean(a,i,f,e)),g&&(d.fragments[a[0]]=h?f:1);return{fragment:f,cacheable:g}},d.fragments={},d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){d.fn[a]=function(c){var e=[],f=d(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&f.length===1){f[b](this[0]);return this}for(var h=0,i=f.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();d(f[h])[b](j),e=e.concat(j)}return this.pushStack(e,a,f.selector)}}),d.extend({clone:function(a,b,c){var e=a.cloneNode(!0),f,g,h;if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!d.isXMLDoc(a)){$(a,e),f=_(a),g=_(e);for(h=0;f[h];++h)$(f[h],g[h])}if(b){Z(a,e);if(c){f=_(a),g=_(e);for(h=0;f[h];++h)Z(f[h],g[h])}}return e},clean:function(a,b,e,f){b=b||c,typeof b.createElement==="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var g=[];for(var h=0,i;(i=a[h])!=null;h++){typeof i==="number"&&(i+="");if(!i)continue;if(typeof i!=="string"||U.test(i)){if(typeof i==="string"){i=i.replace(R,"<$1></$2>");var j=(S.exec(i)||["",""])[1].toLowerCase(),k=X[j]||X._default,l=k[0],m=b.createElement("div");m.innerHTML=k[1]+i+k[2];while(l--)m=m.lastChild;if(!d.support.tbody){var n=T.test(i),o=j==="table"&&!n?m.firstChild&&m.firstChild.childNodes:k[1]==="<table>"&&!n?m.childNodes:[];for(var p=o.length-1;p>=0;--p)d.nodeName(o[p],"tbody")&&!o[p].childNodes.length&&o[p].parentNode.removeChild(o[p])}!d.support.leadingWhitespace&&Q.test(i)&&m.insertBefore(b.createTextNode(Q.exec(i)[0]),m.firstChild),i=m.childNodes}}else i=b.createTextNode(i);i.nodeType?g.push(i):g=d.merge(g,i)}if(e)for(h=0;g[h];h++)!f||!d.nodeName(g[h],"script")||g[h].type&&g[h].type.toLowerCase()!=="text/javascript"?(g[h].nodeType===1&&g.splice.apply(g,[h+1,0].concat(d.makeArray(g[h].getElementsByTagName("script")))),e.appendChild(g[h])):f.push(g[h].parentNode?g[h].parentNode.removeChild(g[h]):g[h]);return g},cleanData:function(a){var b,c,e=d.cache,f=d.expando,g=d.event.special,h=d.support.deleteExpando;for(var i=0,j;(j=a[i])!=null;i++){if(j.nodeName&&d.noData[j.nodeName.toLowerCase()])continue;c=j[d.expando];if(c){b=e[c]&&e[c][f];if(b&&b.events){for(var k in b.events)g[k]?d.event.remove(j,k):d.removeEvent(j,k,b.handle);b.handle&&(b.handle.elem=null)}h?delete j[d.expando]:j.removeAttribute&&j.removeAttribute(d.expando),delete e[c]}}}});var bb=/alpha\([^)]*\)/i,bc=/opacity=([^)]*)/,bd=/-([a-z])/ig,be=/([A-Z])/g,bf=/^-?\d+(?:px)?$/i,bg=/^-?\d/,bh={position:"absolute",visibility:"hidden",display:"block"},bi=["Left","Right"],bj=["Top","Bottom"],bk,bl,bm,bn=function(a,b){return b.toUpperCase()};d.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return d.access(this,a,c,!0,function(a,c,e){return e!==b?d.style(a,c,e):d.css(a,c)})},d.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bk(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,e,f){if(a&&a.nodeType!==3&&a.nodeType!==8&&a.style){var g,h=d.camelCase(c),i=a.style,j=d.cssHooks[h];c=d.cssProps[h]||h;if(e===b){if(j&&"get"in j&&(g=j.get(a,!1,f))!==b)return g;return i[c]}if(typeof e==="number"&&isNaN(e)||e==null)return;typeof e==="number"&&!d.cssNumber[h]&&(e+="px");if(!j||!("set"in j)||(e=j.set(a,e))!==b)try{i[c]=e}catch(k){}}},css:function(a,c,e){var f,g=d.camelCase(c),h=d.cssHooks[g];c=d.cssProps[g]||g;if(h&&"get"in h&&(f=h.get(a,!0,e))!==b)return f;if(bk)return bk(a,c,g)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]},camelCase:function(a){return a.replace(bd,bn)}}),d.curCSS=d.css,d.each(["height","width"],function(a,b){d.cssHooks[b]={get:function(a,c,e){var f;if(c){a.offsetWidth!==0?f=bo(a,b,e):d.swap(a,bh,function(){f=bo(a,b,e)});if(f<=0){f=bk(a,b,b),f==="0px"&&bm&&(f=bm(a,b,b));if(f!=null)return f===""||f==="auto"?"0px":f}if(f<0||f==null){f=a.style[b];return f===""||f==="auto"?"0px":f}return typeof f==="string"?f:f+"px"}},set:function(a,b){if(!bf.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),d.support.opacity||(d.cssHooks.opacity={get:function(a,b){return bc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style;c.zoom=1;var e=d.isNaN(b)?"":"alpha(opacity="+b*100+")",f=c.filter||"";c.filter=bb.test(f)?f.replace(bb,e):c.filter+" "+e}}),c.defaultView&&c.defaultView.getComputedStyle&&(bl=function(a,c,e){var f,g,h;e=e.replace(be,"-$1").toLowerCase();if(!(g=a.ownerDocument.defaultView))return b;if(h=g.getComputedStyle(a,null))f=h.getPropertyValue(e),f===""&&!d.contains(a.ownerDocument.documentElement,a)&&(f=d.style(a,e));return f}),c.documentElement.currentStyle&&(bm=function(a,b){var c,d=a.currentStyle&&a.currentStyle[b],e=a.runtimeStyle&&a.runtimeStyle[b],f=a.style;!bf.test(d)&&bg.test(d)&&(c=f.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":d||0,d=f.pixelLeft+"px",f.left=c,e&&(a.runtimeStyle.left=e));return d===""?"auto":d}),bk=bl||bm,d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!d.support.reliableHiddenOffsets&&(a.style.display||d.css(a,"display"))==="none"},d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)});var bp=/%20/g,bq=/\[\]$/,br=/\r?\n/g,bs=/#.*$/,bt=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bu=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bv=/(?:^file|^widget|\-extension):$/,bw=/^(?:GET|HEAD)$/,bx=/^\/\//,by=/\?/,bz=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bA=/^(?:select|textarea)/i,bB=/\s+/,bC=/([?&])_=[^&]*/,bD=/(^|\-)([a-z])/g,bE=function(a,b,c){return b+c.toUpperCase()},bF=/^([\w\+\.\-]+:)\/\/([^\/?#:]*)(?::(\d+))?/,bG=d.fn.load,bH={},bI={},bJ,bK;try{bJ=c.location.href}catch(bL){bJ=c.createElement("a"),bJ.href="",bJ=bJ.href}bK=bF.exec(bJ.toLowerCase()),d.fn.extend({load:function(a,c,e){if(typeof a!=="string"&&bG)return bG.apply(this,arguments);if(!this.length)return this;var f=a.indexOf(" ");if(f>=0){var g=a.slice(f,a.length);a=a.slice(0,f)}var h="GET";c&&(d.isFunction(c)?(e=c,c=b):typeof c==="object"&&(c=d.param(c,d.ajaxSettings.traditional),h="POST"));var i=this;d.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?d("<div>").append(c.replace(bz,"")).find(g):c)),e&&i.each(e,[c,b,a])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bA.test(this.nodeName)||bu.test(this.type))}).map(function(a,b){var c=d(this).val();return c==null?null:d.isArray(c)?d.map(c,function(a,c){return{name:b.name,value:a.replace(br,"\r\n")}}):{name:b.name,value:c.replace(br,"\r\n")}}).get()}}),d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){d.fn[b]=function(a){return this.bind(b,a)}}),d.each(["get","post"],function(a,c){d[c]=function(a,e,f,g){d.isFunction(e)&&(g=g||f,f=e,e=b);return d.ajax({type:c,url:a,data:e,success:f,dataType:g})}}),d.extend({getScript:function(a,c){return d.get(a,b,c,"script")},getJSON:function(a,b,c){return d.get(a,b,c,"json")},ajaxSetup:function(a,b){b?d.extend(!0,a,d.ajaxSettings,b):(b=a,a=d.extend(!0,d.ajaxSettings,b));for(var c in{context:1,url:1})c in b?a[c]=b[c]:c in d.ajaxSettings&&(a[c]=d.ajaxSettings[c]);return a},ajaxSettings:{url:bJ,isLocal:bv.test(bK[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML}},ajaxPrefilter:bM(bH),ajaxTransport:bM(bI),ajax:function(a,c){function v(a,c,l,n){if(r!==2){r=2,p&&clearTimeout(p),o=b,m=n||"",u.readyState=a?4:0;var q,t,v,w=l?bP(e,u,l):b,x,y;if(a>=200&&a<300||a===304){if(e.ifModified){if(x=u.getResponseHeader("Last-Modified"))d.lastModified[k]=x;if(y=u.getResponseHeader("Etag"))d.etag[k]=y}if(a===304)c="notmodified",q=!0;else try{t=bQ(e,w),c="success",q=!0}catch(z){c="parsererror",v=z}}else{v=c;if(!c||a)c="error",a<0&&(a=0)}u.status=a,u.statusText=c,q?h.resolveWith(f,[t,c,u]):h.rejectWith(f,[u,c,v]),u.statusCode(j),j=b,s&&g.trigger("ajax"+(q?"Success":"Error"),[u,e,q?t:v]),i.resolveWith(f,[u,c]),s&&(g.trigger("ajaxComplete",[u,e]),--d.active||d.event.trigger("ajaxStop"))}}typeof a==="object"&&(c=a,a=b),c=c||{};var e=d.ajaxSetup({},c),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof d)?d(f):d.event,h=d.Deferred(),i=d._Deferred(),j=e.statusCode||{},k,l={},m,n,o,p,q,r=0,s,t,u={readyState:0,setRequestHeader:function(a,b){r||(l[a.toLowerCase().replace(bD,bE)]=b);return this},getAllResponseHeaders:function(){return r===2?m:null},getResponseHeader:function(a){var c;if(r===2){if(!n){n={};while(c=bt.exec(m))n[c[1].toLowerCase()]=c[2]}c=n[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){r||(e.mimeType=a);return this},abort:function(a){a=a||"abort",o&&o.abort(a),v(0,a);return this}};h.promise(u),u.success=u.done,u.error=u.fail,u.complete=i.done,u.statusCode=function(a){if(a){var b;if(r<2)for(b in a)j[b]=[j[b],a[b]];else b=a[u.status],u.then(b,b)}return this},e.url=((a||e.url)+"").replace(bs,"").replace(bx,bK[1]+"//"),e.dataTypes=d.trim(e.dataType||"*").toLowerCase().split(bB),e.crossDomain||(q=bF.exec(e.url.toLowerCase()),e.crossDomain=q&&(q[1]!=bK[1]||q[2]!=bK[2]||(q[3]||(q[1]==="http:"?80:443))!=(bK[3]||(bK[1]==="http:"?80:443)))),e.data&&e.processData&&typeof e.data!=="string"&&(e.data=d.param(e.data,e.traditional)),bN(bH,e,c,u);if(r===2)return!1;s=e.global,e.type=e.type.toUpperCase(),e.hasContent=!bw.test(e.type),s&&d.active++===0&&d.event.trigger("ajaxStart");if(!e.hasContent){e.data&&(e.url+=(by.test(e.url)?"&":"?")+e.data),k=e.url;if(e.cache===!1){var w=d.now(),x=e.url.replace(bC,"$1_="+w);e.url=x+(x===e.url?(by.test(e.url)?"&":"?")+"_="+w:"")}}if(e.data&&e.hasContent&&e.contentType!==!1||c.contentType)l["Content-Type"]=e.contentType;e.ifModified&&(k=k||e.url,d.lastModified[k]&&(l["If-Modified-Since"]=d.lastModified[k]),d.etag[k]&&(l["If-None-Match"]=d.etag[k])),l.Accept=e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", */*; q=0.01":""):e.accepts["*"];for(t in e.headers)u.setRequestHeader(t,e.headers[t]);if(e.beforeSend&&(e.beforeSend.call(f,u,e)===!1||r===2)){u.abort();return!1}for(t in{success:1,error:1,complete:1})u[t](e[t]);o=bN(bI,e,c,u);if(o){u.readyState=1,s&&g.trigger("ajaxSend",[u,e]),e.async&&e.timeout>0&&(p=setTimeout(function(){u.abort("timeout")},e.timeout));try{r=1,o.send(l,v)}catch(y){status<2?v(-1,y):d.error(y)}}else v(-1,"No Transport");return u},param:function(a,c){var e=[],f=function(a,b){b=d.isFunction(b)?b():b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=d.ajaxSettings.traditional);if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){f(this.name,this.value)});else for(var g in a)bO(g,a[g],c,f);return e.join("&").replace(bp,"+")}}),d.extend({active:0,lastModified:{},etag:{}});var bR=d.now(),bS=/(\=)\?(&|$)|()\?\?()/i;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+bR++}}),d.ajaxPrefilter("json jsonp",function(b,c,e){var f=typeof b.data==="string";if(b.dataTypes[0]==="jsonp"||c.jsonpCallback||c.jsonp!=null||b.jsonp!==!1&&(bS.test(b.url)||f&&bS.test(b.data))){var g,h=b.jsonpCallback=d.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2",m=function(){a[h]=i,g&&d.isFunction(i)&&a[h](g[0])};b.jsonp!==!1&&(j=j.replace(bS,l),b.url===j&&(f&&(k=k.replace(bS,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},e.then(m,m),b.converters["script json"]=function(){g||d.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){d.globalEval(a);return a}}}),d.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),d.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var bT=d.now(),bU,bV;d.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&bX()||bY()}:bX,bV=d.ajaxSettings.xhr(),d.support.ajax=!!bV,d.support.cors=bV&&"withCredentials"in bV,bV=b,d.support.ajax&&d.ajaxTransport(function(a){if(!a.crossDomain||d.support.cors){var c;return{send:function(e,f){var g=a.xhr(),h,i;a.username?g.open(a.type,a.url,a.async,a.username,a.password):g.open(a.type,a.url,a.async);if(a.xhrFields)for(i in a.xhrFields)g[i]=a.xhrFields[i];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType),(!a.crossDomain||a.hasContent)&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(i in e)g.setRequestHeader(i,e[i])}catch(j){}g.send(a.hasContent&&a.data||null),c=function(e,i){var j,k,l,m,n;try{if(c&&(i||g.readyState===4)){c=b,h&&(g.onreadystatechange=d.noop,delete bU[h]);if(i)g.readyState!==4&&g.abort();else{j=g.status,l=g.getAllResponseHeaders(),m={},n=g.responseXML,n&&n.documentElement&&(m.xml=n),m.text=g.responseText;try{k=g.statusText}catch(o){k=""}j||!a.isLocal||a.crossDomain?j===1223&&(j=204):j=m.text?200:404}}}catch(p){i||f(-1,p)}m&&f(j,k,m,l)},a.async&&g.readyState!==4?(bU||(bU={},bW()),h=bT++,g.onreadystatechange=bU[h]=c):c()},abort:function(){c&&c(0,1)}}}});var bZ={},b$=/^(?:toggle|show|hide)$/,b_=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ca,cb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];d.fn.extend({show:function(a,b,c){var e,f;if(a||a===0)return this.animate(cc("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)e=this[g],f=e.style.display,!d._data(e,"olddisplay")&&f==="none"&&(f=e.style.display=""),f===""&&d.css(e,"display")==="none"&&d._data(e,"olddisplay",cd(e.nodeName));for(g=0;g<h;g++){e=this[g],f=e.style.display;if(f===""||f==="none")e.style.display=d._data(e,"olddisplay")||""}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cc("hide",3),a,b,c);for(var e=0,f=this.length;e<f;e++){var g=d.css(this[e],"display");g!=="none"&&!d._data(this[e],"olddisplay")&&d._data(this[e],"olddisplay",g)}for(e=0;e<f;e++)this[e].style.display="none";return this},_toggle:d.fn.toggle,toggle:function(a,b,c){var e=typeof a==="boolean";d.isFunction(a)&&d.isFunction(b)?this._toggle.apply(this,arguments):a==null||e?this.each(function(){var b=e?a:d(this).is(":hidden");d(this)[b?"show":"hide"]()}):this.animate(cc("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,e){var f=d.speed(b,c,e);if(d.isEmptyObject(a))return this.each(f.complete);return this[f.queue===!1?"each":"queue"](function(){var b=d.extend({},f),c,e=this.nodeType===1,g=e&&d(this).is(":hidden"),h=this;for(c in a){var i=d.camelCase(c);c!==i&&(a[i]=a[c],delete a[c],c=i);if(a[c]==="hide"&&g||a[c]==="show"&&!g)return b.complete.call(this);if(e&&(c==="height"||c==="width")){b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(d.css(this,"display")==="inline"&&d.css(this,"float")==="none")if(d.support.inlineBlockNeedsLayout){var j=cd(this.nodeName);j==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)}else this.style.display="inline-block"}d.isArray(a[c])&&((b.specialEasing=b.specialEasing||{})[c]=a[c][1],a[c]=a[c][0])}b.overflow!=null&&(this.style.overflow="hidden"),b.curAnim=d.extend({},a),d.each(a,function(c,e){var f=new d.fx(h,b,c);if(b$.test(e))f[e==="toggle"?g?"show":"hide":e](a);else{var i=b_.exec(e),j=f.cur();if(i){var k=parseFloat(i[2]),l=i[3]||(d.cssNumber[c]?"":"px");l!=="px"&&(d.style(h,c,(k||1)+l),j=(k||1)/f.cur()*j,d.style(h,c,j+l)),i[1]&&(k=(i[1]==="-="?-1:1)*k+j),f.custom(j,k,l)}else f.custom(j,e,"")}});return!0})},stop:function(a,b){var c=d.timers;a&&this.queue([]),this.each(function(){for(var a=c.length-1;a>=0;a--)c[a].elem===this&&(b&&c[a](!0),c.splice(a,1))}),b||this.dequeue();return this}}),d.each({slideDown:cc("show",1),slideUp:cc("hide",1),slideToggle:cc("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){d.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),d.extend({speed:function(a,b,c){var e=a&&typeof a==="object"?d.extend({},a):{complete:c||!c&&b||d.isFunction(a)&&a,duration:a,easing:c&&b||b&&!d.isFunction(b)&&b};e.duration=d.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default,e.old=e.complete,e.complete=function(){e.queue!==!1&&d(this).dequeue(),d.isFunction(e.old)&&e.old.call(this)};return e},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig||(b.orig={})}}),d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=d.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,b,c){function g(a){return e.step(a)}var e=this,f=d.fx;this.startTime=d.now(),this.start=a,this.end=b,this.unit=c||this.unit||(d.cssNumber[this.prop]?"":"px"),this.now=this.start,this.pos=this.state=0,g.elem=this.elem,g()&&d.timers.push(g)&&!ca&&(ca=setInterval(f.tick,f.interval))},show:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop),this.options.show=!0,this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b=d.now(),c=!0;if(a||b>=this.options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),this.options.curAnim[this.prop]=!0;for(var e in this.options.curAnim)this.options.curAnim[e]!==!0&&(c=!1);if(c){if(this.options.overflow!=null&&!d.support.shrinkWrapBlocks){var f=this.elem,g=this.options;d.each(["","X","Y"],function(a,b){f.style["overflow"+b]=g.overflow[a]})}this.options.hide&&d(this.elem).hide();if(this.options.hide||this.options.show)for(var h in this.options.curAnim)d.style(this.elem,h,this.options.orig[h]);this.options.complete.call(this.elem)}return!1}var i=b-this.startTime;this.state=i/this.options.duration;var j=this.options.specialEasing&&this.options.specialEasing[this.prop],k=this.options.easing||(d.easing.swing?"swing":"linear");this.pos=d.easing[j||k](this.state,i,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update();return!0}},d.extend(d.fx,{tick:function(){var a=d.timers;for(var b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||d.fx.stop()},interval:13,stop:function(){clearInterval(ca),ca=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){d.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}}),d.expr&&d.expr.filters&&(d.expr.filters.animated=function(a){return d.grep(d.timers,function(b){return a===b.elem}).length});var ce=/^t(?:able|d|h)$/i,cf=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?d.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){d.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,g=f.documentElement;if(!c||!d.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=f.body,i=cg(f),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||d.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||d.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:d.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){d.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);d.offset.initialize();var c,e=b.offsetParent,f=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(d.offset.supportsFixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===e&&(l+=b.offsetTop,m+=b.offsetLeft,d.offset.doesNotAddBorder&&(!d.offset.doesAddBorderForTableAndCells||!ce.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),f=e,e=b.offsetParent),d.offset.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;d.offset.supportsFixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},d.offset={initialize:function(){var a=c.body,b=c.createElement("div"),e,f,g,h,i=parseFloat(d.css(a,"marginTop"))||0,j="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";d.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),b.innerHTML=j,a.insertBefore(b,a.firstChild),e=b.firstChild,f=e.firstChild,h=e.nextSibling.firstChild.firstChild,this.doesNotAddBorder=f.offsetTop!==5,this.doesAddBorderForTableAndCells=h.offsetTop===5,f.style.position="fixed",f.style.top="20px",this.supportsFixedPosition=f.offsetTop===20||f.offsetTop===15,f.style.position=f.style.top="",e.style.overflow="hidden",e.style.position="relative",this.subtractsBorderForOverflowNotVisible=f.offsetTop===-5,this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==i,a.removeChild(b),a=b=e=f=g=h=null,d.offset.initialize=d.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;d.offset.initialize(),d.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(d.css(a,"marginTop"))||0,c+=parseFloat(d.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var e=d.css(a,"position");e==="static"&&(a.style.position="relative");var f=d(a),g=f.offset(),h=d.css(a,"top"),i=d.css(a,"left"),j=e==="absolute"&&d.inArray("auto",[h,i])>-1,k={},l={},m,n;j&&(l=f.position()),m=j?l.top:parseInt(h,10)||0,n=j?l.left:parseInt(i,10)||0,d.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):f.css(k)}},d.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),e=cf.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(d.css(a,"marginTop"))||0,c.left-=parseFloat(d.css(a,"marginLeft"))||0,e.top+=parseFloat(d.css(b[0],"borderTopWidth"))||0,e.left+=parseFloat(d.css(b[0],"borderLeftWidth"))||0;return{top:c.top-e.top,left:c.left-e.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&(!cf.test(a.nodeName)&&d.css(a,"position")==="static"))a=a.offsetParent;return a})}}),d.each(["Left","Top"],function(a,c){var e="scroll"+c;d.fn[e]=function(c){var f=this[0],g;if(!f)return null;if(c!==b)return this.each(function(){g=cg(this),g?g.scrollTo(a?d(g).scrollLeft():c,a?c:d(g).scrollTop()):this[e]=c});g=cg(f);return g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:d.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:f[e]}}),d.each(["Height","Width"],function(a,c){var e=c.toLowerCase();d.fn["inner"+c]=function(){return this[0]?parseFloat(d.css(this[0],e,"padding")):null},d.fn["outer"+c]=function(a){return this[0]?parseFloat(d.css(this[0],e,a?"margin":"border")):null},d.fn[e]=function(a){var f=this[0];if(!f)return a==null?null:this;if(d.isFunction(a))return this.each(function(b){var c=d(this);c[e](a.call(this,b,c[e]()))});if(d.isWindow(f)){var g=f.document.documentElement["client"+c];return f.document.compatMode==="CSS1Compat"&&g||f.document.body["client"+c]||g}if(f.nodeType===9)return Math.max(f.documentElement["client"+c],f.body["scroll"+c],f.documentElement["scroll"+c],f.body["offset"+c],f.documentElement["offset"+c]);if(a===b){var h=d.css(f,e),i=parseFloat(h);return d.isNaN(i)?h:i}return this.css(e,typeof a==="string"?a:a+"px")}}),a.jQuery=a.$=d})(window);jQuery.cookie=function(name,value,options){if(typeof value!='undefined'){options=options||{};if(value===null){value='';options.expires=-1;}
var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000));}else{date=options.expires;}
expires='; expires='+date.toUTCString();}
var path=options.path?'; path='+(options.path):'';var domain=options.domain?'; domain='+(options.domain):'';var secure=options.secure?'; secure':'';document.cookie=[name,'=',encodeURIComponent(value),expires,path,domain,secure].join('');}else{var cookieValue=null;if(document.cookie&&document.cookie!=''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}
return cookieValue;}};(function($){$.address=(function(){var _trigger=function(name){$($.address).trigger($.extend($.Event(name),(function(){var parameters={},parameterNames=$.address.parameterNames();for(var i=0,l=parameterNames.length;i<l;i++){parameters[parameterNames[i]]=$.address.parameter(parameterNames[i]);}
return{value:$.address.value(),path:$.address.path(),pathNames:$.address.pathNames(),parameterNames:parameterNames,parameters:parameters,queryString:$.address.queryString()};}).call($.address)));},_bind=function(value,data,fn){$($.address).bind(value,data,fn);return $.address;},_supportsState=function(){return(_h.pushState&&typeof _opts.state!==UNDEFINED);},_hrefState=function(){return'/'+_l.pathname.replace(new RegExp(_opts.state),'')+
_l.search+(_hrefHash()?'#'+_hrefHash():'');},_hrefHash=function(){var index=_l.href.indexOf('#');return index!=-1?_crawl(_l.href.substr(index+1),FALSE):'';},_href=function(){return _supportsState()?_hrefState():_hrefHash();},_window=function(){try{return top.document!==undefined?top:window;}catch(e){return window;}},_js=function(){return'javascript';},_strict=function(value,force){if(_opts.strict){value=force?(value.substr(0,1)!='/'?'/'+value:value):(value==''?'/':value);}
return value;},_crawl=function(value,direction){if(_opts.crawlable&&direction){return(value!=''?'!':'')+value;}
return value.replace(/^\!/,'');},_cssint=function(el,value){return parseInt(el.css(value),10);},_search=function(el){var url,s;for(var i=0,l=el.childNodes.length;i<l;i++){if(el.childNodes[i].src){url=String(el.childNodes[i].src);}
s=_search(el.childNodes[i]);if(s){url=s;}}
return url;},_listen=function(){if(!_silent){var hash=_href(),diff=_value!=hash;if(_webkit&&_version<523){if(_length!=_h.length){_length=_h.length;if(typeof _stack[_length-1]!=UNDEFINED){_value=_stack[_length-1];}
_update(FALSE);}}else if(diff){if(_msie&&_version<7){_l.reload();}else{if(_msie&&_version<8&&_opts.history){_st(_html,50);}
_value=hash;_update(FALSE);}}}},_update=function(internal){_trigger(CHANGE);_trigger(internal?INTERNAL_CHANGE:EXTERNAL_CHANGE);_st(_track,10);},_track=function(){if(_opts.tracker!=='null'&&_opts.tracker!==null){var fn=$.isFunction(_opts.tracker)?_opts.tracker:_t[_opts.tracker],value=(_l.pathname+_l.search+
($.address&&!_supportsState()?$.address.value():'')).replace(/\/\//,'/').replace(/^\/$/,'');if($.isFunction(fn)){fn(value);}else if($.isFunction(_t.urchinTracker)){_t.urchinTracker(value);}else if(typeof _t.pageTracker!=UNDEFINED&&$.isFunction(_t.pageTracker._trackPageview)){_t.pageTracker._trackPageview(value);}else if(typeof _t._gaq!=UNDEFINED&&$.isFunction(_t._gaq.push)){_t._gaq.push(['_trackPageview',value]);}}},_html=function(){var src=_js()+':'+FALSE+';document.open();document.writeln(\'<html><head><title>'+
_d.title+'</title><script>var '+ID+' = "'+_href()+
(_d.domain!=_l.host?'";document.domain="'+_d.domain:'')+'";</'+'script></head></html>\');document.close();';if(_version<7){_frame.src=src;}else{_frame.contentWindow.location.replace(src);}},_options=function(){if(_url&&_qi!=-1){var param,params=_url.substr(_qi+1).split('&');for(i=0;i<params.length;i++){param=params[i].split('=');if(/^(autoUpdate|crawlable|history|strict|wrap)$/.test(param[0])){_opts[param[0]]=(isNaN(param[1])?/^(true|yes)$/i.test(param[1]):(parseInt(param[1],10)!==0));}
if(/^(state|tracker)$/.test(param[0])){_opts[param[0]]=param[1];}}
_url=null;}
_value=_href();},_load=function(){if(!_loaded){_loaded=TRUE;_options();var body=$('body').ajaxComplete(function(){_enable.call(this);_unescape.call(this);}).trigger('ajaxComplete');if(_opts.wrap){var wrap=$('body > *').wrapAll('<div style="padding:'+
(_cssint(body,'marginTop')+_cssint(body,'paddingTop'))+'px '+
(_cssint(body,'marginRight')+_cssint(body,'paddingRight'))+'px '+
(_cssint(body,'marginBottom')+_cssint(body,'paddingBottom'))+'px '+
(_cssint(body,'marginLeft')+_cssint(body,'paddingLeft'))+'px;" />').parent().wrap('<div id="'+ID+'" style="height:100%; overflow:auto;'+
(_webkit?(window.statusbar.visible&&!/chrome/i.test(_agent)?'':' resize:both;'):'')+'" />');$('html, body').css({height:'100%',margin:0,padding:0,overflow:'hidden'});if(_webkit){$('<style type="text/css" />').appendTo('head').text('#'+ID+'::-webkit-resizer { background-color: #fff; }');}}
if(_msie&&_version<8){var frameset=_d.getElementsByTagName('frameset')[0];_frame=_d.createElement((frameset?'':'i')+'frame');if(frameset){frameset.insertAdjacentElement('beforeEnd',_frame);frameset[frameset.cols?'cols':'rows']+=',0';_frame.noResize=TRUE;_frame.frameBorder=_frame.frameSpacing=0;}else{_frame.style.display='none';_frame.style.width=_frame.style.height=0;_frame.tabIndex=-1;_d.body.insertAdjacentElement('afterBegin',_frame);}
_st(function(){$(_frame).bind('load',function(){var win=_frame.contentWindow;var src=win.location.href;_value=(typeof win[ID]!=UNDEFINED?win[ID]:'');if(_value!=_href()){_update(FALSE);_l.hash=_crawl(_value,TRUE);}});if(typeof _frame.contentWindow[ID]==UNDEFINED){_html();}},50);}else if(_webkit){if(_version<418){$(_d.body).append('<form id="'+ID+'" style="position:absolute;top:-9999px;" method="get"></form>');_form=_d.getElementById(ID);}
if(typeof _l[ID]==UNDEFINED){_l[ID]={};}
if(typeof _l[ID][_l.pathname]!=UNDEFINED){_stack=_l[ID][_l.pathname].split(',');}}
_st(function(){_trigger('init');_update(FALSE);},1);if(!_supportsState()){if((_msie&&_version>7)||(!_msie&&('on'+HASH_CHANGE)in _t)){if(_t.addEventListener){_t.addEventListener(HASH_CHANGE,_listen,false);}else if(_t.attachEvent){_t.attachEvent('on'+HASH_CHANGE,_listen);}}else{_si(_listen,50);}}}},_enable=function(){var el,elements=$('a'),length=elements.size(),delay=1,index=-1;_st(function(){if(++index!=length){el=$(elements.get(index));if(el.is('[rel*=address:]')){el.address();}
_st(arguments.callee,delay);}},delay);},_popstate=function(){if(_value!=_href()){_value=_href();_update(FALSE);}},_unload=function(){if(_t.removeEventListener){_t.removeEventListener(HASH_CHANGE,_listen,false);}else if(_t.detachEvent){_t.detachEvent('on'+HASH_CHANGE,_listen);}},_unescape=function(){var base=_l.pathname.replace(/\/$/,''),fragment='_escaped_fragment_';if($('body').html().indexOf(fragment)!=-1){$('a[href]:not([href^=http]), , a[href*='+document.domain+']',this).each(function(){var href=$(this).attr('href').replace(/^http:/,'').replace(new RegExp(base+'/?$'),'');if(href==''||href.indexOf(fragment)!=-1){$(this).attr('href','#'+this.decode(href.replace(new RegExp('/(.*)\\?'+fragment+'=(.*)$'),'!$2')));}});}},_encode=function(value){return encodeURIComponent(value).replace(/%20/g,'+');},_path=function(value){return value.split('#')[0].split('?')[0];},_pathNames=function(value){var path=_path(value),names=path.replace(/\/{2,9}/g,'/').split('/');if(path.substr(0,1)=='/'||path.length===0){names.splice(0,1);}
if(path.substr(path.length-1,1)=='/'){names.splice(names.length-1,1);}
return names;},_queryString=function(value){var arr=value.split('?');return arr.slice(1,arr.length).join('?').split('#')[0];},_parameter=function(name,value){value=_queryString(value);if(value){params=value.split('&');var r=[];for(i=0;i<params.length;i++){var p=params[i].split('=');if(p[0]==name){r.push(p.slice(1).join('='));}}
if(r.length!==0){return r.length!=1?r:r[0];}}},_parameterNames=function(value){var qs=_queryString(value),names=[];if(qs&&qs.indexOf('=')!=-1){var params=qs.split('&');for(var i=0;i<params.length;i++){var name=params[i].split('=')[0];if($.inArray(name,names)==-1){names.push(name);}}}
return names;},_hash=function(value){var arr=value.split('#');return arr.slice(1,arr.length).join('#');},ID='jQueryAddress',UNDEFINED='undefined',HASH_CHANGE='hashchange',INIT='init',CHANGE='change',INTERNAL_CHANGE='internalChange',EXTERNAL_CHANGE='externalChange',TRUE=true,FALSE=false,_opts={autoUpdate:TRUE,crawlable:FALSE,history:TRUE,strict:TRUE,wrap:FALSE},_browser=$.browser,_version=parseFloat($.browser.version),_mozilla=_browser.mozilla,_msie=_browser.msie,_opera=_browser.opera,_webkit=_browser.webkit,_supported=FALSE,_t=_window(),_d=_t.document,_h=_t.history,_l=_t.location,_si=setInterval,_st=setTimeout,_agent=navigator.userAgent,_frame,_form,_url=_search(document),_qi=_url?_url.indexOf('?'):-1,_title=_d.title,_length=_h.length,_silent=FALSE,_loaded=FALSE,_justset=TRUE,_juststart=TRUE,_updating=FALSE,_stack=[],_listeners={},_value=_href();if(_msie){_version=parseFloat(_agent.substr(_agent.indexOf('MSIE')+4));if(_d.documentMode&&_d.documentMode!=_version){_version=_d.documentMode!=8?7:8;}
$(document).bind('propertychange',function(){if(_d.title!=_title&&_d.title.indexOf('#'+_href())!=-1){_d.title=_title;}});}
_supported=(_mozilla&&_version>=1)||(_msie&&_version>=6)||(_opera&&_version>=9.5)||(_webkit&&_version>=312);if(_supported){for(var i=1;i<_length;i++){_stack.push('');}
_stack.push(_value);if(_opera){history.navigationMode='compatible';}
if(document.readyState=='complete'){var interval=setInterval(function(){if($.address){_load();clearInterval(interval);}},50);}else{_options();$(_load);}
var hrefState=_hrefState();if(typeof _opts.state!==UNDEFINED){if(_h.pushState){if(hrefState.substr(0,3)=='/#/'){_l.replace(_opts.state.replace(/^\/$/,'')+hrefState.substr(2));}}else if(hrefState!='/'&&hrefState.replace(/^\/#/,'')!=_hrefHash()){_l.replace(_opts.state.replace(/^\/$/,'')+'/#'+hrefState);}}
$(window).bind('popstate',_popstate).bind('unload',_unload);}else if((!_supported&&_hrefHash()!='')||(_webkit&&_version<418&&_hrefHash()!=''&&_l.search!='')){_l.replace(_l.href.substr(0,_l.href.indexOf('#')));}else{_track();}
return{bind:function(type,data,fn){return _bind(type,data,fn);},init:function(fn){return _bind(INIT,fn);},change:function(fn){return _bind(CHANGE,fn);},internalChange:function(fn){return _bind(INTERNAL_CHANGE,fn);},externalChange:function(fn){return _bind(EXTERNAL_CHANGE,fn);},baseURL:function(){var url=_l.href;if(url.indexOf('#')!=-1){url=url.substr(0,url.indexOf('#'));}
if(/\/$/.test(url)){url=url.substr(0,url.length-1);}
return url;},autoUpdate:function(value){if(value!==undefined){_opts.autoUpdate=value;return this;}
return _opts.autoUpdate;},crawlable:function(value){if(value!==undefined){_opts.crawlable=value;return this;}
return _opts.crawlable;},history:function(value){if(value!==undefined){_opts.history=value;return this;}
return _opts.history;},state:function(value){if(value!==undefined){_opts.state=value;return this;}
return _opts.state;},strict:function(value){if(value!==undefined){_opts.strict=value;return this;}
return _opts.strict;},tracker:function(value){if(value!==undefined){_opts.tracker=value;return this;}
return _opts.tracker;},wrap:function(value){if(value!==undefined){_opts.wrap=value;return this;}
return _opts.wrap;},update:function(){_updating=TRUE;this.value(_value);_updating=FALSE;return this;},encode:function(value){var pathNames=_pathNames(value),parameterNames=_parameterNames(value),queryString=_queryString(value),hash=_hash(value),first=value.substr(0,1),last=value.substr(value.length-1),encoded='';$.each(pathNames,function(i,v){encoded+='/'+_encode(v);});if(queryString!==''){encoded+='?';if(parameterNames.length===0){encoded+=queryString;}else{$.each(parameterNames,function(i,v){var pv=_parameter(v,value);if(typeof pv!=='string'){$.each(pv,function(ni,nv){encoded+=_encode(v)+'='+_encode(nv)+'&';});}else{encoded+=_encode(v)+'='+_encode(pv)+'&';}});encoded=encoded.substr(0,encoded.length-1);}}
if(hash!==''){encoded+='#'+_encode(hash);}
if(first!='/'&&encoded.substr(0,1)=='/'){encoded=encoded.substr(1);}
if(/#|&|\?/.test(last)){encoded+=last;}
return encoded;},decode:function(value){return decodeURIComponent(value.replace(/\+/g,'%20'));},title:function(value){if(value!==undefined){_st(function(){_title=_d.title=value;if(_juststart&&_frame&&_frame.contentWindow&&_frame.contentWindow.document){_frame.contentWindow.document.title=value;_juststart=FALSE;}
if(!_justset&&_mozilla){_l.replace(_l.href.indexOf('#')!=-1?_l.href:_l.href+'#');}
_justset=FALSE;},50);return this;}
return _d.title;},value:function(value){if(value!==undefined){value=_strict(this.encode(value),TRUE);if(value=='/'){value='';}
if(_value==value&&!_updating){return;}
_justset=TRUE;_value=value;if(_opts.autoUpdate||_updating){_update(TRUE);if(_supportsState()){_h[_opts.history?'pushState':'replaceState']({},'',_opts.state.replace(/\/$/,'')+(_value==''?'/':_value));}else{_silent=TRUE;_stack[_h.length]=_value;if(_webkit){if(_opts.history){_l[ID][_l.pathname]=_stack.toString();_length=_h.length+1;if(_version<418){if(_l.search==''){_form.action='#'+_crawl(_value,TRUE);_form.submit();}}else if(_version<523||_value==''){var evt=_d.createEvent('MouseEvents');evt.initEvent('click',TRUE,TRUE);var anchor=_d.createElement('a');anchor.href='#'+_crawl(_value,TRUE);anchor.dispatchEvent(evt);}else{_l.hash='#'+_crawl(_value,TRUE);}}else{_l.replace('#'+_crawl(_value,TRUE));}}else if(_value!=_href()){if(_opts.history){_l.hash='#'+_crawl(_value,TRUE);}else{_l.replace('#'+_crawl(_value,TRUE));}}
if((_msie&&_version<8)&&_opts.history){_st(_html,50);}
if(_webkit){_st(function(){_silent=FALSE;},1);}else{_silent=FALSE;}}}
return this;}
if(!_supported){return null;}
return _strict(this.decode(_value),FALSE);},path:function(value){if(value!==undefined){var qs=this.queryString(),hash=this.hash();this.value(value+(qs?'?'+qs:'')+(hash?'#'+hash:''));return this;}
return _path(this.value());},pathNames:function(){return _pathNames(this.value());},queryString:function(value){if(value!==undefined){var hash=this.hash();this.value(this.path()+(value?'?'+value:'')+(hash?'#'+hash:''));return this;}
return _queryString(this.value());},parameter:function(name,value,append){var i,params;if(value!==undefined){var names=this.parameterNames();params=[];for(i=0;i<names.length;i++){var n=names[i],v=this.parameter(n);if(typeof v=='string'){v=[v];}
if(n==name){v=(value===null||value==='')?[]:(append?v.concat([value]):[value]);}
for(var j=0;j<v.length;j++){params.push(n+'='+v[j]);}}
if($.inArray(name,names)==-1&&value!==null&&value!==''){params.push(name+'='+value);}
this.queryString(params.join('&'));return this;}
return _parameter(name,this.value());},parameterNames:function(){return _parameterNames(this.value());},hash:function(value){if(value!==undefined){this.value(this.value().split('#')[0]+(value?'#'+value:''));return this;}
return _hash(this.value());}};})();$.fn.address=function(fn){if(!$(this).attr('address')){var f=function(e){if($(this).is('a')){var value=fn?fn.call(this):/address:/.test($(this).attr('rel'))?$(this).attr('rel').split('address:')[1].split(' ')[0]:typeof $.address.state()!=='undefined'&&$.address.state()!='/'?$(this).attr('href').replace(new RegExp('^(.*'+$.address.state()+'|\\.)'),''):$(this).attr('href').replace(/^(#\!?|\.)/,'');$.address.value(value);e.preventDefault();}};$(this).click(f).live('click',f).submit(function(e){if($(this).is('form')){var value=fn?fn.call(this):$(this).attr('action')+'?'+$.address.decode($(this).serialize());$.address.value(value);e.preventDefault();}}).attr('address',true);}
return this;};}(jQuery));(function($){$.browserTest=function(a,z){var u='unknown',x='X',m=function(r,h){for(var i=0;i<h.length;i=i+1){r=r.replace(h[i][0],h[i][1]);}return r;},c=function(i,a,b,c){var r={name:m((a.exec(i)||[u,u])[1],b)};r[r.name]=true;r.version=(c.exec(i)||[x,x,x,x])[3];if(r.name.match(/safari/)&&r.version>400){r.version='2.0';}if(r.name==='presto'){r.version=($.browser.version>9.27)?'futhark':'linear_b';}r.versionNumber=parseFloat(r.version,10)||0;r.versionX=(r.version!==x)?(r.version+'').substr(0,1):x;r.className=r.name+r.versionX;return r;};a=(a.match(/Opera|Navigator|Minefield|KHTML|Chrome/)?m(a,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,''],['Chrome Safari','Chrome'],['KHTML','Konqueror'],['Minefield','Firefox'],['Navigator','Netscape']]):a).toLowerCase();$.browser=$.extend((!z)?$.browser:{},c(a,/(camino|chrome|firefox|netscape|konqueror|lynx|msie|opera|safari)/,[],/(camino|chrome|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/));$.layout=c(a,/(gecko|konqueror|msie|opera|webkit)/,[['konqueror','khtml'],['msie','trident'],['opera','presto']],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/);$.os={name:(/(win|mac|linux|sunos|solaris|iphone)/.exec(navigator.platform.toLowerCase())||[u])[0].replace('sunos','solaris')};if(!z){$('html').addClass([$.os.name,$.browser.name,$.browser.className,$.layout.name,$.layout.className].join(' '));}};$.browserTest(navigator.userAgent);})(jQuery);;(function($){var ie6=$.browser.msie&&parseInt($.browser.version)==6&&typeof window['XMLHttpRequest']!="object",ieQuirks=null,w=[];$.modal=function(data,options){return $.modal.impl.init(data,options);};$.modal.close=function(){$.modal.impl.close();};$.fn.modal=function(options){return $.modal.impl.init(this,options);};$.modal.defaults={appendTo:'body',focus:true,opacity:50,overlayId:'simplemodal-overlay',overlayCss:{},containerId:'simplemodal-container',containerCss:{},dataId:'simplemodal-data',dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:false,autoPosition:true,zIndex:1000,close:true,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:'simplemodal-close',escClose:true,overlayClose:false,position:null,persist:false,modal:true,onOpen:null,onShow:null,onClose:null};$.modal.impl={o:null,d:{},init:function(data,options){var s=this;if(s.d.data){return false;}
ieQuirks=$.browser.msie&&!$.boxModel;s.o=$.extend({},$.modal.defaults,options);s.zIndex=s.o.zIndex;s.occb=false;if(typeof data=='object'){data=data instanceof jQuery?data:$(data);s.d.placeholder=false;if(data.parent().parent().size()>0){data.before($('<span></span>').attr('id','simplemodal-placeholder').css({display:'none'}));s.d.placeholder=true;s.display=data.css('display');if(!s.o.persist){s.d.orig=data.clone(true);}}}
else if(typeof data=='string'||typeof data=='number'){data=$('<div></div>').html(data);}
else{alert('SimpleModal Error: Unsupported data type: '+typeof data);return s;}
s.create(data);data=null;s.open();if($.isFunction(s.o.onShow)){s.o.onShow.apply(s,[s.d]);}
return s;},create:function(data){var s=this;w=s.getDimensions();if(s.o.modal&&ie6){s.d.iframe=$('<iframe src="javascript:false;"></iframe>').css($.extend(s.o.iframeCss,{display:'none',opacity:0,position:'fixed',height:w[0],width:w[1],zIndex:s.o.zIndex,top:0,left:0})).appendTo(s.o.appendTo);}
s.d.overlay=$('<div></div>').attr('id',s.o.overlayId).addClass('simplemodal-overlay').css($.extend(s.o.overlayCss,{display:'none',opacity:s.o.opacity/100,height:s.o.modal?w[0]:0,width:s.o.modal?w[1]:0,position:'fixed',left:0,top:0,zIndex:s.o.zIndex+1})).appendTo(s.o.appendTo);s.d.container=$('<div></div>').attr('id',s.o.containerId).addClass('simplemodal-container').css($.extend(s.o.containerCss,{display:'none',position:'fixed',zIndex:s.o.zIndex+2})).append(s.o.close&&s.o.closeHTML?$(s.o.closeHTML).addClass(s.o.closeClass):'').appendTo(s.o.appendTo);s.d.wrap=$('<div></div>').attr('tabIndex',-1).addClass('simplemodal-wrap').css({height:'100%',outline:0,width:'100%'}).appendTo(s.d.container);s.d.data=data.attr('id',data.attr('id')||s.o.dataId).addClass('simplemodal-data').css($.extend(s.o.dataCss,{display:'none'})).appendTo('body');data=null;s.setContainerDimensions();s.d.data.appendTo(s.d.wrap);if(ie6||ieQuirks){s.fixIE();}},bindEvents:function(){var s=this;$('.'+s.o.closeClass).bind('click.simplemodal',function(e){e.preventDefault();s.close();});if(s.o.modal&&s.o.close&&s.o.overlayClose){s.d.overlay.bind('click.simplemodal',function(e){e.preventDefault();s.close();});}
$(document).bind('keydown.simplemodal',function(e){if(s.o.modal&&s.o.focus&&e.keyCode==9){s.watchTab(e);}
else if((s.o.close&&s.o.escClose)&&e.keyCode==27){e.preventDefault();s.close();}});$(window).bind('resize.simplemodal',function(){w=s.getDimensions();s.setContainerDimensions(true);if(ie6||ieQuirks){s.fixIE();}
else if(s.o.modal){s.d.iframe&&s.d.iframe.css({height:w[0],width:w[1]});s.d.overlay.css({height:w[0],width:w[1]});}});},unbindEvents:function(){$('.'+this.o.closeClass).unbind('click.simplemodal');$(document).unbind('keydown.simplemodal');$(window).unbind('resize.simplemodal');this.d.overlay.unbind('click.simplemodal');},fixIE:function(){var s=this,p=s.o.position;$.each([s.d.iframe||null,!s.o.modal?null:s.d.overlay,s.d.container],function(i,el){if(el){var bch='document.body.clientHeight',bcw='document.body.clientWidth',bsh='document.body.scrollHeight',bsl='document.body.scrollLeft',bst='document.body.scrollTop',bsw='document.body.scrollWidth',ch='document.documentElement.clientHeight',cw='document.documentElement.clientWidth',sl='document.documentElement.scrollLeft',st='document.documentElement.scrollTop',s=el[0].style;s.position='absolute';if(i<2){s.removeExpression('height');s.removeExpression('width');s.setExpression('height',''+bsh+' > '+bch+' ? '+bsh+' : '+bch+' + "px"');s.setExpression('width',''+bsw+' > '+bcw+' ? '+bsw+' : '+bcw+' + "px"');}
else{var te,le;if(p&&p.constructor==Array){var top=p[0]?typeof p[0]=='number'?p[0].toString():p[0].replace(/px/,''):el.css('top').replace(/px/,'');te=top.indexOf('%')==-1?top+' + (t = '+st+' ? '+st+' : '+bst+') + "px"':parseInt(top.replace(/%/,''))+' * (('+ch+' || '+bch+') / 100) + (t = '+st+' ? '+st+' : '+bst+') + "px"';if(p[1]){var left=typeof p[1]=='number'?p[1].toString():p[1].replace(/px/,'');le=left.indexOf('%')==-1?left+' + (t = '+sl+' ? '+sl+' : '+bsl+') + "px"':parseInt(left.replace(/%/,''))+' * (('+cw+' || '+bcw+') / 100) + (t = '+sl+' ? '+sl+' : '+bsl+') + "px"';}}
else{te='('+ch+' || '+bch+') / 2 - (this.offsetHeight / 2) + (t = '+st+' ? '+st+' : '+bst+') + "px"';le='('+cw+' || '+bcw+') / 2 - (this.offsetWidth / 2) + (t = '+sl+' ? '+sl+' : '+bsl+') + "px"';}
s.removeExpression('top');s.removeExpression('left');s.setExpression('top',te);s.setExpression('left',le);}}});},focus:function(pos){var s=this,p=pos||'first';var input=$(':input:enabled:visible:'+p,s.d.wrap);input.length>0?input.focus():s.d.wrap.focus();},getDimensions:function(){var el=$(window);var h=$.browser.opera&&$.browser.version>'9.5'&&$.fn.jquery<='1.2.6'?document.documentElement['clientHeight']:$.browser.opera&&$.browser.version<'9.5'&&$.fn.jquery>'1.2.6'?window.innerHeight:el.height();return[h,el.width()];},getVal:function(v){return v=='auto'?0:v.indexOf('%')>0?v:parseInt(v.replace(/px/,''));},setContainerDimensions:function(resize){var s=this;if(!resize||(resize&&s.o.autoResize)){var ch=$.browser.opera?s.d.container.height():s.getVal(s.d.container.css('height')),cw=$.browser.opera?s.d.container.width():s.getVal(s.d.container.css('width')),dh=s.d.data.outerHeight(true),dw=s.d.data.outerWidth(true);var mh=s.o.maxHeight&&s.o.maxHeight<w[0]?s.o.maxHeight:w[0],mw=s.o.maxWidth&&s.o.maxWidth<w[1]?s.o.maxWidth:w[1];if(!ch){if(!dh){ch=s.o.minHeight;}
else{if(dh>mh){ch=mh;}
else if(dh<s.o.minHeight){ch=s.o.minHeight;}
else{ch=dh;}}}
else{ch=ch>mh?mh:ch;}
if(!cw){if(!dw){cw=s.o.minWidth;}
else{if(dw>mw){cw=mw;}
else if(dw<s.o.minWidth){cw=s.o.minWidth;}
else{cw=dw;}}}
else{cw=cw>mw?mw:cw;}
s.d.container.css({height:ch,width:cw});if(dh>ch||dw>cw){s.d.wrap.css({overflow:'auto'});}}
if(s.o.autoPosition){s.setPosition();}},setPosition:function(){var s=this,top,left,hc=(w[0]/2)-(s.d.container.outerHeight(true)/2),vc=(w[1]/2)-(s.d.container.outerWidth(true)/2);if(s.o.position&&Object.prototype.toString.call(s.o.position)==="[object Array]"){top=s.o.position[0]||hc;left=s.o.position[1]||vc;}else{top=hc;left=vc;}
s.d.container.css({left:left,top:top});},watchTab:function(e){var s=this;if($(e.target).parents('.simplemodal-container').length>0){s.inputs=$(':input:enabled:visible:first, :input:enabled:visible:last',s.d.data[0]);if((!e.shiftKey&&e.target==s.inputs[s.inputs.length-1])||(e.shiftKey&&e.target==s.inputs[0])||s.inputs.length==0){e.preventDefault();var pos=e.shiftKey?'last':'first';setTimeout(function(){s.focus(pos);},10);}}
else{e.preventDefault();setTimeout(function(){s.focus();},10);}},open:function(){var s=this;s.d.iframe&&s.d.iframe.show();if($.isFunction(s.o.onOpen)){s.o.onOpen.apply(s,[s.d]);}
else{s.d.overlay.show();s.d.container.show();s.d.data.show();}
s.focus();s.bindEvents();},close:function(){var s=this;if(!s.d.data){return false;}
s.unbindEvents();if($.isFunction(s.o.onClose)&&!s.occb){s.occb=true;s.o.onClose.apply(s,[s.d]);}
else{if(s.d.placeholder){var ph=$('#simplemodal-placeholder');if(s.o.persist){ph.replaceWith(s.d.data.removeClass('simplemodal-data').css('display',s.display));}
else{s.d.data.hide().remove();ph.replaceWith(s.d.orig);}}
else{s.d.data.hide().remove();}
s.d.container.hide().remove();s.d.overlay.hide().remove();s.d.iframe&&s.d.iframe.hide().remove();s.d={};}}};})(jQuery);/* Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.3
 * 
 * Requires: 1.2.2+
 */
(function($){var types=['DOMMouseScroll','mousewheel'];$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=types.length;i;){this.addEventListener(types[--i],handler,false);}}else{this.onmousewheel=handler;}},teardown:function(){if(this.removeEventListener){for(var i=types.length;i;){this.removeEventListener(types[--i],handler,false);}}else{this.onmousewheel=null;}}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel");},unmousewheel:function(fn){return this.unbind("mousewheel",fn);}});function handler(event){var orgEvent=event,args=[].slice.call(arguments,1),delta=0,returnValue=true,deltaX=0,deltaY=0;event=$.event.fix(event||window.event);event.type="mousewheel";if(event.wheelDelta){delta=event.wheelDelta/120;}
if(event.detail){delta=-event.detail/3;}
deltaY=delta;if(orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaY=0;deltaX=-1*delta;}
if(orgEvent.wheelDeltaY!==undefined){deltaY=orgEvent.wheelDeltaY/120;}
if(orgEvent.wheelDeltaX!==undefined){deltaX=-1*orgEvent.wheelDeltaX/120;}
args.unshift(event,delta,deltaX,deltaY);return $.event.handle.apply(this,args);}})(jQuery);(function($){$.fn.highlightRegex=function(regex){if(regex==undefined||regex.source==''){$(this).find('span.highlight').each(function(){$(this).replaceWith($(this).text());$(this).parent().each(function(){node=$(this).get(0);if(node.normalize)node.normalize();});});}else{$(this).each(function(){elt=$(this).get(0)
elt.normalize();$.each($.makeArray(elt.childNodes),function(i,node){if(node.nodeType==3){try{var searchnode=node
while((pos=searchnode.data.search(regex))>=0){match=searchnode.data.slice(pos).match(regex)[0];if(match.length==0)break;var spannode=document.createElement('span');spannode.className='highlight';var middlebit=searchnode.splitText(pos);var searchnode=middlebit.splitText(match.length);var middleclone=middlebit.cloneNode(true);spannode.appendChild(middleclone);searchnode.parentNode.replaceChild(spannode,middlebit);}}catch(e){}}else{$(node).highlightRegex(regex);}})})}
return $(this);}})(jQuery);(function($){$.fn.hyperlinkRegex=function(regex,target,ismailto){ismailto=ismailto||false;if(regex==undefined||regex.source==''){$(this).find('a').each(function(){$(this).replaceWith($(this).text());$(this).parent().each(function(){node=$(this).get(0);if(node.normalize)node.normalize();});});}else{$(this).each(function(){elt=$(this).get(0)
elt.normalize();$.each($.makeArray(elt.childNodes),function(i,node){if(node.nodeType==3&&node.parentNode.nodeName.toLowerCase()!="a"){var searchnode=node
while((pos=searchnode.data.search(regex))>=0){match=searchnode.data.slice(pos).match(regex)[0];if(match.length==0)break;var anode=document.createElement('a');var middlebit=searchnode.splitText(pos);var searchnode=middlebit.splitText(match.length);var middleclone=middlebit.cloneNode(true);anode.appendChild(middleclone);if(ismailto==true){anode.href="mailto:"+middleclone.nodeValue;}else{anode.href=middleclone.nodeValue;}
anode.target=target;searchnode.parentNode.replaceChild(anode,middlebit);}}else{if(node.parentNode.nodeName.toLowerCase()!="a"){$(node).hyperlinkRegex(regex,target,ismailto);}}})})}
return $(this);}})(jQuery);if("undefined"==typeof(CloudMagic)){var CloudMagic={};};CloudMagic.WidgetHighlightWrapper=function(){var self=this;var proto=CloudMagic.WidgetHighlightWrapper.prototype;self.utils_=new CloudMagic.WidgetUtilities();proto.HighlightSearchDirectPreview=function(s,ifrnode){ifrnode=ifrnode||null;s=s.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\**$/,"");var a=s.split(' ');var r="";for(var i=0;i<a.length;i++){var item=a[i];item=item.replace(/^\s*/,"").replace(/\s*$/,"");item=item.toLowerCase();if(item=="or"||item=="and"){continue;}
var key="";if(r.length>0){r=r+"\\s"+item;}else{if(item.charAt(0)!='"'){var colonpos=item.indexOf(":");if(colonpos!=-1){key=item.substr(0,colonpos);item=item.substr(colonpos+1,item.length-colonpos);item=item.replace(/^\s*/,"").replace(/\s*$/,"");}}
r=item;}
if(r.length>0&&(r.charAt(0)!='"'||r.charAt(r.length-1)=='"')){r=r.replace(/\?/gi,"");var encdquote=false;var encdquotewithstar=false;if(r.charAt(0)=='"'&&r.charAt(r.length-1)=='"'){encdquote=true;}
r=r.replace(/\"/ig,"");r=r.replace(/^\.*/,"").replace(/\.*$/,"");r=r.replace(/^@/i,"");if(r.charAt(r.length-1)=='*'){encdquotewithstar=true;}
r=r.replace(/\*$/,"");if(r.length>0){var spat;if(encdquote==true&&encdquotewithstar==false){spat="((\\b)"+r+"(\\b))";}
else if(i==a.length-1){spat="((\\b)"+r+"([-A-Z0-9]*))";}else{spat="((\\b)"+r+"(\\b))";}
var pat=new RegExp(spat,"ig");if(key.length>0){cmjQuery_('.mb-preview-search-value-'+key).highlightRegex(pat);}else{cmjQuery_('.mb-preview-search-value').highlightRegex(pat);if(ifrnode!=null){cmjQuery_(ifrnode).highlightRegex(pat);}}
r="";}}}};proto.HighlightSearchByContactPreview=function(s){s=s.replace(/^\s*/,"").replace(/\s*$/,"");var a=s.split(', ');var r="";for(var i=0;i<a.length;i++){var item=a[i];item=item.replace(/^\s*/,"").replace(/\s*$/,"");item=item.replace(/\'/ig,"");item=item.toLowerCase();if(item.length>0){item=item.replace(/\?/gi,"");item=item.replace(/\"/ig,"");spat="((\\b)"+item+"(\\b))";var pat=new RegExp(spat,"ig");cmjQuery_('.mb-preview-search-value-from').highlightRegex(pat);cmjQuery_('.mb-preview-search-value-to').highlightRegex(pat);cmjQuery_('.mb-preview-search-value-cc').highlightRegex(pat);cmjQuery_('.mb-preview-search-value-bcc').highlightRegex(pat);}}};};var html4={};html4.atype={'NONE':0,'URI':1,'URI_FRAGMENT':11,'SCRIPT':2,'STYLE':3,'ID':4,'IDREF':5,'IDREFS':6,'GLOBAL_NAME':7,'LOCAL_NAME':8,'CLASSES':9,'FRAME_TARGET':10};html4.ATTRIBS={'*::class':9,'*::dir':0,'*::id':4,'*::lang':0,'*::onclick':2,'*::ondblclick':2,'*::onkeydown':2,'*::onkeypress':2,'*::onkeyup':2,'*::onload':2,'*::onmousedown':2,'*::onmousemove':2,'*::onmouseout':2,'*::onmouseover':2,'*::onmouseup':2,'*::style':3,'*::title':0,'a::accesskey':0,'a::coords':0,'a::href':1,'a::hreflang':0,'a::name':7,'a::onblur':2,'a::onfocus':2,'a::rel':0,'a::rev':0,'a::shape':0,'a::tabindex':0,'a::target':10,'a::type':0,'area::accesskey':0,'area::alt':0,'area::coords':0,'area::href':1,'area::nohref':0,'area::onblur':2,'area::onfocus':2,'area::shape':0,'area::tabindex':0,'area::target':10,'bdo::dir':0,'blockquote::cite':1,'br::clear':0,'button::accesskey':0,'button::disabled':0,'button::name':8,'button::onblur':2,'button::onfocus':2,'button::tabindex':0,'button::type':0,'button::value':0,'caption::align':0,'col::align':0,'col::char':0,'col::charoff':0,'col::span':0,'col::valign':0,'col::width':0,'colgroup::align':0,'colgroup::char':0,'colgroup::charoff':0,'colgroup::span':0,'colgroup::valign':0,'colgroup::width':0,'del::cite':1,'del::datetime':0,'dir::compact':0,'div::align':0,'dl::compact':0,'font::color':0,'font::face':0,'font::size':0,'form::accept':0,'form::action':1,'form::autocomplete':0,'form::enctype':0,'form::method':0,'form::name':7,'form::onreset':2,'form::onsubmit':2,'form::target':10,'h1::align':0,'h2::align':0,'h3::align':0,'h4::align':0,'h5::align':0,'h6::align':0,'hr::align':0,'hr::noshade':0,'hr::size':0,'hr::width':0,'iframe::align':0,'iframe::frameborder':0,'iframe::height':0,'iframe::marginheight':0,'iframe::marginwidth':0,'iframe::width':0,'img::align':0,'img::alt':0,'img::border':0,'img::height':0,'img::hspace':0,'img::ismap':0,'img::name':7,'img::src':1,'img::usemap':11,'img::vspace':0,'img::width':0,'input::accept':0,'input::accesskey':0,'input::align':0,'input::alt':0,'input::autocomplete':0,'input::checked':0,'input::disabled':0,'input::ismap':0,'input::maxlength':0,'input::name':8,'input::onblur':2,'input::onchange':2,'input::onfocus':2,'input::onselect':2,'input::readonly':0,'input::size':0,'input::src':1,'input::tabindex':0,'input::type':0,'input::usemap':11,'input::value':0,'ins::cite':1,'ins::datetime':0,'label::accesskey':0,'label::for':5,'label::onblur':2,'label::onfocus':2,'legend::accesskey':0,'legend::align':0,'li::type':0,'li::value':0,'map::name':7,'menu::compact':0,'ol::compact':0,'ol::start':0,'ol::type':0,'optgroup::disabled':0,'optgroup::label':0,'option::disabled':0,'option::label':0,'option::selected':0,'option::value':0,'p::align':0,'pre::width':0,'q::cite':1,'select::disabled':0,'select::multiple':0,'select::name':8,'select::onblur':2,'select::onchange':2,'select::onfocus':2,'select::size':0,'select::tabindex':0,'table::align':0,'table::bgcolor':0,'table::border':0,'table::cellpadding':0,'table::cellspacing':0,'table::frame':0,'table::rules':0,'table::summary':0,'table::width':0,'tbody::align':0,'tbody::char':0,'tbody::charoff':0,'tbody::valign':0,'td::abbr':0,'td::align':0,'td::axis':0,'td::bgcolor':0,'td::char':0,'td::charoff':0,'td::colspan':0,'td::headers':6,'td::height':0,'td::nowrap':0,'td::rowspan':0,'td::scope':0,'td::valign':0,'td::width':0,'textarea::accesskey':0,'textarea::cols':0,'textarea::disabled':0,'textarea::name':8,'textarea::onblur':2,'textarea::onchange':2,'textarea::onfocus':2,'textarea::onselect':2,'textarea::readonly':0,'textarea::rows':0,'textarea::tabindex':0,'tfoot::align':0,'tfoot::char':0,'tfoot::charoff':0,'tfoot::valign':0,'th::abbr':0,'th::align':0,'th::axis':0,'th::bgcolor':0,'th::char':0,'th::charoff':0,'th::colspan':0,'th::headers':6,'th::height':0,'th::nowrap':0,'th::rowspan':0,'th::scope':0,'th::valign':0,'th::width':0,'thead::align':0,'thead::char':0,'thead::charoff':0,'thead::valign':0,'tr::align':0,'tr::bgcolor':0,'tr::char':0,'tr::charoff':0,'tr::valign':0,'ul::compact':0,'ul::type':0};html4.eflags={'OPTIONAL_ENDTAG':1,'EMPTY':2,'CDATA':4,'RCDATA':8,'UNSAFE':16,'FOLDABLE':32,'SCRIPT':64,'STYLE':128};html4.ELEMENTS={'a':0,'abbr':0,'acronym':0,'address':0,'applet':16,'area':2,'b':0,'base':18,'basefont':18,'bdo':0,'big':0,'blockquote':0,'body':49,'br':2,'button':0,'caption':0,'center':0,'cite':0,'code':0,'col':2,'colgroup':1,'dd':1,'del':0,'dfn':0,'dir':0,'div':0,'dl':0,'dt':1,'em':0,'fieldset':0,'font':0,'form':0,'frame':18,'frameset':16,'h1':0,'h2':0,'h3':0,'h4':0,'h5':0,'h6':0,'head':49,'hr':2,'html':49,'i':0,'iframe':4,'img':2,'input':2,'ins':0,'isindex':18,'kbd':0,'label':0,'legend':0,'li':1,'link':18,'map':0,'menu':0,'meta':18,'noframes':20,'noscript':20,'object':16,'ol':0,'optgroup':0,'option':1,'p':1,'param':18,'pre':0,'q':0,'s':0,'samp':0,'script':84,'select':0,'small':0,'span':0,'strike':0,'strong':0,'style':148,'sub':0,'sup':0,'table':0,'tbody':1,'td':1,'textarea':8,'tfoot':1,'th':1,'thead':1,'title':24,'tr':1,'tt':0,'u':0,'ul':0,'var':0};if("undefined"==typeof(CloudMagic)){var CloudMagic={};};CloudMagic.HTMLSanitizer=(function(html4){var lcase;if('script'==='SCRIPT'.toLowerCase()){lcase=function(s){return s.toLowerCase();};}else{lcase=function(s){return s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(ch.charCodeAt(0)|32);});};}
var ENTITIES={lt:'<',gt:'>',amp:'&',nbsp:'\240',quot:'"',apos:'\''};var decimalEscapeRe=/^#(\d+)$/;var hexEscapeRe=/^#x([0-9A-Fa-f]+)$/;function lookupEntity(name){name=lcase(name);if(ENTITIES.hasOwnProperty(name)){return ENTITIES[name];}
var m=name.match(decimalEscapeRe);if(m){return String.fromCharCode(parseInt(m[1],10));}else if(!!(m=name.match(hexEscapeRe))){return String.fromCharCode(parseInt(m[1],16));}
return'';}
function decodeOneEntity(_,name){return lookupEntity(name);}
var nulRe=/\0/g;function stripNULs(s){return s.replace(nulRe,'');}
var entityRe=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g;function unescapeEntities(s){return s.replace(entityRe,decodeOneEntity);}
var ampRe=/&/g;var looseAmpRe=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi;var ltRe=/</g;var gtRe=/>/g;var quotRe=/\"/g;var eqRe=/\=/g;function escapeAttrib(s){return s.replace(ampRe,'&amp;').replace(ltRe,'&lt;').replace(gtRe,'&gt;').replace(quotRe,'&#34;').replace(eqRe,'&#61;');}
function normalizeRCData(rcdata){return rcdata.replace(looseAmpRe,'&amp;$1').replace(ltRe,'&lt;').replace(gtRe,'&gt;');}
var INSIDE_TAG_TOKEN=new RegExp('^\\s*(?:'
+('(?:'
+'([a-z][a-z-]*)'
+('('
+'\\s*=\\s*'
+('('
+'\"[^\"]*\"'
+'|\'[^\']*\''
+'|(?=[a-z][a-z-]*\\s*=)'
+'|[^>\"\'\\s]*'
+')')
+')')+'?'
+')')
+'|(/?>)'
+'|[\\s\\S][^a-z\\s>]*)','i');var OUTSIDE_TAG_TOKEN=new RegExp('^(?:'
+'&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);'
+'|<\!--[\\s\\S]*?--\>|<!\\w[^>]*>|<\\?[^>*]*>'
+'|<(/)?([a-z][a-z0-9]*)'
+'|([^<&>]+)'
+'|([<&>]))','i');function makeSaxParser(handler){return function parse(htmlText,param){htmlText=String(htmlText);var htmlLower=null;var inTag=false;var attribs=[];var tagName=void 0;var eflags=void 0;var openTag=void 0;if(handler.startDoc){handler.startDoc(param);}
while(htmlText){var m=htmlText.match(inTag?INSIDE_TAG_TOKEN:OUTSIDE_TAG_TOKEN);htmlText=htmlText.substring(m[0].length);if(inTag){if(m[1]){var attribName=lcase(m[1]);var decodedValue;if(m[2]){var encodedValue=m[3];switch(encodedValue.charCodeAt(0)){case 34:case 39:encodedValue=encodedValue.substring(1,encodedValue.length-1);break;}
decodedValue=unescapeEntities(stripNULs(encodedValue));}else{decodedValue=attribName;}
attribs.push(attribName,decodedValue);}else if(m[4]){if(eflags!==void 0){if(openTag){if(handler.startTag){handler.startTag(tagName,attribs,param);}}else{if(handler.endTag){handler.endTag(tagName,param);}}}
if(openTag&&(eflags&(html4.eflags.CDATA|html4.eflags.RCDATA))){if(htmlLower===null){htmlLower=lcase(htmlText);}else{htmlLower=htmlLower.substring(htmlLower.length-htmlText.length);}
var dataEnd=htmlLower.indexOf('</'+tagName);if(dataEnd<0){dataEnd=htmlText.length;}
if(eflags&html4.eflags.CDATA){if(handler.cdata){handler.cdata(htmlText.substring(0,dataEnd),param);}}else if(handler.rcdata){handler.rcdata(normalizeRCData(htmlText.substring(0,dataEnd)),param);}
htmlText=htmlText.substring(dataEnd);}
tagName=eflags=openTag=void 0;attribs.length=0;inTag=false;}}else{if(m[1]){if(handler.pcdata){handler.pcdata(m[0],param);}}else if(m[3]){openTag=!m[2];inTag=true;tagName=lcase(m[3]);eflags=html4.ELEMENTS.hasOwnProperty(tagName)?html4.ELEMENTS[tagName]:void 0;}else if(m[4]){if(handler.pcdata){handler.pcdata(m[4],param);}}else if(m[5]){if(handler.pcdata){switch(m[5]){case'<':handler.pcdata('&lt;',param);break;case'>':handler.pcdata('&gt;',param);break;default:handler.pcdata('&amp;',param);break;}}}}}
if(handler.endDoc){handler.endDoc(param);}};}
function makeHtmlSanitizer(sanitizeAttributes){var stack;var ignoring;return makeSaxParser({startDoc:function(_){stack=[];ignoring=false;},startTag:function(tagName,attribs,out){if(ignoring){return;}
if(!html4.ELEMENTS.hasOwnProperty(tagName)){return;}
var eflags=html4.ELEMENTS[tagName];if(eflags&html4.eflags.FOLDABLE){return;}else if(eflags&html4.eflags.UNSAFE){ignoring=!(eflags&html4.eflags.EMPTY);return;}
attribs=sanitizeAttributes(tagName,attribs);if(attribs){if(!(eflags&html4.eflags.EMPTY)){stack.push(tagName);}
out.push('<',tagName);for(var i=0,n=attribs.length;i<n;i+=2){var attribName=attribs[i],value=attribs[i+1];if(value!==null&&value!==void 0){out.push(' ',attribName,'="',escapeAttrib(value),'"');}}
out.push('>');}},endTag:function(tagName,out){if(ignoring){ignoring=false;return;}
if(!html4.ELEMENTS.hasOwnProperty(tagName)){return;}
var eflags=html4.ELEMENTS[tagName];if(!(eflags&(html4.eflags.UNSAFE|html4.eflags.EMPTY|html4.eflags.FOLDABLE))){var index;if(eflags&html4.eflags.OPTIONAL_ENDTAG){for(index=stack.length;--index>=0;){var stackEl=stack[index];if(stackEl===tagName){break;}
if(!(html4.ELEMENTS[stackEl]&html4.eflags.OPTIONAL_ENDTAG)){return;}}}else{for(index=stack.length;--index>=0;){if(stack[index]===tagName){break;}}}
if(index<0){return;}
for(var i=stack.length;--i>index;){var stackEl=stack[i];if(!(html4.ELEMENTS[stackEl]&html4.eflags.OPTIONAL_ENDTAG)){out.push('</',stackEl,'>');}}
stack.length=index;out.push('</',tagName,'>');}},pcdata:function(text,out){if(!ignoring){out.push(text);}},rcdata:function(text,out){if(!ignoring){out.push(text);}},cdata:function(text,out){if(!ignoring){out.push(text);}},endDoc:function(out){for(var i=stack.length;--i>=0;){out.push('</',stack[i],'>');}
stack.length=0;}});}
function sanitize(htmlText,opt_uriPolicy,opt_nmTokenPolicy){var out=[];makeHtmlSanitizer(function sanitizeAttribs(tagName,attribs){for(var i=0;i<attribs.length;i+=2){var attribName=attribs[i];var value=attribs[i+1];var atype=null,attribKey;if((attribKey=tagName+'::'+attribName,html4.ATTRIBS.hasOwnProperty(attribKey))||(attribKey='*::'+attribName,html4.ATTRIBS.hasOwnProperty(attribKey))){atype=html4.ATTRIBS[attribKey];}
if(atype!==null){switch(atype){case html4.atype.NONE:break;case html4.atype.SCRIPT:case html4.atype.STYLE:value=null;break;case html4.atype.ID:case html4.atype.IDREF:case html4.atype.IDREFS:case html4.atype.GLOBAL_NAME:case html4.atype.LOCAL_NAME:case html4.atype.CLASSES:value=opt_nmTokenPolicy?opt_nmTokenPolicy(value):value;break;case html4.atype.URI:value=opt_uriPolicy&&opt_uriPolicy(value);break;case html4.atype.URI_FRAGMENT:if(value&&'#'===value.charAt(0)){value=opt_nmTokenPolicy?opt_nmTokenPolicy(value):value;if(value){value='#'+value;}}else{value=null;}
break;default:value=null;break;}}else{value=null;}
attribs[i+1]=value;}
return attribs;})(htmlText,out);return out.join('');}
return{escapeAttrib:escapeAttrib,makeHtmlSanitizer:makeHtmlSanitizer,makeSaxParser:makeSaxParser,normalizeRCData:normalizeRCData,sanitize:sanitize,unescapeEntities:unescapeEntities};})(html4);if("undefined"==typeof(CloudMagic)){var CloudMagic={};};CloudMagic.Common=function(parent,iswidget){var self=this;var proto=CloudMagic.Common.prototype;var base=parent;self.isWidget_=iswidget;cmjQuery_.browser.safari=false;if(cmjQuery_.browser.webkit==true){cmjQuery_.browser.safari=(cmjQuery_.browser.chrome==undefined||cmjQuery_.browser.chrome==false)?true:false;}
proto.SearchBoxKeypressHandler=function(e){var code=base.utils_.GetKeyCode(e);switch(code){case 27:break;case 13:if(base.GetCurrentViewType()!=base.c_.NO_VIEW){if(cmjQuery_(base.searchBox_).val()==base.activeSearchString_&&base.prevSearchableItems==base.SearchableItems){break;}}
default:if(code<32&&code!=8&&code!=13){break;}
if(e.ctrlKey==1&&(code==46||code==190||code==110)){break;}
if(cmjQuery_.browser.webkit==true){if(typeof base.plugin_.plugin_.GetAutoComplete=="undefined"){base.ShowReloadMessage();return;}}
if(base.acTimeout_){clearTimeout(base.acTimeout_);base.acTimeout_=null;}
base.acTimeout_=window.setTimeout(function(){base.HandleClearButton();self.HandleAutoComplete(code,true);},base.c_.AUTOCOMPLETE_DELAY);}};proto.HandleDataMigration=function(){if(base.statusMsg_==null||base.statusMsg_.migrationStatus!=0){return false;}
self.ShowNoSearchResultMessage(base.c_.MIGRATING_MSG);if(base.acTimeout_){clearTimeout(base.acTimeout_);base.acTimeout_=null;}
base.acTimeout_=window.setTimeout(function(){if(base.GetCurrentViewType()==base.c_.AC_VIEW){self.HandleAutoComplete(0);}},base.c_.UPDATE_STATUS_DELAY);return true;};proto.HandleAutoComplete=function(keycode,resethash){resethash=resethash||false;if(self.HandleDataMigration()==true){return;}
if(self.IsSameSearch()==true){keycode=keycode||0;if((base.GetCurrentViewType()==base.c_.AC_VIEW||keycode!=13)&&base.prevSearchableItems==base.SearchableItems){return;}}
self.ClearACTimers();if(base.searchString_.length==0||base.searchString_==base.c_.EMPTY_SEARCH){base.ShowView(base.c_.NO_VIEW);return;}
self.ExecuteAutoComplete();if(resethash==true){if(base.searchString_==cmjQuery_(base.searchBox_).val()){base.SetNewUrl();}}};proto.ExecuteAutoComplete=function(){base.prevSearchableItems=base.SearchableItems;self.ClearACTimers(true);base.activeSearchString_=base.searchString_;self.HandleTrackingAndJSChanges();base.plugin_.GetAutoComplete(base.searchString_,parseInt(base.SearchableItems),base.accountEmail_||"",self.GetAutoCompleteHandler());};proto.IsSameSearch=function(){var str=cmjQuery_(base.searchBox_).val();str=str.replace(/^\s*/,"").replace(/\s*$/,"");if(str!=base.searchString_){base.searchString_=str;return false;}
return true;};proto.ClearACTimers=function(onlymore){onlymore=onlymore||false;if(base.acTimeout_&&onlymore==false){clearTimeout(base.acTimeout_);base.acTimeout_=null;}
if(base.acMoreContactsTimeout){clearTimeout(base.acMoreContactsTimeout);base.acMoreContactsTimeout=null;}
if(base.acMoreCalsTimeout){clearTimeout(base.acMoreCalsTimeout);base.acMoreCalsTimeout=null;}
if(base.acMoreMailsTimeout){clearTimeout(base.acMoreMailsTimeout);base.acMoreMailsTimeout=null;}
if(base.acMoreDocsTimeout){clearTimeout(base.acMoreDocsTimeout);base.acMoreDocsTimeout=null;}};proto.GetAutoCompleteHandler=function(){var func=function(response){try{var result=JSON.parse(response);base.searchMailResultCount_=0;base.searchContactResultCount_=0;base.searchDocResultCount_=0;base.searchEventResultCount_=0;base.currentMailSelectionRowId_=-1;base.currentDocSelectionRowId_=-1;base.currentContactSelectionRowId_=-1;base.currentEventSelectionRowId_=-1;base.ShowACResult(result);if((base.SearchableItems&base.c_.MAIL)>0){base.searchMailResultCountPrev_=base.searchMailResultCount_;self.CheckForRemainingMailResult(result,0);}
if((base.SearchableItems&base.c_.CONTACT)>0){base.searchContactResultCountPrev_=base.searchContactResultCount_;self.CheckForRemainingContactResult(result,0);}
if((base.SearchableItems&base.c_.DOC)>0){base.searchDocResultCountPrev_=base.searchDocResultCount_;self.CheckForRemainingDocResult(result,0);}
if((base.SearchableItems&base.c_.EVENT)>0){base.searchEventResultCountPrev_=base.searchEventResultCount_;self.CheckForRemainingEventResult(result,0);}
base.ResizeResultPane();if(base.isSidebar_==true){cmjQuery_.cookie("_mWS",base.searchString_,{expires:365});}}catch(e){base.utils_.CMLOG(e);}};return func;};proto.ShowNoAccountMsg=function(unregaccount){if(cmjQuery_("#mbAddAccount").length==0){var msg=document.createElement("div");var url="http://127.0.0.1:"+base.port_+"/manageaccount.html?q=1";cmjQuery_(msg).attr("class","mb-no-account-msg");var link=document.createElement("div");if(unregaccount==1){cmjQuery_(msg).html("\""+base.accountEmail_+"\" is not registered with CloudMagic.<br/>");url=url+"&e="+encodeURIComponent(base.accountEmail_);cmjQuery_(link).html("<a id='mbAddAccount' target='_blank' href='"+url+"'>Add this account</a>");}else{cmjQuery_(msg).html("No account(s) added to CloudMagic. <br/>");cmjQuery_(link).html("<a id='mbAddAccount' target='_blank' href='"+url+"'>Add an account</a>");}
cmjQuery_(link).attr("class","mb-no-account-msg mb-font-bigger");cmjQuery_(base.autocompleteViewNode_).empty();cmjQuery_(base.autocompleteViewNode_).append(msg);cmjQuery_(base.autocompleteViewNode_).append(link);cmjQuery_('#mbAddAccount').click(function(){cmjQuery_(base.searchBox_).val("");base.HandleClearButton();base.ShowView(base.c_.NO_VIEW);cmjQuery_(base.searchBox_).focus();});}
if(base.GetCurrentViewType()!=base.c_.AC_VIEW||self.isWidget_!=true){base.ShowView(base.c_.AC_VIEW,true);}};proto.ShowUnableToReadDataFileMsg=function(logpath){if(cmjQuery_("#mbDataFileAcessError").length==0){var msg=document.createElement("div");cmjQuery_(msg).attr("class","mb-no-account-msg");cmjQuery_(msg).html("Unable to read your data from index files.<br/> \
                                 If the problem persists, send cloudmagic.log file to \
                                 <a href=\"mailto:feedback@cloudmagic.com\">feedback@cloudmagic.com</a>\
                                 <br/><br/><b>Log file path</b>:<br/>"+logpath);cmjQuery_(base.autocompleteViewNode_).empty();cmjQuery_(base.autocompleteViewNode_).append(msg);}
if(base.GetCurrentViewType()!=base.c_.AC_VIEW||self.isWidget_!=true){base.ShowView(base.c_.AC_VIEW,true);}};proto.CheckForRemainingMailResult=function(result,startindex){base.searchMailResultCount_=result.mails.length+startindex;if(result.moremails==1){self.ShowLoading(base.c_.MAIL);base.acMoreMailsTimeout=window.setTimeout(function(){self.GetRemainingMailResult(base.searchMailResultCount_,result.mailqueryid);},base.c_.CHECK_FOR_MORE_DELAY);}else{var ismore=true;if((base.searchMailResultCount_-base.searchMailResultCountPrev_)<base.maxSearchResultCount_){ismore=false;}
base.acMoreMailsTimeout=null;self.ShowACMoreResultMessage(ismore,base.c_.MAIL);}
base.InitializeACViewKeyboardNavigation(base.c_.MAIL);};proto.CheckForRemainingDocResult=function(result,startindex){base.searchDocResultCount_=result.docs.length+startindex;if(result.moredocs==1){self.ShowLoading(base.c_.DOC);base.acMoreDocsTimeout=window.setTimeout(function(){self.GetRemainingDocResult(base.searchDocResultCount_,result.docqueryid);},base.c_.CHECK_FOR_MORE_DELAY);}else{var ismore=true;if((base.searchDocResultCount_-base.searchDocResultCountPrev_)<base.maxSearchResultCount_){ismore=false;}
base.acMoreDocTimeout=null;self.ShowACMoreResultMessage(ismore,base.c_.DOC);}
base.InitializeACViewKeyboardNavigation(base.c_.DOC);};proto.CheckForRemainingContactResult=function(result,startindex){base.searchContactResultCount_=result.contacts.length+startindex;if(result.morecontacts==1){self.ShowLoading(base.c_.CONTACT);if(base.acMoreContactsTimeout){clearTimeout(base.acMoreContactsTimeout);base.acMoreContactsTimeout=null;}
base.acMoreContactsTimeout=window.setTimeout(function(){self.GetRemainingContactResult(base.searchContactResultCount_,result.contactqueryid);},base.c_.CHECK_FOR_MORE_DELAY);}else{var ismore=true;if((base.searchContactResultCount_-base.searchContactResultCountPrev_)<base.maxContactSearchResultCount_){ismore=false;}
self.ShowACMoreResultMessage(ismore,base.c_.CONTACT);}
base.InitializeACViewKeyboardNavigation(base.c_.CONTACT);};proto.CheckForRemainingEventResult=function(result,startindex){base.searchEventResultCount_=result.events.length+startindex;if(result.moreevents==1){self.ShowLoading(base.c_.EVENT);if(base.acMoreCalsTimeout){clearTimeout(base.acMoreCalsTimeout);base.acMoreCalsTimeout=null;}
base.acMoreCalsTimeout=window.setTimeout(function(){self.GetRemainingEventResult(base.searchEventResultCount_,result.eventqueryid);},base.c_.CHECK_FOR_MORE_DELAY);}else{var ismore=true;if((base.searchEventResultCount_-base.searchEventResultCountPrev_)<base.maxSearchResultCount_){ismore=false;}
self.ShowACMoreResultMessage(ismore,base.c_.EVENT);}
base.InitializeACViewKeyboardNavigation(base.c_.EVENT);};proto.GetRemainingEventResult=function(index,queryid){base.plugin_.GetRemainingACEvents(index,queryid,self.GetRemainingEventResultHandler(index,queryid));};proto.GetRemainingEventResultHandler=function(index,queryid){var func=function(response){var result=JSON.parse(response);if(base.eventsTbody_==null){base.ShowACResult(result);}else{base.ShowEvents(result.events,base.eventsTbody_,base.c_.AC_VIEW);}
base.ResizeResultPane();if(base.acMoreCalsTimeout){clearTimeout(base.acMoreCalsTimeout);base.acMoreCalsTimeout=null;}
self.CheckForRemainingEventResult(result,index);};return func;};proto.GetRemainingDocResult=function(index,queryid){base.plugin_.GetRemainingACDocs(index,queryid,self.GetRemainingDocResultHandler(index,queryid));};proto.GetRemainingDocResultHandler=function(index,queryid){var func=function(response){var result=JSON.parse(response);if(base.docsTbody_==null){base.ShowACResult(result);}else{base.ShowDocs(result.docs,base.docsTbody_,base.c_.AC_VIEW);}
base.ResizeResultPane();if(base.acMoreDocsTimeout){clearTimeout(base.acMoreDocsTimeout);base.acMoreDocsTimeout=null;}
self.CheckForRemainingDocResult(result,index);};return func;};proto.GetRemainingMailResult=function(index,queryid){base.plugin_.GetRemainingACMails(index,queryid,self.GetRemainingMailResultHandler(index,queryid));};proto.GetRemainingMailResultHandler=function(index,queryid){var func=function(response){var result=JSON.parse(response);if(base.mailsTbody_==null){base.ShowACResult(result);}else{base.ShowMails(result.mails,base.mailsTbody_,base.c_.AC_VIEW);}
base.ResizeResultPane();if(base.acMoreMailsTimeout){clearTimeout(base.acMoreMailsTimeout);base.acMoreMailsTimeout=null;}
self.CheckForRemainingMailResult(result,index);};return func;};proto.GetRemainingContactResult=function(index,queryid){base.plugin_.GetRemainingACContacts(index,queryid,self.GetRemainingContactResultHandler(index,queryid));};proto.GetRemainingContactResultHandler=function(index,queryid){var func=function(response){var result=JSON.parse(response);if(base.contactsTbody_==null){base.ShowACResult(result);}else{base.ShowContacts(result.contacts,base.contactsTbody_);}
base.ResizeResultPane();self.CheckForRemainingContactResult(result,index);};return func;};proto.ShowLoading=function(sectype,searchbycontact){searchbycontact=searchbycontact||false;var tr=document.createElement("tr");var td=document.createElement("td");cmjQuery_(td).attr("class","mb-loading-result");cmjQuery_(td).width("100%");cmjQuery_(tr).append(td);switch(sectype){case base.c_.CONTACT:if(cmjQuery_("#mbLoadingContacts").length>0){return;}
cmjQuery_(tr).attr("id","mbLoadingContacts");cmjQuery_("#mbSearchMoreContacts").remove();cmjQuery_(base.contactsTbody_).append(tr);break;case base.c_.MAIL:if(searchbycontact==true){if(cmjQuery_("#mbLoadingMailList").length>0){return;}
cmjQuery_(tr).attr("id","mbLoadingMailList");cmjQuery_("#mbSearchMoreListMails").remove();cmjQuery_(base.mailsListTbody_).append(tr);}else{if(cmjQuery_("#mbLoadingMails").length>0){return;}
cmjQuery_(tr).attr("id","mbLoadingMails");cmjQuery_("#mbSearchMoreMails").remove();cmjQuery_(base.mailsTbody_).append(tr);}
break;case base.c_.DOC:if(searchbycontact==true){if(cmjQuery_("#mbLoadingDocList").length>0){return;}
cmjQuery_(tr).attr("id","mbLoadingDocList");cmjQuery_("#mbSearchMoreListDocs").remove();cmjQuery_(base.docsListTbody_).append(tr);}else{if(cmjQuery_("#mbLoadingDocs").length>0){return;}
cmjQuery_(tr).attr("id","mbLoadingDocs");cmjQuery_("#mbSearchMoreDocs").remove();cmjQuery_(base.docsTbody_).append(tr);}
break;case base.c_.EVENT:if(searchbycontact==true){if(cmjQuery_("#mbLoadingCalList").length>0){return;}
cmjQuery_(tr).attr("id","mbLoadingEventList");cmjQuery_("#mbSearchMoreListEvents").remove();cmjQuery_(base.eventsTbody_).append(tr);}else{if(cmjQuery_("#mbLoadingEvents").length>0){return;}
cmjQuery_(tr).attr("id","mbLoadingEvents");cmjQuery_("#mbSearchMoreEvents").remove();cmjQuery_(base.eventsTbody_).append(tr);}
break;}};proto.ShowACMoreResultMessage=function(ismore,sectype){var caption="";var classname="mb-search-no-more";var tr=document.createElement("tr");var td=document.createElement("td");var isemptymsg=false;if(ismore==true){classname="mb-search-more";var id;var func;var rowclassname="";switch(sectype){case base.c_.CONTACT:func=self.GetSearchMoreContactsHandler(base.contactsTbody_);id="mbSearchMoreContacts";caption="More contacts";rowclassname="mb-contacts-result-row";break;case base.c_.MAIL:func=self.GetSearchMoreMailsHandler(base.mailsTbody_);id="mbSearchMoreMails";caption="More mails";rowclassname="mb-mails-result-row";break;case base.c_.DOC:func=self.GetSearchMoreDocsHandler(base.docsTbody_);id="mbSearchMoreDocs";caption="More docs";rowclassname="mb-docs-result-row";break;case base.c_.EVENT:func=self.GetSearchMoreEventsHandler(base.eventsTbody_);id="mbSearchMoreEvents";caption="More events";rowclassname="mb-events-result-row";break;}
cmjQuery_(td).click(func);cmjQuery_(tr).attr("class",rowclassname);cmjQuery_(tr).attr("id",id);}else{switch(sectype){case base.c_.CONTACT:if(base.searchContactResultCount_==0){caption=self.GetEmptyMessage(sectype);isemptymsg=true;}else{caption="";}
break;case base.c_.MAIL:if(base.searchMailResultCount_==0){caption=self.GetEmptyMessage(sectype);isemptymsg=true;}else{caption="";}
break;case base.c_.DOC:if(base.searchDocResultCount_==0){caption=self.GetEmptyMessage(sectype);isemptymsg=true;}else{caption="";}
break;case base.c_.EVENT:if(base.searchEventResultCount_==0){caption=self.GetEmptyMessage(sectype);isemptymsg=true;}else{caption="";}
break;}}
if(self.isWidget_==true||isemptymsg==true){classname=classname+" mb-font-normal";}else{classname=classname+" mb-font-big";}
cmjQuery_(td).html(caption);if(self.isWidget_!=true&&isemptymsg!=true){cmjQuery_(td).attr("class","mb-search-handler");}
cmjQuery_(td).addClass(classname);cmjQuery_(td).width("100%");cmjQuery_(tr).append(td);switch(sectype){case base.c_.CONTACT:cmjQuery_('#mbLoadingContacts').remove();cmjQuery_(base.contactsTbody_).append(tr);break;case base.c_.MAIL:cmjQuery_('#mbLoadingMails').remove();cmjQuery_(base.mailsTbody_).append(tr);break;case base.c_.DOC:cmjQuery_('#mbLoadingDocs').remove();cmjQuery_(base.docsTbody_).append(tr);break;case base.c_.EVENT:cmjQuery_('#mbLoadingEvents').remove();self.AddShowPastEventURL(base.eventsTbody_);cmjQuery_(base.eventsTbody_).append(tr);break;}
if(base.GetCurrentViewType()!=base.c_.AC_VIEW||self.isWidget_!=true){base.ShowView(base.c_.AC_VIEW);}};proto.AddGuestEventAcessPermissions=function(event,tbody){var tr=document.createElement("tr");var td=document.createElement("td");cmjQuery_(td).attr('class',"mb-single-line");cmjQuery_(td).addClass("mb-event-name");cmjQuery_(td).attr('valign',"top");cmjQuery_(td).text("Guests can:");cmjQuery_(tr).append(td);var td=document.createElement("td");cmjQuery_(td).attr('class',"mb-font-normal");cmjQuery_(tr).append(td);if(event.metadata.modify!=undefined&&event.metadata.modify==1){var div=document.createElement("div");cmjQuery_(div).append("modify event");cmjQuery_(td).append(div);}else{if(event.metadata.invite!=undefined&&event.metadata.invite==1){var div=document.createElement("div");cmjQuery_(div).css("padding-down","3px");cmjQuery_(div).append("invite others");cmjQuery_(td).append(div);}
if(event.metadata.invite!=undefined&&event.metadata.see==1){var div=document.createElement("div");cmjQuery_(div).append("see guest list");cmjQuery_(td).append(div);}}
cmjQuery_(tbody).append(tr);};proto.AddShowPastEventURL=function(tbody){var prefoptionhandle=cmjQuery_("#mbShowPastEvents");if(prefoptionhandle!=undefined&&prefoptionhandle.length>0){return;}
var tr=document.createElement("tr");var td=document.createElement("td");cmjQuery_(td).css("padding","3px");var div=document.createElement("span");var showpastevents=0;if(base.pref_.show_past_events!=undefined){showpastevents=parseInt(base.pref_.show_past_events);}
cmjQuery_(div).attr("id","mbShowPastEvents");cmjQuery_(div).attr("class","mb-show-past-events-link");if(showpastevents==0){cmjQuery_(div).text("Show past events");}else{cmjQuery_(div).text("Hide past events");}
cmjQuery_(div).click(function(){var textvalue=cmjQuery_(this).text();var showpastevents=0;if(textvalue!=undefined){if(textvalue.substring(0,4)=="Show"){showpastevents=1;textvalue="Hide past events";}else{textvalue="Show past events";}}
cmjQuery_(this).text(textvalue);base.pref_.show_past_events=showpastevents;base.plugin_.SetPreferences("show_past_events",showpastevents,null);if(self.isWidget_==true){self.ReExecuteAutoComplete();}else{cmjQuery_(base.eventsTbody_).empty();base.acTimeout_=window.setTimeout(function(){base.searchEventResultCount_=0;base.currentEventSelectionRowId_=-1;cmjQuery_(base.eventsTbody_).empty();base.plugin_.GetAutoComplete(base.searchString_,base.c_.EVENT,base.accountEmail_||"",self.SearchForEventHandler());},200);}});cmjQuery_(td).append(div);cmjQuery_(tr).append(td);cmjQuery_(tbody).append(tr);}
proto.AddEventGuests=function(event,tbody,isdirect){var tr=document.createElement("tr");isdirect=isdirect||false;var classname="mb-event-name";cmjQuery_(tbody).append(tr);var td=document.createElement("td");cmjQuery_(td).attr("colspan",2);cmjQuery_(tr).append(td);if(event.guests==undefined||event.guests.length==0){return;}
var guesttable=document.createElement("table");cmjQuery_(guesttable).attr({cellspacing:1,cellpadding:0});cmjQuery_(guesttable).attr("class","mb-font-normal mb-guests-border");cmjQuery_(guesttable).css('table-layout','fixed');cmjQuery_(guesttable).css('width','100%');var guesttbody=document.createElement("tbody");cmjQuery_(guesttable).append(guesttbody);cmjQuery_(td).append("<div class=\""+classname+"\">Guests:</div>");cmjQuery_(td).append(guesttable);for(var i=0;i<event.guests.length;i++){var guestsdetails=event.guests[i];var innertr=document.createElement("tr");cmjQuery_(guesttbody).append(innertr);var guestsdetails=event.guests[i];var attendestatusurl=self.GuestAttendeStatus(guestsdetails.s,true);var innertd=document.createElement("td");cmjQuery_(innertd).attr("class",attendestatusurl);cmjQuery_(innertd).addClass("mb-guest-td-padding");cmjQuery_(innertd).width(16);cmjQuery_(innertr).append(innertd);var guestval="";if(guestsdetails.n!=undefined){if(guestsdetails.n.length>0){guestval=guestsdetails.n;}}else if(guestsdetails.e!=undefined){if(guestsdetails.e.length>0){guestval=guestsdetails.e;}}
innertd=document.createElement("td");cmjQuery_(innertd).text(guestval)
cmjQuery_(innertd).attr("class","mb-single-line-with-wrap mb-guest-td-padding mb-preview-search-value mb-preview-search-value-whom");cmjQuery_(innertr).append(innertd);innertd=document.createElement("td");cmjQuery_(innertd).attr("class","mb-guest-td-padding");cmjQuery_(innertd).text(guestsdetails.s==undefined?"":guestsdetails.s);cmjQuery_(innertd).width(70);cmjQuery_(innertr).append(innertd);}};proto.getEventDateHeader=function(timeval,istoday){var ret;if(istoday==true){ret="Today";}else{var eventdate;var dateformat;if(isNaN(parseInt(timeval))==false){eventdate=new Date(parseInt(timeval));}else{eventdate=new Date(timeval);}
todaydate=new Date();if(eventdate!=undefined&&todaydate!=undefined&&todaydate.getFullYear()==eventdate.getFullYear()){dateformat="dddd, mmmm d";}else{dateformat="dddd, mmmm d, yyyy";}
ret=base.dateFormat_.formatDateWith(timeval,dateformat);}
return ret;};proto.getEventDateTimeStampValue=function(_timeValue){var value=_timeValue||0;if(value==0){rec_date=new Date();}else if(isNaN(parseInt(value))==false){rec_date=new Date(parseInt(value));}else{rec_date=new Date(value);}
rec_day=rec_date.getDate();rec_year=rec_date.getFullYear();rec_month=rec_date.getMonth();var d=new Date(rec_year,rec_month,rec_day,0,0,0);return(d.getTime());};proto.GetFormattedEventDate=function(event,eventdatets,todaydatets,istoday){var eventdate="All day";if(event.metadata.isallday!=1){var et=event.endtime*1000;var st=event.starttime*1000;if((et>=todaydatets&&et<=(todaydatets+86400000)&&st>=todaydatets)||(et<=eventdatets+86400000)){et=base.dateFormat_.formatDateWith(et,"hh:MMtt");}else{if(et>=todaydatets&&et<=(todaydatets+86400000)){et="Today "+base.dateFormat_.formatDateWith(et,"hh:MMtt");}else{et=base.dateFormat_.formatDate(et)+" "+base.dateFormat_.formatDateWith(et,"hh:MMtt");}}
if(st>=todaydatets&&st<=(todaydatets+86400000)){st=base.dateFormat_.formatDateWith(st,"hh:MMtt");}else{st=base.dateFormat_.formatDate(st)+" "+base.dateFormat_.formatDateWith(st,"hh:MMtt");}
eventdate=st+" - "+et;}else if(istoday==false){eventdate=base.dateFormat_.formatDate(event.starttime*1000)+", All day";}
return eventdate;};proto.AddEventReminderDetails=function(event,tbody,isdirect){var totreminders=event.reminderdetails.length;isdirect=isdirect||false;if(totreminders==0){return;}
var classname="mb-event-name";var tr=document.createElement("tr");cmjQuery_(tbody).append(tr);var td=document.createElement("td");cmjQuery_(td).attr('class',"mb-single-line");cmjQuery_(td).addClass(classname);cmjQuery_(td).attr('valign',"top");cmjQuery_(td).text("Reminders:");cmjQuery_(tr).append(td);var td=document.createElement("td");cmjQuery_(td).attr('class',"mb-font-normal");cmjQuery_(td).attr('width',"100%");cmjQuery_(tr).append(td);for(var i=0;i<totreminders;i++){var reminder=event.reminderdetails[i];var type=reminder.t;if(reminder.t=="email"){type="Email";}else if(reminder.t=="alert"){type="Pop-up";}else if(reminder.t=="sms"){type="SMS";}
var div=document.createElement("div");var reminderval;var timevalue;timevalue=parseInt(reminder.m);if((timevalue%(60*24*7))==0){reminderval=(timevalue/(60*24*7))+" weeks";}else if((timevalue%(60*24))==0){reminderval=(timevalue/(60*24))+" days";}else if((timevalue%60)==0){reminderval=(timevalue/60)+" hours";}else{reminderval=timevalue+" minutes";}
cmjQuery_(div).html(type+" before "+reminderval);cmjQuery_(td).append(div);}};proto.AddEventDate=function(event,tbody,isallday){var tr=document.createElement("tr");cmjQuery_(tbody).append(tr);var stime=parseInt(event.starttime);var whenstr=self.GetEventDate(event,isallday);var td=document.createElement("td");cmjQuery_(td).text("When:");var classname="mb-event-name";cmjQuery_(td).attr("class","mb-single-line");cmjQuery_(td).addClass(classname);cmjQuery_(tr).append(td);var td=document.createElement("td");cmjQuery_(td).attr("class","mb-single-line-with-wrap");cmjQuery_(td).html(whenstr);cmjQuery_(tr).append(td);};proto.GetSearchMoreContactsHandler=function(tbody){var func=function(){self.ShowLoading(base.c_.CONTACT);base.activeSearchString_=base.searchString_;window.setTimeout(function(){var result=base.plugin_.SearchForContacts(base.activeSearchString_,base.searchContactResultCount_,self.SearchForContacts());},1);};return func;};proto.SearchForContacts=function(){var func=function(response){var result=JSON.parse(response);var resultrowcount=self.GetRecordsCountAbove(base.c_.CONTACT);base.ShowContacts(result.contacts,base.contactsTbody_);if(result.contacts.length>0){base.InitializeACViewKeyboardNavigation();}else{}
base.searchContactResultCountPrev_=base.searchContactResultCount_;self.CheckForRemainingContactResult(result,base.searchContactResultCount_);if(self.isWidget_==true){cmjQuery_(base.searchBox_).focus();}};return func;};proto.CreateContactTableView=function(nodediv,nodeprop,param,isdirect,contactaccountemail){param=param||null;isdirect=isdirect||false;contactaccountemail=contactaccountemail||null;var table1=document.createElement("table");cmjQuery_(table1).attr({cellspacing:0,cellpadding:0});cmjQuery_(table1).css('table-layout','fixed');cmjQuery_(table1).attr("class","mb-font-normal");cmjQuery_(table1).css('width','100%');var tbody1=document.createElement("tbody");cmjQuery_(tbody1).attr('class',"mb-contact-result-row");for(var i=0;i<nodeprop.length;i++){var tr1=document.createElement("tr");var td1=document.createElement("td");var td2=document.createElement("td");if(isdirect==true){cmjQuery_(td1).width("15%");cmjQuery_(td1).css("padding-right","5px");}else{cmjQuery_(td1).width("25%");}
cmjQuery_(td1).attr("valign","top");cmjQuery_(td1).css("overflow","hidden");cmjQuery_(td1).css("text-align","right");cmjQuery_(td1).attr("class","mb-grey mb-single-line");var nodename=nodeprop[i].e;var nodevalue=nodeprop[i].w;cmjQuery_(td1).text(self.Capitalize(nodename));cmjQuery_(tr1).append(td1);if(param=="phonelist_"){cmjQuery_(td2).append("<a class='cm-phone' href='callto:"+nodevalue+"'>"+nodevalue+"</a>");}else if(param=="websites_"){var checkhttp=nodevalue.substr(0,4);var hrefval=nodevalue;if(nodevalue.substr(0,3)!="ftp"&&nodevalue.substr(0,4)!="http"){hrefval="http://"+nodevalue;}
cmjQuery_(td2).append("<a class='mb-link' target=_blank href="+hrefval+">"+nodevalue+"</a>");cmjQuery_(td2).attr("class","mb-single-line");}else if(param=="emails_"){var baseurl=base.utils_.GetBaseMailUrl(contactaccountemail);var url=baseurl+"?view=cm&fs=1&tf=1&to="+encodeURIComponent(nodevalue);var target="_blank";cmjQuery_(td2).append("<a class='cm-email' target='"+target+"' href='"+url+"'>"+nodevalue+"</a><br/>");cmjQuery_(td2).attr("class","mb-single-line");}else if(param=="address_"){var addressval=self.ReplaceNewLineWithBR(nodevalue);cmjQuery_(td2).append(addressval);}else if(param=="imsg_"&&nodename=="Skype"){cmjQuery_(td2).append("<a class='mb-link' href='callto:"+nodevalue+"'>"+nodevalue+"</a>");}else{cmjQuery_(td2).text(nodevalue);}
cmjQuery_(td2).attr("class","mb-contact-info-value-padding mb-single-line");cmjQuery_(td2).addClass("mb-preview-search-value");cmjQuery_(tr1).append(td2);cmjQuery_(tbody1).append(tr1);}
cmjQuery_(table1).append(tbody1);cmjQuery_(nodediv).append(table1);};proto.ReplaceNewLineWithBR=function(text){var buf=escape(text);if(buf.indexOf('%0D%0A')>-1){re_nlchar=/%0D%0A/g;}else if(buf.indexOf('%0A')>-1){re_nlchar=/%0A/g;}else if(buf.indexOf('%0D')>-1){re_nlchar=/%0D/g;}else{return text;}
return unescape(buf.replace(re_nlchar,'<br/>'));};proto.Capitalize=function(str){return str.replace(/^\w/,function($0){return $0.toUpperCase();})};proto.GetRecordsCountAbove=function(layout){var count=0;var morehandle=null;switch(layout){case base.c_.MAIL:count+=base.searchMailResultCount_;morehandle=cmjQuery_("#mbSearchMoreMails");break;case base.c_.DOC:count+=base.searchDocResultCount_;morehandle=cmjQuery_("#mbSearchMoreDocs");break;case base.c_.CONTACT:morehandle=cmjQuery_("#mbSearchMoreContacts");count+=base.searchContactResultCount_;break;case base.c_.EVENT:morehandle=cmjQuery_("#mbSearchMoreEvents");count+=base.searchEventResultCount_;}
if(morehandle!=null&&cmjQuery_(morehandle).length>0){count++;}
return count;};proto.GetSearchMoreMailsHandler=function(tbody){var func=function(){self.ShowLoading(base.c_.MAIL);window.setTimeout(function(){var result=base.plugin_.SearchForMails(base.activeSearchString_,base.mailRecIndex_,base.mailRecTsRowId_.toString(),base.searchMailResultCount_,self.SearchForMailsHandler());},1);};return func;};proto.SearchForMailsHandler=function(){var func=function(response){var result=JSON.parse(response);var resultrowcount=self.GetRecordsCountAbove(base.c_.MAIL);base.ShowMails(result.mails,base.mailsTbody_,base.c_.AC_VIEW);if(result.mails&&result.mails.length>0){base.InitializeACViewKeyboardNavigation();}else{}
base.searchMailResultCountPrev_=base.searchMailResultCount_;self.CheckForRemainingMailResult(result,base.searchMailResultCount_);if(self.isWidget_==true){cmjQuery_(base.searchBox_).focus();}
base.ResizeResultPane();};return func;};proto.GetSearchMoreEventsHandler=function(tbody){var func=function(){self.ShowLoading(base.c_.EVENT);window.setTimeout(function(){var result=base.plugin_.SearchForEvents(base.activeSearchString_,base.eventRecIndex_,base.eventRecTsRowId_.toString(),base.searchEventResultCount_,self.SearchForEventHandler());},1);};return func;};proto.GetSearchMoreDocsHandler=function(tbody){var func=function(){self.ShowLoading(base.c_.DOC);window.setTimeout(function(){var result=base.plugin_.SearchForDocs(base.activeSearchString_,base.docRecIndex_,base.docRecTsRowId_.toString(),base.searchDocResultCount_,self.SearchForDocsHandler());},1);};return func;};proto.SearchForDocsHandler=function(){var func=function(response){result=JSON.parse(response);var resultrowcount=self.GetRecordsCountAbove(base.c_.DOC);base.ShowDocs(result.docs,base.docsTbody_,base.c_.AC_VIEW);if(result.docs&&result.docs.length>0){base.InitializeACViewKeyboardNavigation();}else{}
base.searchDocResultCountPrev_=base.searchDocResultCount_;self.CheckForRemainingDocResult(result,base.searchDocResultCount_);if(self.isWidget_==true){cmjQuery_(base.searchBox_).focus();}
base.ResizeResultPane();};return func;};proto.SearchForEventHandler=function(){var func=function(response){result=JSON.parse(response);var resultrowcount=self.GetRecordsCountAbove(base.c_.EVENT);base.ShowEvents(result.events,base.eventsTbody_,base.c_.AC_VIEW);if(result.events&&result.events.length>0){base.InitializeACViewKeyboardNavigation();}else{}
base.searchEventResultCountPrev_=base.searchEventResultCount_;self.CheckForRemainingEventResult(result,base.searchEventResultCount_);if(self.isWidget_==true){cmjQuery_(base.searchBox_).focus();}
base.ResizeResultPane();};return func;};proto.ShowNoSearchResultMessage=function(msg){var msgnode=document.createElement("div");cmjQuery_(msgnode).attr("class","mb-no-account-msg");cmjQuery_(msgnode).html(msg);cmjQuery_(base.autocompleteViewNode_).empty();cmjQuery_(base.autocompleteViewNode_).append(msgnode);if(base.GetCurrentViewType()!=base.c_.AC_VIEW){base.ShowView(base.c_.AC_VIEW);}};proto.ReExecuteAutoComplete=function(){self.ShowLoadingMsg();base.acTimeout_=window.setTimeout(function(){base.common_.ExecuteAutoComplete()},200);};proto.ShowLoadingMsg=function(){var msgnode=document.createElement("div");cmjQuery_(msgnode).attr("class","mb-loading-result");cmjQuery_(msgnode).html("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");cmjQuery_(base.autocompleteViewNode_).empty();cmjQuery_(base.autocompleteViewNode_).append(msgnode);if(base.GetCurrentViewType()!=base.c_.AC_VIEW){base.ShowView(base.c_.AC_VIEW);}};proto.CheckForVersionConflict=function(){try{if(base.statusMsg_&&base.statusMsg_.isValidResponse==0){self.ShowLoadingMsg();base.acTimeout_=window.setTimeout(function(){base.common_.ExecuteAutoComplete()},200);return true;}else if(base.statusMsg_&&base.statusMsg_.collectionVersionConflict!=0){var msgstart="CloudMagic version mismatch detected. ";var msgnew="A newer version of CloudMagic is running in this browser or another browser. ";var msgold="An older version of CloudMagic is running in this browser or another browser. ";var msgend="Upgrade CloudMagic in all browsers from <a href='http://www.cloudmagic.com' target='_blank'>www.cloudmagic.com</a>";if(base.statusMsg_.collectionVersionConflict==2){msg=msgstart+msgnew+msgend;}else{msg=msgstart+msgold+msgend;}
self.ShowNoSearchResultMessage(msg);return true;}else if(base.statusMsg_&&(base.statusMsg_.schemaVersionConflict==1||base.statusMsg_.migrationStatus==0)){var msg;if(base.statusMsg_&&base.statusMsg_.migrationStatus==0){self.ShowNoSearchResultMessage(base.c_.MIGRATING_MSG);}else{self.ShowNoSearchResultMessage(base.c_.SCHEMA_CONFLICT_MSG);}
return true;}}catch(err){base.utils_.CMLOG("Exception: "+err);return true;}
return false;};proto.AddEmailHeader=function(tbody,caption,emails){if(emails.length==0){return;}
var tr=document.createElement("tr");var td=document.createElement("td");cmjQuery_(td).attr("class","mb-preview-header mb-preview-header-td");cmjQuery_(td).append(base.utils_.SetCaption(caption));cmjQuery_(tr).append(td);td=document.createElement("td");for(var i=0;i<emails.length;i++){if(i!=0){var tr=document.createElement("tr");var td=document.createElement("td");cmjQuery_(td).attr("class","mb-preview-header mb-preview-header-td");cmjQuery_(td).append(base.utils_.SetCaption("&nbsp;"));cmjQuery_(tr).append(td);td=document.createElement("td");}
cmjQuery_(td).attr("class","mb-preview-header-td mb-preview-search-value mb-preview-search-value-"+caption);var t=emails[i];var sep="";if(i!=emails.length-1){sep=", ";}
if(t.n.length>0){self.AddText(td,t.n+" <"+t.e+">"+sep);}else{self.AddText(td,t.e+sep);}
cmjQuery_(tr).append(td);cmjQuery_(tbody).append(tr);}};proto.ShowPreviewWindow=function(basenode,type,previewid){try{var left=0;var winwidth=base.c_.MAX_PREVIEW_WINDOW_WIDTH;var w=cmjQuery_(window).width();var isleftarrow=true;var node=null;switch(type){case base.c_.MAIL:node=cmjQuery_(".cm-search-result-mails");break;case base.c_.DOC:node=cmjQuery_(".cm-search-result-docs");break;case base.c_.CONTACT:node=cmjQuery_(".cm-search-result-contacts");break;case base.c_.EVENT:node=cmjQuery_(".cm-search-result-events");break;}
if(node==null){return;}
var offset=cmjQuery_(node).offset();var width=cmjQuery_(node).width();left=offset.left+width;if(w-left-10<winwidth){winwidth=w-left-10;}
if(left-width>winwidth){if(left-width>base.c_.MAX_PREVIEW_WINDOW_WIDTH){left=left-width-base.c_.MAX_PREVIEW_WINDOW_WIDTH;winwidth=base.c_.MAX_PREVIEW_WINDOW_WIDTH;}else{winwidth=left-width-10;left=10;}
isleftarrow=false;}
if((base.SearchableItems&base.c_.CONTACT)==0||(base.SearchableItems&base.c_.MAIL)==0||(base.SearchableItems&base.c_.DOC)==0){left=offset.left+100;winwidth=base.c_.MAX_PREVIEW_WINDOW_WIDTH;if(w-left>winwidth){left=w-winwidth-10;}
if(w-left-10<winwidth){winwidth=w-left-10;}
isleftarrow=true;}
var closebtn=document.createElement("div");cmjQuery_(closebtn).attr("class","cm-preview-close");cmjQuery_(closebtn).attr("title","Close");var div=document.createElement("div");cmjQuery_(div).attr("class","cm-preview-content");cmjQuery_(div).attr("preview_id",previewid);var arrow=document.createElement("div");if(isleftarrow==true){cmjQuery_(arrow).attr("class","cm-preview-arrow cm-preview-arrow-left");}else{cmjQuery_(arrow).attr("class","cm-preview-arrow cm-preview-arrow-right");}
var e=base.previewInvokeEvent_;var ch=cmjQuery_(window).height();cmjQuery_(div).width(winwidth);var pd=220;var ph=ch-pd;var ay=cmjQuery_(e.target).parent().parent().parent().offset();var eh=cmjQuery_(e.target).parent().parent().parent().height();var py=ay.top;var cy=e.clientY-(e.pageY-py);py=py+eh/2-ph/2;cy=cy+eh/2-ph/2;if(cy+ph>(ch-pd/2)){py=py-(cy+ph-(ch-pd/2));if(py<(ay.top+eh-ph)){py=ay.top+eh-ph;}}else if(cy<pd/2){py=py+(cy*-1+pd/2);if(py>ay.top){py=ay.top;}}
cmjQuery_(div).css("top",py);var arrowtop=ay.top-py+eh/2-14;cmjQuery_(arrow).css("top",arrowtop+"px");if(isleftarrow==false){cmjQuery_(arrow).css("left",winwidth-1);}
cmjQuery_(div).height(ph);cmjQuery_(div).css("left",left);cmjQuery_(div).append(basenode);cmjQuery_(div).click(function(e){try{if(cmjQuery_(e.target).parent().hasClass("mb-locate-link")==true||cmjQuery_(e.target).attr("tagName")=="A"||(cmjQuery_(e.target).attr("tagName")=="SPAN"&&cmjQuery_(e.target).parent().attr("tagName")=="A")){return true;}}catch(e){}
return false;});cmjQuery_(closebtn).click(function(){self.ClosePreview();});cmjQuery_(div).append(closebtn);cmjQuery_(div).append(arrow);cmjQuery_(document.body).append(div);cmjQuery_(".cm-preview-container").height(ph-28);cmjQuery_(".cm-selected-result").addClass("cm-selected-result-onpopup");cmjQuery_(".cm-selected-result").removeClass("cm-selected-result");}catch(e){base.utils_.CMLOG(e);}};proto.ClosePreview=function(){cmjQuery_(".cm-selected-result-onpopup").addClass("cm-selected-result");cmjQuery_(".cm-selected-result-onpopup").removeClass("cm-selected-result-onpopup");cmjQuery_(".cm-preview-close").remove();cmjQuery_(".cm-preview-content").remove();cmjQuery_(".cm-preview-overlay").remove();};proto.AddMailTopSubject=function(mail,node){var div=document.createElement("div");cmjQuery_(div).attr('class','mb-preview-top-title mb-font-big mb-preview-search-value mb-preview-search-value-subject');cmjQuery_(div).text(mail&&mail.subject?mail.subject:"");cmjQuery_(node).append(div);};proto.AddRecipient=function(email,reci){var det="";if(reci.e==email){det="me";}else if(reci.n.length>0){det=reci.n;}else{det=reci.e;}
return det;};proto.AddMailTopHeader=function(mail,node){var div=document.createElement("div");cmjQuery_(div).attr('class','mb-preview-top-header');var d=document.createElement("div");cmjQuery_(d).attr("id","mbMailFromTo");var fromdetails="";var todetails="";var todetailswrapper="";if(mail.type==0){cmjQuery_(d).attr('class','mb-single-line cm-draft-caption');cmjQuery_(d).text("Draft");}else{cmjQuery_(d).attr('class','mb-single-line mb-preview-from-to-details');if(mail.sendername.length>0){fromdetails=mail.sendername;}else{fromdetails=mail.senderaddress;}
if(mail.to.length>0||mail.cc.length>0||mail.bcc.length>0){todetailswrapper="<span class='mb-to-details'> to <span class='mb-preview-search-value'>";}
var sep="";if(mail.to.length>0){for(var i=0;i<mail.to.length;i++){var t=mail.to[i];sep="";if(i!=mail.to.length-1||mail.cc.length>0||mail.bcc.length>0){sep=", ";}
todetails=todetails+self.AddRecipient(mail.accountemail,t)+sep;}}
if(mail.cc.length>0){for(var i=0;i<mail.cc.length;i++){var t=mail.cc[i];sep="";if(i!=mail.cc.length-1||mail.bcc.length>0){sep=", ";}
todetails=todetails+self.AddRecipient(mail.accountemail,t)+sep;}}
if(mail.bcc.length>0){for(var i=0;i<mail.bcc.length;i++){if(i==0){todetails=todetails+"bcc: ";}
var t=mail.bcc[i];sep="";if(i!=mail.bcc.length-1){sep=", ";}
todetails=todetails+self.AddRecipient(mail.accountemail,t)+sep;}}
if(todetailswrapper.length>0){todetailswrapper=todetailswrapper+todetails+"</span></span>";}
cmjQuery_(d).append("<span class='mb-preview-search-value mb-preview-search-value-from'>"+fromdetails+"</span>");cmjQuery_(d).append(todetailswrapper);cmjQuery_(d).attr("title",fromdetails+" to "+todetails);}
cmjQuery_(div).append(d);cmjQuery_(node).append(div);var div=document.createElement("div");var table=document.createElement("table");cmjQuery_(table).attr({cellspacing:0,cellpadding:0});cmjQuery_(table).css('table-layout','fixed');cmjQuery_(table).attr("class","mb-font-normal");cmjQuery_(table).width("100%");var tbody=document.createElement("tbody");var tr=document.createElement("tr");var td=document.createElement("td");var gotolink=document.createElement("div");cmjQuery_(gotolink).attr("class","mb-locate-link");base.AddLinkToMail(mail,gotolink);cmjQuery_(td).append(gotolink);cmjQuery_(tr).append(td);var td=document.createElement("td");cmjQuery_(td).attr('class','mb-preview-show-details');cmjQuery_(td).width(150);var span=document.createElement("span");cmjQuery_(span).attr('class','mb-link');cmjQuery_(span).text("show details");cmjQuery_(span).attr('title','show details');cmjQuery_(span).click(function(){if(cmjQuery_(".mb-preview-header-table").is(':visible')==true){cmjQuery_(this).html("show details");cmjQuery_(this).attr('title','show details');cmjQuery_(".mb-preview-header-table").hide();}else{cmjQuery_(".mb-preview-header-table").show();cmjQuery_(this).html("hide details");cmjQuery_(this).attr('title','hide details');}});cmjQuery_(td).append(span);cmjQuery_(td).append(" "+base.dateFormat_.formatDate(mail.timestamp*1000));cmjQuery_(tr).append(td);cmjQuery_(tbody).append(tr);cmjQuery_(table).append(tbody);cmjQuery_(div).append(table);cmjQuery_(node).append(div);};proto.AddLinkToCalendar=function(event,node){if(typeof event=="undefined"||event.url=="undefined"){return false;}
var a=document.createElement("a");cmjQuery_(a).attr("href",event.url);cmjQuery_(a).attr("target","_blank");cmjQuery_(a).attr("title","View thread in Gmail");cmjQuery_(a).attr("id","mbLocateOriginal");cmjQuery_(a).text("View thread in Gmail");cmjQuery_(a).addClass("mb-link");cmjQuery_(node).append(a);};proto.AddDocFolderInfo=function(doc,node){cmjQuery_(node).append("&nbsp;");if(doc.folder&&doc.folder.length>0){for(var i=0;i<doc.folder.length;i++){var foldername=doc.folder[i].n;var folder=document.createElement("span");cmjQuery_(folder).attr('class','cm-font-small cm-folder');cmjQuery_(folder).text(foldername);cmjQuery_(folder).attr("title","collections: "+foldername);cmjQuery_(node).append("&nbsp;");cmjQuery_(node).append(folder);}}};proto.AddDocTopTitle=function(doc,node){var div=document.createElement("div");cmjQuery_(div).attr('class','mb-preview-top-title mb-font-big mb-preview-search-value mb-doc-search-value-title');cmjQuery_(div).text(doc&&doc.title?doc.title:"");self.AddDocFolderInfo(doc,div);cmjQuery_(node).append(div);};proto.AddEventTopTitle=function(event,node){var div=document.createElement("div");cmjQuery_(div).attr('class','mb-preview-top-title mb-font-big mb-preview-search-value mb-preview-search-value-what mb-doc-search-value-title mb-single-line');cmjQuery_(div).text(event&&event.title?event.title:"");cmjQuery_(node).append(div);};proto.AddDocTopHeader=function(doc,node){var div=document.createElement("div");cmjQuery_(div).attr('class','mb-preview-top-header');var d=document.createElement("div");cmjQuery_(d).attr('class','mb-single-line-with-wrap mb-preview-shared-details');var fromdetails="";var todetails="";var todetailswrapper="";if(doc.sharedmembers.length==0){todetails="Not shared";}else{if(base.accountEmail_!=null&&base.utils_.strnicmp(doc.accountemail,base.accountEmail_,doc.accountemail.length)==true){fromdetails="me";}else{fromdetails=doc.owner;}
var collaborators=0;var viewers=0;for(var i=0;i<doc.sharedmembers.length;i++){var m=doc.sharedmembers[i];if(m.p=="c"){collaborators++;}else if(m.p=="v"){viewers++;}}
doc.collaborators=collaborators;doc.viewers=viewers;if(collaborators>0){todetails=todetails+" to "+collaborators+" Collaborator";if(collaborators>1){todetails=todetails+"s";}}
if(viewers>0){if(collaborators>0){todetails=todetails+", ";}else{todetails=todetails+" to ";}
todetails=todetails+""+viewers+" Viewer";if(viewers>1){todetails=todetails+"s";}}
cmjQuery_(d).append("<span class='mb-preview-search-value mb-preview-search-value-from'>"+fromdetails+"</span>");}
cmjQuery_(d).append("<span class='mb-grey'>"+todetails+"</span>");cmjQuery_(div).append(d);cmjQuery_(div).attr("title",cmjQuery_(div).text());cmjQuery_(node).append(div);var div=document.createElement("div");cmjQuery_(div).attr('class','mb-preview-top-header mb-grey');var today=new Date();var timeNow=today.getTime();var diffTime=timeNow-doc.updatedtime*1000;var datestring;if(diffTime<(24*60*60*1000)){datestring=base.dateFormat_.formatDate(doc.updatedtime*1000,true,true);}else{datestring=base.dateFormat_.formatDateWith(doc.updatedtime*1000,"m/d/yy h:MM:ss tt");}
var updateduserinfo="Updated "+datestring+" by ";if(doc.lastmodifiedusername.length>0){updateduserinfo=updateduserinfo+doc.lastmodifiedusername;}else{updateduserinfo=updateduserinfo+doc.lastmodifieduseremail;}
cmjQuery_(div).html(updateduserinfo);cmjQuery_(node).append(div);var div=document.createElement("div");var table=document.createElement("table");cmjQuery_(table).attr({cellspacing:0,cellpadding:0});cmjQuery_(table).css('table-layout','fixed');cmjQuery_(table).attr("class","mb-font-normal");cmjQuery_(table).width("100%");var tbody=document.createElement("tbody");var tr=document.createElement("tr");var td=document.createElement("td");var gotolink=document.createElement("div");cmjQuery_(gotolink).attr("class","mb-locate-link");base.AddLinkToDoc(doc,gotolink);cmjQuery_(td).append(gotolink);cmjQuery_(tr).append(td);var td=document.createElement("td");cmjQuery_(td).attr('class','mb-preview-show-details');cmjQuery_(td).width(80);var span=document.createElement("span");cmjQuery_(span).attr('class','mb-link');cmjQuery_(span).text("show details");cmjQuery_(span).attr('title','show details');cmjQuery_(span).click(function(){if(cmjQuery_(".mb-preview-header-table").is(':visible')==true){cmjQuery_(this).html("show details");cmjQuery_(this).attr('title','show details');cmjQuery_(".mb-preview-header-table").hide();}else{cmjQuery_(".mb-preview-header-table").show();cmjQuery_(this).html("hide details");cmjQuery_(this).attr('title','hide details');}});cmjQuery_(td).append(span);cmjQuery_(tr).append(td);cmjQuery_(tbody).append(tr);cmjQuery_(table).append(tbody);cmjQuery_(div).append(table);cmjQuery_(node).append(div);};proto.AddDocSharedMembers=function(doc,tbody){if(doc.sharedmembers.length==0){return;}
if(doc.collaborators>0){var index=0;for(var i=0;i<doc.sharedmembers.length;i++){var d=doc.sharedmembers[i];if(d.p!="c"){continue;}
self.AddMember(d,tbody,"can edit",index,doc.collaborators);index++;}}
if(doc.viewers>0){var index=0;for(var i=0;i<doc.sharedmembers.length;i++){var d=doc.sharedmembers[i];if(d.p!="v"){continue;}
self.AddMember(d,tbody,"can view",index,doc.viewers);index++;}}};proto.AddMember=function(doc,tbody,caption,index,max){var tr=document.createElement("tr");var td=document.createElement("td");cmjQuery_(td).attr("class","mb-preview-header mb-preview-header-td");if(index!=0){cmjQuery_(td).append(base.utils_.SetCaption("&nbsp;"));}else{cmjQuery_(td).append(base.utils_.SetCaption(caption));}
cmjQuery_(tr).append(td);td=document.createElement("td");cmjQuery_(td).attr("class","mb-preview-header-td mb-preview-search-value mb-preview-search-value-to");var sep="";if(index!=max-1){sep=", ";}
self.AddText(td,doc.e+sep);cmjQuery_(tr).append(td);cmjQuery_(tbody).append(tr);};proto.MakeHyperlink=function(){var exp=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;cmjQuery_(".mb-preview-search-value-body").hyperlinkRegex(exp,"_blank",false);exp=/(\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b)/ig;cmjQuery_(".mb-preview-search-value-body").hyperlinkRegex(exp,"_blank",true);};proto.FindOwnerGuestIndexInGuestJson=function(guests,accountemail){for(var i=0;i<guests.length;i++){if(accountemail==guests[i].e){return i;}}
return-1;};proto.GetEventDate=function(event,isallday){var today=new Date();var curr_day=today.getDate();var curr_year=today.getFullYear();var curr_month=today.getMonth();var rec_date=null;var rec_day=null;var rec_year=null;var rec_month=null;var stimedateobj;var etimedateobj
if(event.starttime==undefined||event.endtime==undefined){return" ";}
var stime=event.starttime*1000;var etime=event.endtime*1000;if(isNaN(parseInt(stime))==false){stimedateobj=new Date(parseInt(stime));}else{stimedateobj=new Date(stime);}
if(stimedateobj==null){return" ";}
if(isNaN(parseInt(etime))==false){etimedateobj=new Date(parseInt(etime));}else{etimedateobj=new Date(etime);}
if(etimedateobj==null){return" ";}
var dateformat;if(curr_year==stimedateobj.getFullYear()){if(isallday==true){dateformat="mmm d";}else{dateformat="mmm d hh:MMtt";}}else{if(isallday==true){dateformat="mm/dd/yyyy";}else{dateformat="mm/dd/yyyy hh:MMtt";}}
eventdate=base.dateFormat_.dateFormat(stimedateobj,dateformat);dateformat=null;if(stimedateobj.getFullYear()!=etimedateobj.getFullYear()){dateformat="mm/dd/yyyy ";}else if(stimedateobj.getMonth()!=etimedateobj.getMonth()||stimedateobj.getDay()!=etimedateobj.getDay()){dateformat="mmm d ";}
if(isallday!=true){if(dateformat!=null){dateformat+="hh:MMtt";}else{dateformat="hh:MMtt";}}
if(dateformat!=null){var endtimestr=base.dateFormat_.dateFormat(etimedateobj,dateformat);eventdate+=" to "+endtimestr;}
return eventdate;};proto.GuestAttendeStatus=function(gueststatus,asguesticon){gueststatus=gueststatus||"accepted";var status=" ";if(gueststatus=="accepted"){if(asguesticon==true){status="mb-event-guest-yes-status";}else if(asguesticon==false){status="mb-event-status-yes";}else{status="Yes, I'm going";}}else if(gueststatus=="declined"){if(asguesticon==true){status="mb-event-guest-no-status";}else if(asguesticon==false){status="mb-event-status-no";}else{status="No, I'm not going";}}else if(gueststatus=="tentative"){if(asguesticon==true){status="mb-event-guest-maybe-status";}else if(asguesticon==false){status="mb-event-status-maybe";}else{status="I might go";}}else{if(asguesticon==true){status="";}else if(asguesticon==false){status="";}else{status="";}}
return status;};proto.GetEmptyMessage=function(sectype){var typemsg="";switch(sectype){case base.c_.CONTACT:typemsg="contacts";break;case base.c_.MAIL:typemsg="mails";break;case base.c_.EVENT:typemsg="events";break;case base.c_.DOC:case base.c_.EVERYTHING:typemsg="documents";break;}
var msg="<span class='cm-font-normal' style='color:black'>Your search - <span style='font-weight:bold'>"+base.activeSearchString_+"</span> - did not match any "+typemsg+".<br/>"+"<br/>Suggestions:<br/><br/>"+"  * Make sure all words are spelled correctly.<br/>"+"   * Try different keywords.<br/>"+"  * Try more general keywords.</span>";return msg;};proto.UpdateStatus=function(){try{var result=base.plugin_.GetIndexStatus(function(response){var result=JSON.parse(response);base.statusMsg_=result;var timeout=100;if(base.statusMsg_&&typeof(base.statusMsg)!=undefined&&base.statusMsg_.isValidResponse==1){base.SetStatusMessage();timeout=base.c_.UPDATE_STATUS_DELAY;}
window.setTimeout(function(){self.UpdateStatus();},timeout);});}catch(e){base.utils_.CMLOG(e);}};proto.CheckForSafariUpdates=function(){if(cmjQuery_.browser.safari!=true){return;}
var updatecheckinterval=60*60*24;if(base.pref_.SafariUpdateCheckTime==0){base.pref_.SafariUpdateCheckTime=parseInt(new Date().getTime()/1000);}else{var currentts=parseInt(new Date().getTime()/1000);var diff=currentts-base.pref_.SafariUpdateCheckTime;if(diff<updatecheckinterval){return;}else{base.pref_.SafariUpdateCheckTime=currentts;}}
var update_check_url=window.location.protocol+"//www.cloudmagic.com/stat/update.php?jsoncallback=?";if(CloudMagic.cmDebug!="0"){update_check_url="http://"+CloudMagic.CMHST+"/stat/update.php?jsoncallback=?";}
cmjQuery_.getJSON(update_check_url,{majorversion:base.version_.majorversion,minorversion:base.version_.minorversion,betastring:base.version_.betastring,ts:CloudMagic.CMSCRIPTTS},function(data){try{if(data){base.ShowNewVersionMessage(data);base.plugin_.SetPreferences("SafariUpdateCheckTime",base.pref_.SafariUpdateCheckTime,null);}}catch(e){}});};proto.HandleTrackingAndJSChanges=function(){base.usageCount_++;if(base.lastTrackingTS_==0){base.lastTrackingTS_=parseInt(new Date().getTime()/1000);}else{var currentts=parseInt(new Date().getTime()/1000);var diff=currentts-base.lastTrackingTS_;if(diff<(15*60)){return;}else{base.lastTrackingTS_=currentts;}}
var script_update_check_url=window.location.protocol;if(CloudMagic.cmDebug!="0"){script_update_check_url="http:";}else if(script_update_check_url!="http:"&&script_update_check_url!="https:"){script_update_check_url="https:";}
script_update_check_url=script_update_check_url+"//"+CloudMagic.CMHST+"/res/";var script_ver=""+base.version_.majorversion+"_"+base.version_.minorversion;if(base.version_.betastring.length>0){script_ver=script_ver+"_"+base.version_.betastring;}
script_update_check_url=script_update_check_url+script_ver+"/php/script_update_check.php?jsoncallback=?";cmjQuery_.getJSON(script_update_check_url,{uuid:base.uuid_,majorversion:base.version_.majorversion,minorversion:base.version_.minorversion,betastring:base.version_.betastring,ts:CloudMagic.CMSCRIPTTS,searchcount:base.usageCount_},function(data){try{if(data&&data.update==1){base.ShowRefreshMessage();}}catch(e){}});base.usageCount_=0;};proto.AddText=function(node,value){var div=document.createElement("div");cmjQuery_(div).text(value);cmjQuery_(node).append(div);};proto.InitializeIframe=function(iframe){var headID=iframe.contentWindow.document.getElementsByTagName("head")[0];try{headID.innerHTML="<style>.highlight{background-color: #FFDBB7;}</style>";}catch(e){}
iframe.contentWindow.document.body.innerHTML="Loading...";cmjQuery_(iframe.contentWindow.document.body).css("font-size","12px");};proto.GetAttachmentHandler=function(mail,attachment){var func=function(e){base.plugin_.OpenAttachment(mail.accountemail,mail.accountid,mail.uid,attachment.s,attachment.n,attachment.e,self.OpenAttachemntHandler(e));};return func;};proto.OpenAttachemntHandler=function(e){var func=function(response){var FILE_DOWNLOAD_ALREADY_IN_PROGRESS=-3;var FILE_NOTDOWNLOADED=0;base.attachmentDownloadStatus_=response;if(base.attachmentDownloadStatus_==FILE_DOWNLOAD_ALREADY_IN_PROGRESS){alert("One download is already in progress, please try after some time");return;}else if(base.attachmentDownloadStatus_==FILE_NOTDOWNLOADED){var anchor=cmjQuery_(e.target);base.utils_.AppendBusy(anchor);window.setTimeout(function(){self.CheckForOpenAttachment(anchor);},base.c_.ATTACHMENT_OPEN_DELAY);}else{base.utils_.RemoveBusy(anchor);self.ReportOpenAttachmentErrorStatus(base.attachmentDownloadStatus_);}};return func;};proto.ReportOpenAttachmentErrorStatus=function(_errno){if(_errno==-1){alert("Failed to open attachment");}else if(_errno==-2){alert("Failed to download attachment, Check \"Manage Accounts\" for more details");}};proto.CheckForOpenAttachment=function(target){base.plugin_.CheckForOpenAttachment(self.CheckForOpenAttachmentHandler(target));};proto.CheckForOpenAttachmentHandler=function(target){var func=function(response){var FILE_NOTDOWNLOADED=0;base.attachmentDownloadStatus_=response;if(base.attachmentDownloadStatus_==FILE_NOTDOWNLOADED){window.setTimeout(function(target){self.CheckForOpenAttachment();},base.c_.ATTACHMENT_OPEN_DELAY);}else{base.utils_.RemoveBusy(target);self.ReportOpenAttachmentErrorStatus(base.attachmentDownloadStatus_);}};return func;};proto.CalculateSearchResultCount=function(){var singlerowheight=46;if(self.isWidget_!=true){singlerowheight=60;}
var unusedheight=125;if(self.isWidget_!=true){unusedheight=160;}
var containerhgt=screen.height-unusedheight;base.maxContactSearchResultCount_=parseInt(Math.ceil(containerhgt/singlerowheight));if(base.maxContactSearchResultCount_<5){base.maxContactSearchResultCount_=5;}
base.maxSearchResultCount_=parseInt(Math.ceil(base.maxContactSearchResultCount_*2/3));if(base.maxSearchResultCount_<5){base.maxSearchResultCount_=5;}
base.plugin_.SetMaxSearchResult(base.maxContactSearchResultCount_,base.maxSearchResultCount_,function(){});};proto.HandleMouseEvents=function(){window.setTimeout(function(){if(base.acTimeout_){clearTimeout(base.acTimeout_);base.acTimeout_=null;}
base.acTimeout_=window.setTimeout(function(){base.HandleClearButton();base.common_.HandleAutoComplete(0);},base.c_.AUTOCOMPLETE_DELAY);},100);};proto.EscapeMailMessageId=function(mail){if(mail&&mail.messageid){try{mail.messageid=mail.messageid.replace(/^<*/,"").replace(/>*$/,"");mail.messageid=mail.messageid.replace(/^-*/,"");while(1){var ch=mail.messageid.charAt(0);if(ch=="!"||ch=="&"){mail.messageid=mail.messageid.substring(1,mail.messageid.length);}else{break;}}}catch(e){}}};};if("undefined"==typeof(CloudMagic)){var CloudMagic={};};CloudMagic.Constants=function(){var self=this;var proto=CloudMagic.Constants.prototype;self.MAX_SEARCH_RESULT_COUNT=20;self.MAX_WIDGET_SEARCH_RESULT_COUNT=20;self.MAX_SINGLE_SEARCH_RESULT_COUNT=20;self.EMPTY_SEARCH="Search...(Ctrl+/)";self.UPDATE_STATUS_DELAY=10000;self.ATTACHMENT_OPEN_DELAY=2000;self.CHECK_FOR_MORE_DELAY=150;self.AUTOCOMPLETE_DELAY=200;self.WIDGET_MIN_HEIGHT=200;self.WIDGET_DEFAULT_TOP=36;self.WIDGET_DEFAULT_TOP_SINGLE_DOC=72;self.WIDGET_DEFAULT_WIDTH_GMAIL=288;self.WIDGET_DEFAULT_WIDTH_GDOC=335;self.WIDGET_DEFAULT_WIDTH_GCAL=260;self.WIDGET_DEFAULT_LEFT_GMAIL=170;self.WIDGET_DEFAULT_LEFT_DOC=400;self.DEF_MAIL_VIEW_WIDTH=310;self.MAX_SNIPPET_CHAR_SIZE=149;self.MAX_PREVIEW_WINDOW_HEIGHT=450;self.MAX_PREVIEW_WINDOW_WIDTH=700;self.CONTENT_TOP=155;self.PREVIEW_WINDOW_LEFT_POS=450;self.ELLIPSIS="&#8230;";self.SHOW_MAILS_ON_MOUSE_MOVE=0;self.NO_VIEW=0;self.AC_VIEW=1;self.ML_VIEW=2;self.M_VIEW=3;self.EVERYTHING=0;self.CONTACT=1;self.MAIL=2;self.DOC=4;self.EVENT=8;self.DEFAULT_TAB_SELECTED="SelectedWidgetTab";self.DEFAULT_SEARCHABLE_ITEMS=15;self.DEFAULT_SEARCHABLE_ITEMS_IN_GMAIL=250;self.DEFAULT_SEARCHABLE_ITEMS_IN_GDOC=252;self.DEFAULT_WIDGET_LAYOUT=421;self.DEFAULT_WIDGET_LAYOUT_IN_GMAIL=142;self.DEFAULT_WIDGET_LAYOUT_IN_GDOC=124;self.MIGRATING_MSG="Migrating your data files to new version. This may take a few minutes. Please wait...";self.SCHEMA_CONFLICT_MSG="Found newer version of data files. Please update CloudMagic extension.";self.PREVIEW_WINDOW_OPTIONS={autoPosition:true,opacity:70,overlayCss:{backgroundColor:"#000000"},overlayClose:true,containerCss:{border:"2px solid #666666",padding:"10px",backgroundColor:"white",width:"50%",height:"50%"}};};if("undefined"==typeof(CloudMagic)){var CloudMagic={};};CloudMagic.InterfacePlugin=function(){var self=this;var proto=CloudMagic.InterfacePlugin.prototype;self.isWebkit_=cmjQuery_.browser.webkit;if(CloudMagic.CMBROWSER!="undefined"&&CloudMagic.CMBROWSER=="gc"){self.isWebkit_=true;}
self.plugin_=null;self.pluginElement_=null;self.utils_=new CloudMagic.WidgetUtilities();self.INVALID_ARGUMENTS="Invalid arguments!";self.RESPONSE_TIMEOUT=30000;self.dataRequestMetaInfo={};proto.Init=function(){cmjQuery_('#cmInterfacePlugin').remove();var p;if(self.isWebkit_==true){p=document.createElement("embed");p.id='cmInterfacePlugin';p.type='application/x-cloudmagic-interface';p.width=0;p.height=0;}else{p=document.createElement("cmInterfacePluginElement");p.id="cmInterfacePlugin";cmjQuery_(p).attr("cloudMagicRequestId",(Number(new Date())+"_"+Math.ceil(Math.random()*100000)).toString());}
document.body.appendChild(p);self.plugin_=p;};proto.GetRequestMetaInfo=function(requestname){if(typeof self.dataRequestMetaInfo[requestname]=="undefined"){self.dataRequestMetaInfo[requestname]=new Object();}
return self.dataRequestMetaInfo[requestname];};proto.IgnoreResponse=function(requestname){if(self.isWebkit_==true){return;}
var req=self.GetRequestMetaInfo(requestname);if(typeof req.timer!="undefined"&&req.timer!=null){clearTimeout(req.timer);req.timer=null;}};proto.InvokeXPCOMFunction=function(functionname,callback){cmjQuery_(self.plugin_).removeAttr(functionname);cmjQuery_(self.plugin_).attr("requestType",functionname);var evt=document.createEvent("Events");evt.initEvent("CMDataRequest",true,false);self.plugin_.dispatchEvent(evt);var req=self.GetRequestMetaInfo(functionname);self.HandleResponse(functionname,callback,req);};proto.SetParameters=function(functionname,arglist,test){for(var i=0;i<arglist.length-1;i++){cmjQuery_(self.plugin_).attr(functionname+"_Param"+(i+1),arglist[i].toString());}};proto.GetAppPort=function(callback){if(arguments.length!=1){alert(self.INVALID_ARGUMENTS+"[GetAppPort]");}
if(self.isWebkit_==true){var response=self.plugin_.GetAppPort();if(callback){callback(response);}}else{var functionname="GetAppPort";self.IgnoreResponse(functionname);self.InvokeXPCOMFunction(functionname,callback);}};proto.GetAppUUID=function(callback){if(arguments.length!=1){alert(self.INVALID_ARGUMENTS+"[GetAppUUID]");}
if(self.isWebkit_==true){var response=self.plugin_.GetAppUUID();if(callback){callback(response);}}else{var functionname="GetAppUUID";self.IgnoreResponse(functionname);self.InvokeXPCOMFunction(functionname,callback);}};proto.GetAppVersion=function(callback){if(arguments.length!=1){alert(self.INVALID_ARGUMENTS+"[GetAppVersion]");}
if(self.isWebkit_==true){var response=self.plugin_.GetAppVersion();if(callback){callback(response);}}else{var functionname="GetAppVersion";self.IgnoreResponse(functionname);self.InvokeXPCOMFunction(functionname,callback);}};proto.GetIndexStatus=function(callback){if(arguments.length!=1){alert(self.INVALID_ARGUMENTS+"[GetIndexStatus]");}
if(self.isWebkit_==true){var response=self.plugin_.GetIndexStatus();if(callback){callback(response);}}else{var functionname="GetIndexStatus";self.IgnoreResponse(functionname);self.InvokeXPCOMFunction(functionname,callback);}};proto.IsNewVersion=function(callback){if(arguments.length!=1){alert(self.INVALID_ARGUMENTS+"[IsNewVersion]");}
if(self.isWebkit_==true){var response=self.plugin_.IsNewVersion();if(callback){callback(response);}}else{var functionname="IsNewVersion";self.IgnoreResponse(functionname);self.InvokeXPCOMFunction(functionname,callback);}};proto.GetPreferences=function(callback){if(arguments.length!=1){alert(self.INVALID_ARGUMENTS+"[GetPreferences]");}
if(self.isWebkit_==true){var response=self.plugin_.GetPreferences();if(callback){callback(response);}}else{var functionname="GetPreferences";self.IgnoreResponse(functionname);self.InvokeXPCOMFunction(functionname,callback);}};proto.SetPreferences=function(name,value,callback){if(arguments.length!=3){alert(self.INVALID_ARGUMENTS+"[SetPreferences]");}
if(self.isWebkit_==true){var response=self.plugin_.SetPreferences(name,value.toString());if(callback){callback(response);}}else{var functionname="SetPreferences";proto.SetParameters(functionname,arguments);self.InvokeXPCOMFunction(functionname,callback);}};proto.OpenAttachment=function(email,accountid,mailuid,section,filename,encoding,callback){if(arguments.length!=7){alert(self.INVALID_ARGUMENTS+"[OpenAttachment]");}
if(self.isWebkit_==true){var response=self.plugin_.OpenAttachment(email,accountid,mailuid,section,filename,encoding);if(callback){callback(response);}}else{var functionname="OpenAttachment";proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.CheckForOpenAttachment=function(callback){if(arguments.length!=1){alert(self.INVALID_ARGUMENTS+"[CheckForOpenAttachment]");}
if(self.isWebkit_==true){var response=self.plugin_.CheckForOpenAttachment();if(callback){callback(response);}}else{self.InvokeXPCOMFunction("CheckForOpenAttachment",callback);}};proto.GetAutoComplete=function(query,searchtype,email,callback){if(arguments.length!=4){alert(self.INVALID_ARGUMENTS+"[GetAutoComplete]");}
if(self.isWebkit_==true){var response=self.plugin_.GetAutoComplete(query,searchtype,email);if(callback){callback(response);}}else{var functionname="GetAutoComplete";self.IgnoreResponse(functionname);self.IgnoreResponse("GetRemainingACMails");self.IgnoreResponse("GetRemainingACContacts");self.IgnoreResponse("GetRemainingACDocs");self.IgnoreResponse("GetRemainingACEvents");proto.SetParameters(functionname,arguments);self.InvokeXPCOMFunction(functionname,callback);}};proto.GetRemainingACMails=function(offset,queryid,callback){if(arguments.length!=3){alert(self.INVALID_ARGUMENTS+"[GetRemainingACMails]");}
if(self.isWebkit_==true){var response=self.plugin_.GetRemainingACMails(offset,queryid);if(callback){callback(response);}}else{var functionname="GetRemainingACMails";proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.GetRemainingACDocs=function(offset,queryid,callback){if(arguments.length!=3){alert(self.INVALID_ARGUMENTS+"[GetRemainingACDocs]");}
if(self.isWebkit_==true){var response=self.plugin_.GetRemainingACDocs(offset,queryid);if(callback){callback(response);}}else{var functionname="GetRemainingACDocs";proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.GetRemainingACEvents=function(offset,queryid,callback){if(arguments.length!=3){alert(self.INVALID_ARGUMENTS+"[GetRemainingACEvents]");}
if(self.isWebkit_==true){var response=self.plugin_.GetRemainingACEvents(offset,queryid);if(callback){callback(response);}}else{var functionname="GetRemainingACEvents";proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.GetRemainingACContacts=function(offset,queryid,callback){if(arguments.length!=3){alert(self.INVALID_ARGUMENTS+"[GetRemainingACContacts]");}
if(self.isWebkit_==true){var response=self.plugin_.GetRemainingACContacts(offset,queryid);if(callback){callback(response);}}else{var functionname="GetRemainingACContacts";proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.GetRemainingContacts=function(offset,queryid,callback){if(arguments.length!=3){alert(self.INVALID_ARGUMENTS+"[GetRemainingContacts]");}
if(self.isWebkit_==true){var response=self.plugin_.GetRemainingContacts(offset,queryid);if(callback){callback(response);}}else{var functionname="GetRemainingContacts";proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.SearchForMails=function(query,recindex,rectts,offset,callback){if(arguments.length!=5){alert(self.INVALID_ARGUMENTS+"[SearchForMails]");}
if(self.isWebkit_==true){var response=self.plugin_.SearchForMails(query,recindex,rectts,offset);if(callback){callback(response);}}else{var functionname="SearchForMails";proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.SearchForDocs=function(query,recindex,rectts,offset,callback){if(arguments.length!=5){alert(self.INVALID_ARGUMENTS+"[SearchForDocs]");}
if(self.isWebkit_==true){var response=self.plugin_.SearchForDocs(query,recindex,rectts,offset);if(callback){callback(response);}}else{var functionname="SearchForDocs";proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.SearchForContacts=function(query,offset,callback){if(arguments.length!=3){alert(self.INVALID_ARGUMENTS+"[SearchForContacts]");}
if(self.isWebkit_==true){var response=self.plugin_.SearchForContacts(query,offset);if(callback){callback(response);}}else{var functionname="SearchForContacts";proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.SearchForEvents=function(query,recindex,rectts,offset,callback){if(arguments.length!=5){alert(self.INVALID_ARGUMENTS+"[SearchForEvents]");}
if(self.isWebkit_==true){var response=self.plugin_.SearchForEvents(query,recindex,rectts,offset);if(callback){callback(response);}}else{var functionname="SearchForEvents";proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.GetMail=function(mailid,callback){if(arguments.length!=2){alert(self.INVALID_ARGUMENTS+"[GetMail]");}
if(self.isWebkit_==true){var response=self.plugin_.GetMail(mailid);if(callback){callback(response);}}else{var functionname="GetMail";self.IgnoreResponse(functionname);proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.GetDoc=function(docid,callback){if(arguments.length!=2){alert(self.INVALID_ARGUMENTS+"[GetDoc]");}
if(self.isWebkit_==true){var response=self.plugin_.GetDoc(docid);if(callback){callback(response);}}else{var functionname="GetDoc";self.IgnoreResponse(functionname);proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.GetEvent=function(eventid,callback){if(arguments.length!=2){alert(self.INVALID_ARGUMENTS+"[GetEvent]");}
if(self.isWebkit_==true){var response=self.plugin_.GetEvent(eventid);if(callback){callback(response);}}else{var functionname="GetEvent";self.IgnoreResponse(functionname);proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.GetContact=function(contactid,callback){if(arguments.length!=2){alert(self.INVALID_ARGUMENTS+"[GetDoc]");}
if(self.isWebkit_==true){var response=self.plugin_.GetContact(contactid);if(callback){callback(response);}}else{var functionname="GetContact";self.IgnoreResponse(functionname);proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.SetMaxSearchResult=function(contactcount,noncontactcount,callback){if(arguments.length!=3){alert(self.INVALID_ARGUMENTS+"[SetMaxSearchResult]");}
if(self.isWebkit_==true){var response=self.plugin_.SetMaxSearchResult(contactcount,noncontactcount);if(callback){callback(response);}}else{var functionname="SetMaxSearchResult";self.IgnoreResponse(functionname);proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.SetAccountEmail=function(email,callback){if(arguments.length!=2){alert(self.INVALID_ARGUMENTS+"[SetAccountEmail]");}
if(self.isWebkit_==true){var response=self.plugin_.SetAccountEmail(email);if(callback){callback(response);}}else{var functionname="SetAccountEmail";self.IgnoreResponse(functionname);proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.SetUIType=function(type,callback){if(arguments.length!=2){alert(self.INVALID_ARGUMENTS+"[SetUIType]");}
if(self.isWebkit_==true){var response=self.plugin_.SetUIType(type);if(callback){callback(response);}}else{var functionname="SetUIType";self.IgnoreResponse(functionname);proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.OpenInTab=function(url,callback){if(arguments.length!=2){alert(self.INVALID_ARGUMENTS+"[OpenInTab]");}
if(self.isWebkit_==true){if(window.location.protocol=="chrome-extension:"){chrome.extension.sendRequest({requestType:"CloudMagicOpenInTab",openUrl:url},function(){});}else{var functionname="CloudMagicOpenInTab";proto.SetParameters(functionname,arguments);var evt=document.createEvent("Events");evt.initEvent(functionname,true,false);self.plugin_.dispatchEvent(evt);}}else{var functionname="OpenInTab";self.IgnoreResponse(functionname);proto.SetParameters(functionname,arguments);;self.InvokeXPCOMFunction(functionname,callback);}};proto.HandleResponse=function(responseAttribute,func,reqqobj,totalelapsedtime){totalelapsedtime=totalelapsedtime||0;var DELAY=100;reqqobj.timer=window.setTimeout(function(){if(cmjQuery_(self.plugin_).hasAttr(responseAttribute)==true){var response=cmjQuery_(self.plugin_).attr(responseAttribute);if(func!=null){func(response);}}else{if(totalelapsedtime>self.RESPONSE_TIMEOUT){if(func!=null){func(null);}}else{totalelapsedtime+=DELAY;self.HandleResponse(responseAttribute,func,reqobj,totalelapsedtime);}}},DELAY);};};if("undefined"==typeof(CloudMagic)){var CloudMagic={};};CloudMagic.DateUtilities=function(){var self=this;var proto=CloudMagic.DateUtilities.prototype;proto.dateFormat=function(){var token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g,pad=function(val,len){val=String(val);len=len||2;while(val.length<len)val="0"+val;return val;};return function(date,mask,utc){var dF=self.dateFormat;if(arguments.length==1&&(typeof date=="string"||date instanceof String)&&!/\d/.test(date)){mask=date;date=undefined;}
date=date?new Date(date):new Date();if(isNaN(date))throw new SyntaxError("invalid date");mask=String(dF.masks[mask]||mask||dF.masks["default"]);if(mask.slice(0,4)=="UTC:"){mask=mask.slice(4);utc=true;}
var _=utc?"getUTC":"get",d=date[_+"Date"](),D=date[_+"Day"](),m=date[_+"Month"](),y=date[_+"FullYear"](),H=date[_+"Hours"](),M=date[_+"Minutes"](),s=date[_+"Seconds"](),L=date[_+"Milliseconds"](),o=utc?0:date.getTimezoneOffset(),flags={d:d,dd:pad(d),ddd:dF.i18n.dayNames[D],dddd:dF.i18n.dayNames[D+7],m:m+1,mm:pad(m+1),mmm:dF.i18n.monthNames[m],mmmm:dF.i18n.monthNames[m+12],yy:String(y).slice(2),yyyy:y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H),M:M,MM:pad(M),s:s,ss:pad(s),l:pad(L,3),L:pad(L>99?Math.round(L/10):L),t:H<12?"a":"p",tt:H<12?"am":"pm",T:H<12?"A":"P",TT:H<12?"AM":"PM",Z:utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,""),o:(o>0?"-":"+")+pad(Math.floor(Math.abs(o)/60)*100+Math.abs(o)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]};return mask.replace(token,function($0){return $0 in flags?flags[$0]:$0.slice(1,$0.length-1);});};}();proto.dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};proto.dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};proto.formatDate=function(_timeValue,_showDiffFromCurrent,_onlyDiff){var today=new Date();var diff=_showDiffFromCurrent||false;var curr_day=today.getDate();var curr_year=today.getFullYear();var curr_month=today.getMonth();var rec_date=null;var rec_day=null;var rec_year=null;var rec_month=null;var received=null;var value=_timeValue;if(isNaN(parseInt(value))==false){rec_date=new Date(parseInt(value));}else{rec_date=new Date(value);}
rec_day=rec_date.getDate();rec_year=rec_date.getFullYear();rec_month=rec_date.getMonth();received=null;if(curr_day==rec_day&&curr_month==rec_month&&curr_year==rec_year){received=self.dateFormat(rec_date,"h:MM tt");}else if(curr_year==rec_year){received=self.dateFormat(rec_date,"mmm d");}else{received=self.dateFormat(rec_date,"m/d/yy");}
if(diff==true){var timeNow=today.getTime();var diffTime=timeNow-_timeValue;var timeForOneMinute=1000*60;var timeForOneHour=timeForOneMinute*60;var timeForOneDay=timeForOneHour*24;var noOfDays=Math.floor(diffTime/timeForOneDay);var googleTypeAgoTime="";if(noOfDays>1&&noOfDays<14){googleTypeAgoTime=noOfDays+" days ago";}
else if(noOfDays==1){googleTypeAgoTime=noOfDays+" day ago";}
else if(noOfDays==0){var noOfHours=Math.floor(diffTime/timeForOneHour);if(noOfHours>1&&noOfHours<24){googleTypeAgoTime=noOfHours+" hrs ago";}
else if(noOfHours==1){googleTypeAgoTime=noOfHours+" hr ago";}
else if(noOfHours==0){var noOfMinutes=Math.floor(diffTime/timeForOneMinute);if(noOfMinutes>1&&noOfMinutes<60){googleTypeAgoTime=noOfMinutes+" mins ago";}
else if(noOfMinutes==1){googleTypeAgoTime=noOfMinutes+" min ago";}}}
if(googleTypeAgoTime==""){received=String(received);}else if(_onlyDiff==true){received=googleTypeAgoTime;}else{received=String(received)+" ("+googleTypeAgoTime+")";}}
return String(received);};proto.formatDateWith=function(_timeValue,_format){var rec_date;_format=_format||"m/d/yy HH:MM:ss";if(isNaN(parseInt(_timeValue))==false){rec_date=new Date(parseInt(_timeValue));}else{rec_date=new Date(_timeValue);}
var formateddate=self.dateFormat(rec_date,_format);return String(formateddate);};};/*
 * jQuery corner plugin: simple corner rounding
 * Examples and documentation at: http://jquery.malsup.com/corner/
 * version 2.09 (11-MAR-2010)
 * Requires jQuery v1.3.2 or later
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Dave Methvin and Mike Alsup
 */
;(function($){var style=document.createElement('div').style;var moz=style['MozBorderRadius']!==undefined;var webkit=style['WebkitBorderRadius']!==undefined;var radius=style['borderRadius']!==undefined||style['BorderRadius']!==undefined;var mode=document.documentMode||0;var noBottomFold=$.browser.msie&&(($.browser.version<8&&!mode)||mode<8);var expr=$.browser.msie&&(function(){var div=document.createElement('div');try{div.style.setExpression('width','0+0');div.style.removeExpression('width');}
catch(e){return false;}
return true;})();function sz(el,p){return parseInt($.css(el,p))||0;};function hex2(s){var s=parseInt(s).toString(16);return(s.length<2)?'0'+s:s;};function gpc(node){while(node){var v=$.css(node,'backgroundColor');if(v&&v!='transparent'&&v!='rgba(0, 0, 0, 0)'){if(v.indexOf('rgb')>=0){var rgb=v.match(/\d+/g);return'#'+hex2(rgb[0])+hex2(rgb[1])+hex2(rgb[2]);}
return v;}
node=node.parentNode;}
return'#ffffff';};function getWidth(fx,i,width){switch(fx){case'round':return Math.round(width*(1-Math.cos(Math.asin(i/width))));case'cool':return Math.round(width*(1+Math.cos(Math.asin(i/width))));case'sharp':return Math.round(width*(1-Math.cos(Math.acos(i/width))));case'bite':return Math.round(width*(Math.cos(Math.asin((width-i-1)/width))));case'slide':return Math.round(width*(Math.atan2(i,width/i)));case'jut':return Math.round(width*(Math.atan2(width,(width-i-1))));case'curl':return Math.round(width*(Math.atan(i)));case'tear':return Math.round(width*(Math.cos(i)));case'wicked':return Math.round(width*(Math.tan(i)));case'long':return Math.round(width*(Math.sqrt(i)));case'sculpt':return Math.round(width*(Math.log((width-i-1),width)));case'dogfold':case'dog':return(i&1)?(i+1):width;case'dog2':return(i&2)?(i+1):width;case'dog3':return(i&3)?(i+1):width;case'fray':return(i%2)*width;case'notch':return width;case'bevelfold':case'bevel':return i+1;}};$.fn.corner=function(options){if(this.length==0){if(!$.isReady&&this.selector){var s=this.selector,c=this.context;$(function(){$(s,c).corner(options);});}
return this;}
return this.each(function(index){var $this=$(this);var o=[$this.attr($.fn.corner.defaults.metaAttr)||'',options||''].join(' ').toLowerCase();var keep=/keep/.test(o);var cc=((o.match(/cc:(#[0-9a-f]+)/)||[])[1]);var sc=((o.match(/sc:(#[0-9a-f]+)/)||[])[1]);var width=parseInt((o.match(/(\d+)px/)||[])[1])||10;var re=/round|bevelfold|bevel|notch|bite|cool|sharp|slide|jut|curl|tear|fray|wicked|sculpt|long|dog3|dog2|dogfold|dog/;var fx=((o.match(re)||['round'])[0]);var fold=/dogfold|bevelfold/.test(o);var edges={T:0,B:1};var opts={TL:/top|tl|left/.test(o),TR:/top|tr|right/.test(o),BL:/bottom|bl|left/.test(o),BR:/bottom|br|right/.test(o)};if(!opts.TL&&!opts.TR&&!opts.BL&&!opts.BR)
opts={TL:1,TR:1,BL:1,BR:1};if($.fn.corner.defaults.useNative&&fx=='round'&&(radius||moz||webkit)&&!cc&&!sc){if(opts.TL)
$this.css(radius?'border-top-left-radius':moz?'-moz-border-radius-topleft':'-webkit-border-top-left-radius',width+'px');if(opts.TR)
$this.css(radius?'border-top-right-radius':moz?'-moz-border-radius-topright':'-webkit-border-top-right-radius',width+'px');if(opts.BL)
$this.css(radius?'border-bottom-left-radius':moz?'-moz-border-radius-bottomleft':'-webkit-border-bottom-left-radius',width+'px');if(opts.BR)
$this.css(radius?'border-bottom-right-radius':moz?'-moz-border-radius-bottomright':'-webkit-border-bottom-right-radius',width+'px');return;}
var strip=document.createElement('div');$(strip).css({overflow:'hidden',height:'1px',minHeight:'1px',fontSize:'1px',backgroundColor:sc||'transparent',borderStyle:'solid'});var pad={T:parseInt($.css(this,'paddingTop'))||0,R:parseInt($.css(this,'paddingRight'))||0,B:parseInt($.css(this,'paddingBottom'))||0,L:parseInt($.css(this,'paddingLeft'))||0};if(typeof this.style.zoom!=undefined)this.style.zoom=1;if(!keep)this.style.border='none';strip.style.borderColor=cc||gpc(this.parentNode);var cssHeight=$(this).outerHeight();for(var j in edges){var bot=edges[j];if((bot&&(opts.BL||opts.BR))||(!bot&&(opts.TL||opts.TR))){strip.style.borderStyle='none '+(opts[j+'R']?'solid':'none')+' none '+(opts[j+'L']?'solid':'none');var d=document.createElement('div');$(d).addClass('jquery-corner');var ds=d.style;bot?this.appendChild(d):this.insertBefore(d,this.firstChild);if(bot&&cssHeight!='auto'){if($.css(this,'position')=='static')
this.style.position='relative';ds.position='absolute';ds.bottom=ds.left=ds.padding=ds.margin='0';if(expr)
ds.setExpression('width','this.parentNode.offsetWidth');else
ds.width='100%';}
else if(!bot&&$.browser.msie){if($.css(this,'position')=='static')
this.style.position='relative';ds.position='absolute';ds.top=ds.left=ds.right=ds.padding=ds.margin='0';if(expr){var bw=sz(this,'borderLeftWidth')+sz(this,'borderRightWidth');ds.setExpression('width','this.parentNode.offsetWidth - '+bw+'+ "px"');}
else
ds.width='100%';}
else{ds.position='relative';ds.margin=!bot?'-'+pad.T+'px -'+pad.R+'px '+(pad.T-width)+'px -'+pad.L+'px':(pad.B-width)+'px -'+pad.R+'px -'+pad.B+'px -'+pad.L+'px';}
for(var i=0;i<width;i++){var w=Math.max(0,getWidth(fx,i,width));var e=strip.cloneNode(false);e.style.borderWidth='0 '+(opts[j+'R']?w:0)+'px 0 '+(opts[j+'L']?w:0)+'px';bot?d.appendChild(e):d.insertBefore(e,d.firstChild);}
if(fold&&$.support.boxModel){if(bot&&noBottomFold)continue;for(var c in opts){if(!opts[c])continue;if(bot&&(c=='TL'||c=='TR'))continue;if(!bot&&(c=='BL'||c=='BR'))continue;var common={position:'absolute',border:'none',margin:0,padding:0,overflow:'hidden',backgroundColor:strip.style.borderColor};var $horz=$('<div/>').css(common).css({width:width+'px',height:'1px'});switch(c){case'TL':$horz.css({bottom:0,left:0});break;case'TR':$horz.css({bottom:0,right:0});break;case'BL':$horz.css({top:0,left:0});break;case'BR':$horz.css({top:0,right:0});break;}
d.appendChild($horz[0]);var $vert=$('<div/>').css(common).css({top:0,bottom:0,width:'1px',height:width+'px'});switch(c){case'TL':$vert.css({left:width});break;case'TR':$vert.css({right:width});break;case'BL':$vert.css({left:width});break;case'BR':$vert.css({right:width});break;}
d.appendChild($vert[0]);}}}}});};$.fn.uncorner=function(){if(radius||moz||webkit)
this.css(radius?'border-radius':moz?'-moz-border-radius':'-webkit-border-radius',0);$('div.jquery-corner',this).remove();return this;};$.fn.corner.defaults={useNative:true,metaAttr:'data-corner'};})(jQuery);if("undefined"==typeof(CloudMagic)){var CloudMagic={};};CloudMagic.DateUtilities=function(){var self=this;var proto=CloudMagic.DateUtilities.prototype;proto.dateFormat=function(){var token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g,pad=function(val,len){val=String(val);len=len||2;while(val.length<len)val="0"+val;return val;};return function(date,mask,utc){var dF=self.dateFormat;if(arguments.length==1&&(typeof date=="string"||date instanceof String)&&!/\d/.test(date)){mask=date;date=undefined;}
date=date?new Date(date):new Date();if(isNaN(date))throw new SyntaxError("invalid date");mask=String(dF.masks[mask]||mask||dF.masks["default"]);if(mask.slice(0,4)=="UTC:"){mask=mask.slice(4);utc=true;}
var _=utc?"getUTC":"get",d=date[_+"Date"](),D=date[_+"Day"](),m=date[_+"Month"](),y=date[_+"FullYear"](),H=date[_+"Hours"](),M=date[_+"Minutes"](),s=date[_+"Seconds"](),L=date[_+"Milliseconds"](),o=utc?0:date.getTimezoneOffset(),flags={d:d,dd:pad(d),ddd:dF.i18n.dayNames[D],dddd:dF.i18n.dayNames[D+7],m:m+1,mm:pad(m+1),mmm:dF.i18n.monthNames[m],mmmm:dF.i18n.monthNames[m+12],yy:String(y).slice(2),yyyy:y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H),M:M,MM:pad(M),s:s,ss:pad(s),l:pad(L,3),L:pad(L>99?Math.round(L/10):L),t:H<12?"a":"p",tt:H<12?"am":"pm",T:H<12?"A":"P",TT:H<12?"AM":"PM",Z:utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,""),o:(o>0?"-":"+")+pad(Math.floor(Math.abs(o)/60)*100+Math.abs(o)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]};return mask.replace(token,function($0){return $0 in flags?flags[$0]:$0.slice(1,$0.length-1);});};}();proto.dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};proto.dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};proto.formatDate=function(_timeValue,_showDiffFromCurrent,_onlyDiff){var today=new Date();var diff=_showDiffFromCurrent||false;var curr_day=today.getDate();var curr_year=today.getFullYear();var curr_month=today.getMonth();var rec_date=null;var rec_day=null;var rec_year=null;var rec_month=null;var received=null;var value=_timeValue;if(isNaN(parseInt(value))==false){rec_date=new Date(parseInt(value));}else{rec_date=new Date(value);}
rec_day=rec_date.getDate();rec_year=rec_date.getFullYear();rec_month=rec_date.getMonth();received=null;if(curr_day==rec_day&&curr_month==rec_month&&curr_year==rec_year){received=self.dateFormat(rec_date,"h:MM tt");}else if(curr_year==rec_year){received=self.dateFormat(rec_date,"mmm d");}else{received=self.dateFormat(rec_date,"m/d/yy");}
if(diff==true){var timeNow=today.getTime();var diffTime=timeNow-_timeValue;var timeForOneMinute=1000*60;var timeForOneHour=timeForOneMinute*60;var timeForOneDay=timeForOneHour*24;var noOfDays=Math.floor(diffTime/timeForOneDay);var googleTypeAgoTime="";if(noOfDays>1&&noOfDays<14){googleTypeAgoTime=noOfDays+" days ago";}
else if(noOfDays==1){googleTypeAgoTime=noOfDays+" day ago";}
else if(noOfDays==0){var noOfHours=Math.floor(diffTime/timeForOneHour);if(noOfHours>1&&noOfHours<24){googleTypeAgoTime=noOfHours+" hrs ago";}
else if(noOfHours==1){googleTypeAgoTime=noOfHours+" hr ago";}
else if(noOfHours==0){var noOfMinutes=Math.floor(diffTime/timeForOneMinute);if(noOfMinutes>1&&noOfMinutes<60){googleTypeAgoTime=noOfMinutes+" mins ago";}
else if(noOfMinutes==1){googleTypeAgoTime=noOfMinutes+" min ago";}}}
if(googleTypeAgoTime==""){received=String(received);}else if(_onlyDiff==true){received=googleTypeAgoTime;}else{received=String(received)+" ("+googleTypeAgoTime+")";}}
return String(received);};proto.formatDateWith=function(_timeValue,_format){var rec_date;_format=_format||"m/d/yy HH:MM:ss";if(isNaN(parseInt(_timeValue))==false){rec_date=new Date(parseInt(_timeValue));}else{rec_date=new Date(_timeValue);}
var formateddate=self.dateFormat(rec_date,_format);return String(formateddate);};};if("undefined"==typeof(CloudMagic)){var CloudMagic={};};CloudMagic.WidgetUtilities=function(){var self=this;var proto=CloudMagic.WidgetUtilities.prototype;self.dateFormat_=new CloudMagic.DateUtilities();self.c_=new CloudMagic.Constants();proto.GetBaseMailUrl=function(email){var protocol=window.location.protocol;var url="mail.google.com/mail/";var index=email.indexOf("@");if(index!=-1){var domain=email.substring(index+1,email.length);if(domain!="gmail.com"&&domain!="googlemail.com"){url="mail.google.com/a/"+domain+"/";}else{var winhref=window.location.href;var macurl="mail.google.com/mail/u/";index=winhref.indexOf(macurl);if(index!=-1){var start=index+macurl.length;index=winhref.indexOf("/",start);if(index!=-1){var macindex=winhref.substring(start,index);url=macurl+macindex+"/";}}}}
if(protocol!="http:"&&protocol!="https:"){protocol="https:";}
url=protocol+"//"+url;return url;};proto.HtmlEntities=function(string,quotestyle){var hashmap={};var symbol='';var tmpstr='';var entity='';tmpstr=string.toString();if(false===(hashmap=self.GetHtmlTranslationTable('HTML_ENTITIES',quotestyle))){return false;}
hashmap["'"]='&#039;';for(symbol in hashmap){entity=hashmap[symbol];tmpstr=tmpstr.split(symbol).join(entity);}
return tmpstr;};proto.GetHtmlTranslationTable=function(table,quotestyle){var entities={};var hashmap={};var dec=0;var symbol='';var constMappingTable={};var constMappingQuoteStyle={};var useTable={};var useQuoteStyle={};constMappingTable[0]='HTML_SPECIALCHARS';constMappingTable[1]='HTML_ENTITIES';constMappingQuoteStyle[0]='ENT_NOQUOTES';constMappingQuoteStyle[2]='ENT_COMPAT';constMappingQuoteStyle[3]='ENT_QUOTES';useTable=!isNaN(table)?constMappingTable[table]:table?table.toUpperCase():'HTML_SPECIALCHARS';useQuoteStyle=!isNaN(quotestyle)?constMappingQuoteStyle[quotestyle]:quotestyle?quotestyle.toUpperCase():'ENT_COMPAT';if(useTable!=='HTML_SPECIALCHARS'&&useTable!=='HTML_ENTITIES'){throw new Error("Table: "+useTable+' not supported');}
entities['38']='&amp;';if(useTable==='HTML_ENTITIES'){entities['160']='&nbsp;';entities['161']='&iexcl;';entities['162']='&cent;';entities['163']='&pound;';entities['164']='&curren;';entities['165']='&yen;';entities['166']='&brvbar;';entities['167']='&sect;';entities['168']='&uml;';entities['169']='&copy;';entities['170']='&ordf;';entities['171']='&laquo;';entities['172']='&not;';entities['173']='&shy;';entities['174']='&reg;';entities['175']='&macr;';entities['176']='&deg;';entities['177']='&plusmn;';entities['178']='&sup2;';entities['179']='&sup3;';entities['180']='&acute;';entities['181']='&micro;';entities['182']='&para;';entities['183']='&middot;';entities['184']='&cedil;';entities['185']='&sup1;';entities['186']='&ordm;';entities['187']='&raquo;';entities['188']='&frac14;';entities['189']='&frac12;';entities['190']='&frac34;';entities['191']='&iquest;';entities['192']='&Agrave;';entities['193']='&Aacute;';entities['194']='&Acirc;';entities['195']='&Atilde;';entities['196']='&Auml;';entities['197']='&Aring;';entities['198']='&AElig;';entities['199']='&Ccedil;';entities['200']='&Egrave;';entities['201']='&Eacute;';entities['202']='&Ecirc;';entities['203']='&Euml;';entities['204']='&Igrave;';entities['205']='&Iacute;';entities['206']='&Icirc;';entities['207']='&Iuml;';entities['208']='&ETH;';entities['209']='&Ntilde;';entities['210']='&Ograve;';entities['211']='&Oacute;';entities['212']='&Ocirc;';entities['213']='&Otilde;';entities['214']='&Ouml;';entities['215']='&times;';entities['216']='&Oslash;';entities['217']='&Ugrave;';entities['218']='&Uacute;';entities['219']='&Ucirc;';entities['220']='&Uuml;';entities['221']='&Yacute;';entities['222']='&THORN;';entities['223']='&szlig;';entities['224']='&agrave;';entities['225']='&aacute;';entities['226']='&acirc;';entities['227']='&atilde;';entities['228']='&auml;';entities['229']='&aring;';entities['230']='&aelig;';entities['231']='&ccedil;';entities['232']='&egrave;';entities['233']='&eacute;';entities['234']='&ecirc;';entities['235']='&euml;';entities['236']='&igrave;';entities['237']='&iacute;';entities['238']='&icirc;';entities['239']='&iuml;';entities['240']='&eth;';entities['241']='&ntilde;';entities['242']='&ograve;';entities['243']='&oacute;';entities['244']='&ocirc;';entities['245']='&otilde;';entities['246']='&ouml;';entities['247']='&divide;';entities['248']='&oslash;';entities['249']='&ugrave;';entities['250']='&uacute;';entities['251']='&ucirc;';entities['252']='&uuml;';entities['253']='&yacute;';entities['254']='&thorn;';entities['255']='&yuml;';}
if(useQuoteStyle!=='ENT_NOQUOTES'){entities['34']='&quot;';}
if(useQuoteStyle==='ENT_QUOTES'){entities['39']='&#39;';}
entities['60']='&lt;';entities['62']='&gt;';for(dec in entities){symbol=String.fromCharCode(dec);hashmap[symbol]=entities[dec];}
return hashmap;};proto.GetKeyCode=function(e){var code=0;if(!e){e=window.event}
if(e.keyCode){code=e.keyCode;}else if(e.which){code=e.which;}
return code;};proto.GetButton=function(e){var code=0;if(!e){e=window.event}
if(e.which){code=e.which;}else if(e.button){code=e.button;}
return code;};proto.replaceURLWithHTMLLinksHelper=function(text){var exp=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;return text.replace(exp,"$1 ");};proto.addBlankToHTMLLinks=function(text){var exp=/<(a)([^>]+)>/ig;return text.replace(exp,"<$1 target='_blank' $2>");};proto.makeShowQuotedTextVisible=function(text){var exp=/<div\s*class=\s*(\"|')h5(\"|')\s*>/ig;text=text.replace(exp,'<div class="h5" style="display:block" ');return text;};proto.ReplaceSlashNWithBR=function(str){return str.replace(/\n/g,'<br />\n');};proto.ScrollIntoView=function(node,anchorNode){var sctop=cmjQuery_(anchorNode).attr('scrollTop');var hgt=cmjQuery_(anchorNode).height();var nodeoffset=cmjQuery_(node).attr('offsetTop');var nodehgt=cmjQuery_(node).height();var n=cmjQuery_(node).parent();var tagname="";try{while(tagname!="table"){tagname=cmjQuery_(n).get(0).tagName.toLowerCase();var temp=cmjQuery_(n).attr('offsetTop')
nodeoffset+=temp;n=cmjQuery_(n).parent();}}catch(e){self.CMLOG(e);}
var s=sctop+hgt;var n=nodeoffset+nodehgt;if(s<n){var r=n-hgt;cmjQuery_(anchorNode).attr('scrollTop',r);}else if(nodeoffset-55<sctop){var r=nodeoffset-85;cmjQuery_(anchorNode).attr('scrollTop',r);}};proto.InsertPlugin=function(){try{var p=new CloudMagic.InterfacePlugin();p.Init();}catch(e){alert(e);}
return p;};proto.SetCaption=function(caption){return"<span class='mb-attribute-caption'>"+caption+"</span>";};proto.AppendBusy=function(node){var div=document.createElement("div");cmjQuery_(div).attr('class','mb-busy-node');cmjQuery_(div).html("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");cmjQuery_(node).append(div);};proto.RemoveBusy=function(node){cmjQuery_('.mb-busy-node').remove();};proto.AppendDate=function(node,ts,type,ismail){var div=document.createElement("div");cmjQuery_(div).attr("class","mb-search-mail-date");var title="";if(ismail==true){if(type==2){cmjQuery_(div).addClass("mb-sent-mail");title="Sent Mail";}else if(type==1){cmjQuery_(div).addClass("mb-recv-mail");title="Received Mail";}else if(type==0){cmjQuery_(div).addClass("mb-draft");title="Draft";}}else{var filetype=type.toLowerCase().substring(0,5);switch(filetype){case"image":cmjQuery_(div).addClass("mb-photo");title="Image";break;case"docum":cmjQuery_(div).addClass("mb-doc");title="Document";break;case"sprea":cmjQuery_(div).addClass("mb-spread");title="Spreadsheet";break;case"prese":cmjQuery_(div).addClass("mb-presentation");title="Presentation";break;case"pdf":cmjQuery_(div).addClass("mb-pdf");title="pdf";break;default:cmjQuery_(div).addClass("mb-generic");title="Unknown";}}
cmjQuery_(div).html(self.dateFormat_.formatDate(ts*1000));var fulldate=self.dateFormat_.formatDateWith(ts*1000,"ddd, mmm d, yyyy")+" at "+
self.dateFormat_.formatDateWith(ts*1000,"h:MM TT")
if(title.length>0){title=title+" - ";}
title=title+fulldate;cmjQuery_(div).attr("title",title);cmjQuery_(node).append(div);};proto.AppendAttachmentIcon=function(node,hasattachments,attachments){if(hasattachments==1){var div=document.createElement("div");cmjQuery_(div).attr("class","mb-preview-with-attachment");var title="";for(var i=0;i<attachments.length;i++){title=title+attachments[i].n+" ";}
cmjQuery_(div).attr("title",title);cmjQuery_(node).append(div);}};proto.ConvertEmailToHyperlink=function(node,email){cmjQuery_("a[href^=mailto]",node).click(function(){var url=self.GetBaseMailUrl(email)+"?view=cm&fs=1&tf=1&to="+
encodeURIComponent(cmjQuery_(this).text());window.open(url,'','width=700, height=780');return false;});};proto.GetMouseWheelDelta=function(e){var delta=0;if(e.detail){delta=(-1*e.detail/3);}else if(e.wheelDelta){delta=e.wheelDelta/120;}
return delta;};proto.MouseWheelHandler=function(e){var func=function(e){var delta=self.GetMouseWheelDelta(e);var scrolltop=cmjQuery_(this).attr("scrollTop");if(delta>0&&scrolltop==0){return false;}
var scrolllheight=cmjQuery_(this).attr("scrollHeight");var offsetheight=cmjQuery_(this).attr("offsetHeight");if(delta<0&&(scrolltop>=(scrolllheight-offsetheight))){e.preventDefault();return false;}};return func;};proto.AddShareLinks=function(anchorNode,email,iswidget){var table=document.createElement("table");var tbody=document.createElement("tbody");var tr=document.createElement("tr");if(iswidget==true){var td=document.createElement("td");cmjQuery_(td).width("100%");cmjQuery_(td).attr("class","mb-share mb-grey");cmjQuery_(td).html("Like CloudMagic? ");cmjQuery_(tr).append(td);cmjQuery_(table).css('width','260px');}else{var div=document.createElement("div");cmjQuery_(div).attr("class","mb-share");cmjQuery_(div).html("Like CloudMagic? ");cmjQuery_(anchorNode).append(div);cmjQuery_(table).css('width','140px');}
var td=document.createElement("td");cmjQuery_(td).attr("class","mb-share-on-fb");cmjQuery_(td).attr("title","Share on Facebook");cmjQuery_(td).width(64);cmjQuery_(td).html("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");cmjQuery_(td).click(function(){var fbURL="http://www.facebook.com/sharer.php?u="+encodeURIComponent("http://www.cloudmagic.com")+"&t="+encodeURIComponent("Instant search for your online data");self.OpenWindow(fbURL,"");});cmjQuery_(tr).append(td);var td=document.createElement("td");cmjQuery_(td).attr("class","mb-share-on-tweet");cmjQuery_(td).attr("title","Share on Twitter");cmjQuery_(td).html("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");cmjQuery_(td).width(60);cmjQuery_(td).click(function(){var tweetURL="http://twitter.com/share?text=Instant%20search%20for%20your%20online%20data&url=http://www.cloudmagic.com&via=cldmgc";self.OpenWindow(tweetURL,"");});cmjQuery_(tr).append(td);td=document.createElement("td");cmjQuery_(td).attr("class","mb-share-on-email");cmjQuery_(td).attr("title","Share via Email");cmjQuery_(td).html("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");cmjQuery_(td).width(22);cmjQuery_(td).click(function(){if(email==null){email="m@gmail.com";}
var composeURL=self.GetBaseMailUrl(email)+"?view=cm&fs=1&tf=1&to=&su="+
encodeURIComponent("CloudMagic - Instant search for your online data")+"&body="+encodeURIComponent("Hi, I found this cool tool - http://cloudmagic.com and thought you may find it useful too. Instant search for Gmail, Google Docs and Contacts.");self.OpenWindow(composeURL,"");});cmjQuery_(tr).append(td);cmjQuery_(tbody).append(tr);cmjQuery_(table).attr({cellspacing:0,cellpadding:0});cmjQuery_(table).css('table-layout','fixed');cmjQuery_(table).attr("class","mb-font-normal");cmjQuery_(table).css('height','24px');cmjQuery_(table).append(tbody);cmjQuery_(anchorNode).append(table);};proto.OpenWindow=function(url,caption){var CM_POPUP_WINDOW="fullscreen=no,titlebar=no,menubar=no,"+"location=no,toolbar=yes,resizable=yes,"+"scrollbars=yes,status=no,top=100,left=50"+",height=600,width=900";window.open(url,caption,CM_POPUP_WINDOW);};proto.CMLOG=function(msg){try{if(window.top.console){window.top.console.log(msg);}}catch(e){}};proto.CMLTS=function(name){};proto.CMLTE=function(name){};proto.MBCLS=function(){};proto.strnicmp=function(a,b,length){a=a.substring(0,length);b=b.substring(0,length);return a.toLowerCase()==b.toLowerCase();};proto.strncmp=function(a,b,length){a=a.substring(0,length);b=b.substring(0,length);return a==b;};proto.TriggerKeypress=function(node){var e;if(cmjQuery_.browser.webkit==true){e=cmjQuery_.Event("keyup");e.keyCode=13;}else{e=cmjQuery_.Event("keypress");e.which=13;}
cmjQuery_(node).trigger(e);};proto.GetLoggedEmailId=function(){var email=null;var node=cmjQuery_('div>span.gbps2');if(node.length!=0){email=node.text();return email;}
var node=cmjQuery_('#gbmpc>div');if(node.length!=0){email=node.text();}else{node=cmjQuery_('#guser>nobr>b>a>u');if(node.length!=0){email=node.text();}else{node=cmjQuery_('#guser>nobr>b');if(node.length!=0){email=node.text();}else{node=cmjQuery_('#guser>nobr>span>span>a>u>b');if(node.length!=0){email=node.text();}}}}
return email;};proto.GetDomainInfo=function(){var domaininfo=null;if(window.location.host.indexOf("mail.")!=-1){domaininfo=self.c_.MAIL;}else if(window.location.host.indexOf("docs.")!=-1||window.location.host.indexOf("spreadsheets.")!=-1){domaininfo=self.c_.DOC;}else if(window.location.host.indexOf("www.google.com/calendar/")!=-1){domaininfo=self.c_.EVENT;}
return domaininfo;};proto.GetURLParameters=function(name){name=name.replace(/[\[]/,"/\[").replace(/[\]]/,"\\\]");var regexS="[\\?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(window.location.href);if(results==null)
return"";return decodeURIComponent(results[1]);};proto.GetDirectSearchUrl=function(version){var direct_ui_url;if(window.location.protocol=="chrome-extension:"){direct_ui_url="res/cloudmagic.html?ts="+CloudMagic.CMSCRIPTTS+"#search";}else if(window.location.protocol=="chrome:"){direct_ui_url="chrome://cloudmagic/content/res/cloudmagic.html?ts="+CloudMagic.CMSCRIPTTS+"#search";}else if(window.location.protocol=="file:"){direct_ui_url="cloudmagic.html?ts="+CloudMagic.CMSCRIPTTS+"#search";}else{if(CloudMagic.CMBROWSER=="gc"){direct_ui_url="chrome-extension://"+document.body.getAttribute("CloudMagic_Ext_UUID")+"/res/cloudmagic.html";}else{direct_ui_url="chrome://cloudmagic/content/res/cloudmagic.html";}}
return direct_ui_url;};proto.SetPopoutWithSearchUrl=function(validquery,query,tabtype,version){var direct_ui_url=self.GetDirectSearchUrl(version);if(validquery==true){var category="";switch(tabtype)
{case self.c_.MAIL:category="mail";break;case self.c_.DOC:category="doc";break;case self.c_.CONTACT:category="contact";break;}
direct_ui_url=direct_ui_url+"?category="+encodeURIComponent(category);direct_ui_url=direct_ui_url+"&query="+encodeURIComponent(query);}
cmjQuery_("#mbNewWindowWithThisSearch").attr("href",direct_ui_url);};proto.IsScrolledIntoView=function(elem){var docViewTop=cmjQuery_(window).scrollTop(),docViewBottom=docViewTop+cmjQuery_(window).height(),elemTop=cmjQuery_(elem).offset().top,elemBottom=elemTop+cmjQuery_(elem).height();return((elemTop+((elemBottom-elemTop)/2))>=docViewTop&&((elemTop+((elemBottom-elemTop)/2))<=docViewBottom));};proto.Sleep=function(interval){var ctime=new Date().getTime();while(1){var time=new Date().getTime();if(time-ctime>=interval){break;}}};proto.HTMLSanitizer=function(emailcontent){emailcontent=CloudMagic.HTMLSanitizer.sanitize(emailcontent,function(ahref){var patt1=/(^(https?|ftp):\/\/|^www\d{0,3}[.])(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\//i;var patt2=/^mailto:[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/i;var patt3=/^callto:/i;if(patt1.test(ahref)!=true&&patt2.test(ahref)!=true&&patt3.test(ahref)!=true){ahref=" ";}
return ahref;});return emailcontent;}};